var Om=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Aj=Om((yt,_t)=>{function Pm(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const l in n)if(l!=="default"&&!(l in e)){const g=Object.getOwnPropertyDescriptor(n,l);g&&Object.defineProperty(e,l,g.get?g:{enumerable:!0,get:()=>n[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const g of l)if(g.type==="childList")for(const y of g.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&n(y)}).observe(document,{childList:!0,subtree:!0});function r(l){const g={};return l.integrity&&(g.integrity=l.integrity),l.referrerpolicy&&(g.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?g.credentials="include":l.crossorigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function n(l){if(l.ep)return;l.ep=!0;const g=r(l);fetch(l.href,g)}})();var Wa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function km(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Am(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){if(this instanceof n){var l=[null];l.push.apply(l,arguments);var g=Function.bind.apply(t,l);return new g}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,l.get?l:{enumerable:!0,get:function(){return e[n]}})}),r}var Eo={},Mm={get exports(){return Eo},set exports(e){Eo=e}},os={},ne={},Dm={get exports(){return ne},set exports(e){ne=e}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ka=Symbol.for("react.element"),Fm=Symbol.for("react.portal"),Rm=Symbol.for("react.fragment"),Lm=Symbol.for("react.strict_mode"),$m=Symbol.for("react.profiler"),jm=Symbol.for("react.provider"),Im=Symbol.for("react.context"),Bm=Symbol.for("react.forward_ref"),Nm=Symbol.for("react.suspense"),zm=Symbol.for("react.memo"),Hm=Symbol.for("react.lazy"),Oh=Symbol.iterator;function Um(e){return e===null||typeof e!="object"?null:(e=Oh&&e[Oh]||e["@@iterator"],typeof e=="function"?e:null)}var Ip={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bp=Object.assign,Np={};function di(e,t,r){this.props=e,this.context=t,this.refs=Np,this.updater=r||Ip}di.prototype.isReactComponent={};di.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};di.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zp(){}zp.prototype=di.prototype;function Iu(e,t,r){this.props=e,this.context=t,this.refs=Np,this.updater=r||Ip}var Bu=Iu.prototype=new zp;Bu.constructor=Iu;Bp(Bu,di.prototype);Bu.isPureReactComponent=!0;var Ph=Array.isArray,Hp=Object.prototype.hasOwnProperty,Nu={current:null},Up={key:!0,ref:!0,__self:!0,__source:!0};function Wp(e,t,r){var n,l={},g=null,y=null;if(t!=null)for(n in t.ref!==void 0&&(y=t.ref),t.key!==void 0&&(g=""+t.key),t)Hp.call(t,n)&&!Up.hasOwnProperty(n)&&(l[n]=t[n]);var u=arguments.length-2;if(u===1)l.children=r;else if(1<u){for(var i=Array(u),h=0;h<u;h++)i[h]=arguments[h+2];l.children=i}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)l[n]===void 0&&(l[n]=u[n]);return{$$typeof:ka,type:e,key:g,ref:y,props:l,_owner:Nu.current}}function Wm(e,t){return{$$typeof:ka,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ka}function Xm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var kh=/\/+/g;function zs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xm(""+e.key):t.toString(36)}function fo(e,t,r,n,l){var g=typeof e;(g==="undefined"||g==="boolean")&&(e=null);var y=!1;if(e===null)y=!0;else switch(g){case"string":case"number":y=!0;break;case"object":switch(e.$$typeof){case ka:case Fm:y=!0}}if(y)return y=e,l=l(y),e=n===""?"."+zs(y,0):n,Ph(l)?(r="",e!=null&&(r=e.replace(kh,"$&/")+"/"),fo(l,t,r,"",function(h){return h})):l!=null&&(zu(l)&&(l=Wm(l,r+(!l.key||y&&y.key===l.key?"":(""+l.key).replace(kh,"$&/")+"/")+e)),t.push(l)),1;if(y=0,n=n===""?".":n+":",Ph(e))for(var u=0;u<e.length;u++){g=e[u];var i=n+zs(g,u);y+=fo(g,t,r,i,l)}else if(i=Um(e),typeof i=="function")for(e=i.call(e),u=0;!(g=e.next()).done;)g=g.value,i=n+zs(g,u++),y+=fo(g,t,r,i,l);else if(g==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return y}function Xa(e,t,r){if(e==null)return e;var n=[],l=0;return fo(e,n,"","",function(g){return t.call(r,g,l++)}),n}function Gm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},po={transition:null},Ym={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:po,ReactCurrentOwner:Nu};xe.Children={map:Xa,forEach:function(e,t,r){Xa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xa(e,function(){t++}),t},toArray:function(e){return Xa(e,function(t){return t})||[]},only:function(e){if(!zu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=di;xe.Fragment=Rm;xe.Profiler=$m;xe.PureComponent=Iu;xe.StrictMode=Lm;xe.Suspense=Nm;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ym;xe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Bp({},e.props),l=e.key,g=e.ref,y=e._owner;if(t!=null){if(t.ref!==void 0&&(g=t.ref,y=Nu.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(i in t)Hp.call(t,i)&&!Up.hasOwnProperty(i)&&(n[i]=t[i]===void 0&&u!==void 0?u[i]:t[i])}var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){u=Array(i);for(var h=0;h<i;h++)u[h]=arguments[h+2];n.children=u}return{$$typeof:ka,type:e.type,key:l,ref:g,props:n,_owner:y}};xe.createContext=function(e){return e={$$typeof:Im,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jm,_context:e},e.Consumer=e};xe.createElement=Wp;xe.createFactory=function(e){var t=Wp.bind(null,e);return t.type=e,t};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:Bm,render:e}};xe.isValidElement=zu;xe.lazy=function(e){return{$$typeof:Hm,_payload:{_status:-1,_result:e},_init:Gm}};xe.memo=function(e,t){return{$$typeof:zm,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=po.transition;po.transition={};try{e()}finally{po.transition=t}};xe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};xe.useCallback=function(e,t){return at.current.useCallback(e,t)};xe.useContext=function(e){return at.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return at.current.useDeferredValue(e)};xe.useEffect=function(e,t){return at.current.useEffect(e,t)};xe.useId=function(){return at.current.useId()};xe.useImperativeHandle=function(e,t,r){return at.current.useImperativeHandle(e,t,r)};xe.useInsertionEffect=function(e,t){return at.current.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return at.current.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return at.current.useMemo(e,t)};xe.useReducer=function(e,t,r){return at.current.useReducer(e,t,r)};xe.useRef=function(e){return at.current.useRef(e)};xe.useState=function(e){return at.current.useState(e)};xe.useSyncExternalStore=function(e,t,r){return at.current.useSyncExternalStore(e,t,r)};xe.useTransition=function(){return at.current.useTransition()};xe.version="18.2.0";(function(e){e.exports=xe})(Dm);const E=km(ne),Pl=Pm({__proto__:null,default:E},[ne]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm=ne,Km=Symbol.for("react.element"),qm=Symbol.for("react.fragment"),Qm=Object.prototype.hasOwnProperty,Jm=Vm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zm={key:!0,ref:!0,__self:!0,__source:!0};function Xp(e,t,r){var n,l={},g=null,y=null;r!==void 0&&(g=""+r),t.key!==void 0&&(g=""+t.key),t.ref!==void 0&&(y=t.ref);for(n in t)Qm.call(t,n)&&!Zm.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)l[n]===void 0&&(l[n]=t[n]);return{$$typeof:Km,type:e,key:g,ref:y,props:l,_owner:Jm.current}}os.Fragment=qm;os.jsx=Xp;os.jsxs=Xp;(function(e){e.exports=os})(Mm);const Se=Eo.jsx,Bt=Eo.jsxs;var kl={},Al={},ey={get exports(){return Al},set exports(e){Al=e}},Ct={},Ml={},ty={get exports(){return Ml},set exports(e){Ml=e}},Gp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,C){var P=U.length;U.push(C);e:for(;0<P;){var A=P-1>>>1,M=U[A];if(0<l(M,C))U[A]=C,U[P]=M,P=A;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var C=U[0],P=U.pop();if(P!==C){U[0]=P;e:for(var A=0,M=U.length,N=M>>>1;A<N;){var k=2*(A+1)-1,T=U[k],F=k+1,$=U[F];if(0>l(T,P))F<M&&0>l($,T)?(U[A]=$,U[F]=P,A=F):(U[A]=T,U[k]=P,A=k);else if(F<M&&0>l($,P))U[A]=$,U[F]=P,A=F;else break e}}return C}function l(U,C){var P=U.sortIndex-C.sortIndex;return P!==0?P:U.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;e.unstable_now=function(){return g.now()}}else{var y=Date,u=y.now();e.unstable_now=function(){return y.now()-u}}var i=[],h=[],d=1,o=null,a=3,s=!1,c=!1,p=!1,f=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(U){for(var C=r(h);C!==null;){if(C.callback===null)n(h);else if(C.startTime<=U)n(h),C.sortIndex=C.expirationTime,t(i,C);else break;C=r(h)}}function x(U){if(p=!1,_(U),!c)if(r(i)!==null)c=!0,ue(w);else{var C=r(h);C!==null&&de(x,C.startTime-U)}}function w(U,C){c=!1,p&&(p=!1,v(O),O=-1),s=!0;var P=a;try{for(_(C),o=r(i);o!==null&&(!(o.expirationTime>C)||U&&!Q());){var A=o.callback;if(typeof A=="function"){o.callback=null,a=o.priorityLevel;var M=A(o.expirationTime<=C);C=e.unstable_now(),typeof M=="function"?o.callback=M:o===r(i)&&n(i),_(C)}else n(i);o=r(i)}if(o!==null)var N=!0;else{var k=r(h);k!==null&&de(x,k.startTime-C),N=!1}return N}finally{o=null,a=P,s=!1}}var b=!1,S=null,O=-1,I=5,B=-1;function Q(){return!(e.unstable_now()-B<I)}function ie(){if(S!==null){var U=e.unstable_now();B=U;var C=!0;try{C=S(!0,U)}finally{C?le():(b=!1,S=null)}}else b=!1}var le;if(typeof m=="function")le=function(){m(ie)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,re=J.port2;J.port1.onmessage=ie,le=function(){re.postMessage(null)}}else le=function(){f(ie,0)};function ue(U){S=U,b||(b=!0,le())}function de(U,C){O=f(function(){U(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){c||s||(c=!0,ue(w))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return a},e.unstable_getFirstCallbackNode=function(){return r(i)},e.unstable_next=function(U){switch(a){case 1:case 2:case 3:var C=3;break;default:C=a}var P=a;a=C;try{return U()}finally{a=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,C){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var P=a;a=U;try{return C()}finally{a=P}},e.unstable_scheduleCallback=function(U,C,P){var A=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?A+P:A):P=A,U){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=P+M,U={id:d++,callback:C,priorityLevel:U,startTime:P,expirationTime:M,sortIndex:-1},P>A?(U.sortIndex=P,t(h,U),r(i)===null&&U===r(h)&&(p?(v(O),O=-1):p=!0,de(x,P-A))):(U.sortIndex=M,t(i,U),c||s||(c=!0,ue(w))),U},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(U){var C=a;return function(){var P=a;a=C;try{return U.apply(this,arguments)}finally{a=P}}}})(Gp);(function(e){e.exports=Gp})(ty);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp=ne,wt=Ml;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vp=new Set,la={};function cn(e,t){ii(e,t),ii(e+"Capture",t)}function ii(e,t){for(la[e]=t,e=0;e<t.length;e++)Vp.add(t[e])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dl=Object.prototype.hasOwnProperty,ry=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ah={},Mh={};function ny(e){return Dl.call(Mh,e)?!0:Dl.call(Ah,e)?!1:ry.test(e)?Mh[e]=!0:(Ah[e]=!0,!1)}function iy(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ay(e,t,r,n){if(t===null||typeof t>"u"||iy(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,r,n,l,g,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=g,this.removeEmptyString=y}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hu=/[\-:]([a-z])/g;function Uu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hu,Uu);qe[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hu,Uu);qe[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hu,Uu);qe[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wu(e,t,r,n){var l=qe.hasOwnProperty(t)?qe[t]:null;(l!==null?l.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ay(t,r,l,n)&&(r=null),n||l===null?ny(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,n=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var cr=Yp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ga=Symbol.for("react.element"),In=Symbol.for("react.portal"),Bn=Symbol.for("react.fragment"),Xu=Symbol.for("react.strict_mode"),Fl=Symbol.for("react.profiler"),Kp=Symbol.for("react.provider"),qp=Symbol.for("react.context"),Gu=Symbol.for("react.forward_ref"),Rl=Symbol.for("react.suspense"),Ll=Symbol.for("react.suspense_list"),Yu=Symbol.for("react.memo"),mr=Symbol.for("react.lazy"),Qp=Symbol.for("react.offscreen"),Dh=Symbol.iterator;function ki(e){return e===null||typeof e!="object"?null:(e=Dh&&e[Dh]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Object.assign,Hs;function Ui(e){if(Hs===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Hs=t&&t[1]||""}return`
`+Hs+e}var Us=!1;function Ws(e,t){if(!e||Us)return"";Us=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var l=h.stack.split(`
`),g=n.stack.split(`
`),y=l.length-1,u=g.length-1;1<=y&&0<=u&&l[y]!==g[u];)u--;for(;1<=y&&0<=u;y--,u--)if(l[y]!==g[u]){if(y!==1||u!==1)do if(y--,u--,0>u||l[y]!==g[u]){var i=`
`+l[y].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=y&&0<=u);break}}}finally{Us=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ui(e):""}function oy(e){switch(e.tag){case 5:return Ui(e.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 2:case 15:return e=Ws(e.type,!1),e;case 11:return e=Ws(e.type.render,!1),e;case 1:return e=Ws(e.type,!0),e;default:return""}}function $l(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bn:return"Fragment";case In:return"Portal";case Fl:return"Profiler";case Xu:return"StrictMode";case Rl:return"Suspense";case Ll:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qp:return(e.displayName||"Context")+".Consumer";case Kp:return(e._context.displayName||"Context")+".Provider";case Gu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yu:return t=e.displayName||null,t!==null?t:$l(e.type)||"Memo";case mr:t=e._payload,e=e._init;try{return $l(e(t))}catch{}}return null}function sy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $l(t);case 8:return t===Xu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ly(e){var t=Jp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,g=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(y){n=""+y,g.call(this,y)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ya(e){e._valueTracker||(e._valueTracker=ly(e))}function Zp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Jp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Oo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jl(e,t){var r=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eg(e,t){t=t.checked,t!=null&&Wu(e,"checked",t,!1)}function Il(e,t){eg(e,t);var r=Fr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bl(e,t.type,Fr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bl(e,t,r){(t!=="number"||Oo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Wi=Array.isArray;function Qn(e,t,r,n){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fr(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Nl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(te(92));if(Wi(r)){if(1<r.length)throw Error(te(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fr(r)}}function tg(e,t){var r=Fr(t.value),n=Fr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function $h(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Va,ng=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Va=Va||document.createElement("div"),Va.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Va.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ua(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uy=["Webkit","ms","Moz","O"];Object.keys(Qi).forEach(function(e){uy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qi[t]=Qi[e]})});function ig(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Qi.hasOwnProperty(e)&&Qi[e]?(""+t).trim():t+"px"}function ag(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,l=ig(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,l):e[r]=l}}var cy=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hl(e,t){if(t){if(cy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function Ul(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=null;function Vu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xl=null,Jn=null,Zn=null;function jh(e){if(e=Da(e)){if(typeof Xl!="function")throw Error(te(280));var t=e.stateNode;t&&(t=hs(t),Xl(e.stateNode,e.type,t))}}function og(e){Jn?Zn?Zn.push(e):Zn=[e]:Jn=e}function sg(){if(Jn){var e=Jn,t=Zn;if(Zn=Jn=null,jh(e),t)for(e=0;e<t.length;e++)jh(t[e])}}function lg(e,t){return e(t)}function ug(){}var Xs=!1;function cg(e,t,r){if(Xs)return e(t,r);Xs=!0;try{return lg(e,t,r)}finally{Xs=!1,(Jn!==null||Zn!==null)&&(ug(),sg())}}function ca(e,t){var r=e.stateNode;if(r===null)return null;var n=hs(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(te(231,t,typeof r));return r}var Gl=!1;if(or)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){Gl=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Gl=!1}function hy(e,t,r,n,l,g,y,u,i){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(d){this.onError(d)}}var Ji=!1,Po=null,ko=!1,Yl=null,fy={onError:function(e){Ji=!0,Po=e}};function dy(e,t,r,n,l,g,y,u,i){Ji=!1,Po=null,hy.apply(fy,arguments)}function py(e,t,r,n,l,g,y,u,i){if(dy.apply(this,arguments),Ji){if(Ji){var h=Po;Ji=!1,Po=null}else throw Error(te(198));ko||(ko=!0,Yl=h)}}function hn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function hg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ih(e){if(hn(e)!==e)throw Error(te(188))}function gy(e){var t=e.alternate;if(!t){if(t=hn(e),t===null)throw Error(te(188));return t!==e?null:e}for(var r=e,n=t;;){var l=r.return;if(l===null)break;var g=l.alternate;if(g===null){if(n=l.return,n!==null){r=n;continue}break}if(l.child===g.child){for(g=l.child;g;){if(g===r)return Ih(l),e;if(g===n)return Ih(l),t;g=g.sibling}throw Error(te(188))}if(r.return!==n.return)r=l,n=g;else{for(var y=!1,u=l.child;u;){if(u===r){y=!0,r=l,n=g;break}if(u===n){y=!0,n=l,r=g;break}u=u.sibling}if(!y){for(u=g.child;u;){if(u===r){y=!0,r=g,n=l;break}if(u===n){y=!0,n=g,r=l;break}u=u.sibling}if(!y)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?e:t}function fg(e){return e=gy(e),e!==null?dg(e):null}function dg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dg(e);if(t!==null)return t;e=e.sibling}return null}var pg=wt.unstable_scheduleCallback,Bh=wt.unstable_cancelCallback,vy=wt.unstable_shouldYield,my=wt.unstable_requestPaint,Ie=wt.unstable_now,yy=wt.unstable_getCurrentPriorityLevel,Ku=wt.unstable_ImmediatePriority,gg=wt.unstable_UserBlockingPriority,Ao=wt.unstable_NormalPriority,_y=wt.unstable_LowPriority,vg=wt.unstable_IdlePriority,ss=null,Vt=null;function xy(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(ss,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Cy,wy=Math.log,by=Math.LN2;function Cy(e){return e>>>=0,e===0?32:31-(wy(e)/by|0)|0}var Ka=64,qa=4194304;function Xi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,l=e.suspendedLanes,g=e.pingedLanes,y=r&268435455;if(y!==0){var u=y&~l;u!==0?n=Xi(u):(g&=y,g!==0&&(n=Xi(g)))}else y=r&~l,y!==0?n=Xi(y):g!==0&&(n=Xi(g));if(n===0)return 0;if(t!==0&&t!==n&&!(t&l)&&(l=n&-n,g=t&-t,l>=g||l===16&&(g&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Nt(t),l=1<<r,n|=e[r],t&=~l;return n}function Sy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ty(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,g=e.pendingLanes;0<g;){var y=31-Nt(g),u=1<<y,i=l[y];i===-1?(!(u&r)||u&n)&&(l[y]=Sy(u,t)):i<=t&&(e.expiredLanes|=u),g&=~u}}function Vl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mg(){var e=Ka;return Ka<<=1,!(Ka&4194240)&&(Ka=64),e}function Gs(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Aa(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=r}function Ey(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-Nt(r),g=1<<l;t[l]=0,n[l]=-1,e[l]=-1,r&=~g}}function qu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Nt(r),l=1<<n;l&t|e[n]&t&&(e[n]|=t),r&=~l}}var Ce=0;function yg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _g,Qu,xg,wg,bg,Kl=!1,Qa=[],Sr=null,Tr=null,Er=null,ha=new Map,fa=new Map,_r=[],Oy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nh(e,t){switch(e){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":ha.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fa.delete(t.pointerId)}}function Mi(e,t,r,n,l,g){return e===null||e.nativeEvent!==g?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:g,targetContainers:[l]},t!==null&&(t=Da(t),t!==null&&Qu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Py(e,t,r,n,l){switch(t){case"focusin":return Sr=Mi(Sr,e,t,r,n,l),!0;case"dragenter":return Tr=Mi(Tr,e,t,r,n,l),!0;case"mouseover":return Er=Mi(Er,e,t,r,n,l),!0;case"pointerover":var g=l.pointerId;return ha.set(g,Mi(ha.get(g)||null,e,t,r,n,l)),!0;case"gotpointercapture":return g=l.pointerId,fa.set(g,Mi(fa.get(g)||null,e,t,r,n,l)),!0}return!1}function Cg(e){var t=Qr(e.target);if(t!==null){var r=hn(t);if(r!==null){if(t=r.tag,t===13){if(t=hg(r),t!==null){e.blockedOn=t,bg(e.priority,function(){xg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function go(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ql(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Wl=n,r.target.dispatchEvent(n),Wl=null}else return t=Da(r),t!==null&&Qu(t),e.blockedOn=r,!1;t.shift()}return!0}function zh(e,t,r){go(e)&&r.delete(t)}function ky(){Kl=!1,Sr!==null&&go(Sr)&&(Sr=null),Tr!==null&&go(Tr)&&(Tr=null),Er!==null&&go(Er)&&(Er=null),ha.forEach(zh),fa.forEach(zh)}function Di(e,t){e.blockedOn===t&&(e.blockedOn=null,Kl||(Kl=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,ky)))}function da(e){function t(l){return Di(l,e)}if(0<Qa.length){Di(Qa[0],e);for(var r=1;r<Qa.length;r++){var n=Qa[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Sr!==null&&Di(Sr,e),Tr!==null&&Di(Tr,e),Er!==null&&Di(Er,e),ha.forEach(t),fa.forEach(t),r=0;r<_r.length;r++)n=_r[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<_r.length&&(r=_r[0],r.blockedOn===null);)Cg(r),r.blockedOn===null&&_r.shift()}var ei=cr.ReactCurrentBatchConfig,Do=!0;function Ay(e,t,r,n){var l=Ce,g=ei.transition;ei.transition=null;try{Ce=1,Ju(e,t,r,n)}finally{Ce=l,ei.transition=g}}function My(e,t,r,n){var l=Ce,g=ei.transition;ei.transition=null;try{Ce=4,Ju(e,t,r,n)}finally{Ce=l,ei.transition=g}}function Ju(e,t,r,n){if(Do){var l=ql(e,t,r,n);if(l===null)rl(e,t,n,Fo,r),Nh(e,n);else if(Py(l,e,t,r,n))n.stopPropagation();else if(Nh(e,n),t&4&&-1<Oy.indexOf(e)){for(;l!==null;){var g=Da(l);if(g!==null&&_g(g),g=ql(e,t,r,n),g===null&&rl(e,t,n,Fo,r),g===l)break;l=g}l!==null&&n.stopPropagation()}else rl(e,t,n,null,r)}}var Fo=null;function ql(e,t,r,n){if(Fo=null,e=Vu(n),e=Qr(e),e!==null)if(t=hn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=hg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fo=e,null}function Sg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yy()){case Ku:return 1;case gg:return 4;case Ao:case _y:return 16;case vg:return 536870912;default:return 16}default:return 16}}var wr=null,Zu=null,vo=null;function Tg(){if(vo)return vo;var e,t=Zu,r=t.length,n,l="value"in wr?wr.value:wr.textContent,g=l.length;for(e=0;e<r&&t[e]===l[e];e++);var y=r-e;for(n=1;n<=y&&t[r-n]===l[g-n];n++);return vo=l.slice(e,1<n?1-n:void 0)}function mo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ja(){return!0}function Hh(){return!1}function St(e){function t(r,n,l,g,y){this._reactName=r,this._targetInst=l,this.type=n,this.nativeEvent=g,this.target=y,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(g):g[u]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ja:Hh,this.isPropagationStopped=Hh,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ja)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ja)},persist:function(){},isPersistent:Ja}),t}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ec=St(pi),Ma=$e({},pi,{view:0,detail:0}),Dy=St(Ma),Ys,Vs,Fi,ls=$e({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fi&&(Fi&&e.type==="mousemove"?(Ys=e.screenX-Fi.screenX,Vs=e.screenY-Fi.screenY):Vs=Ys=0,Fi=e),Ys)},movementY:function(e){return"movementY"in e?e.movementY:Vs}}),Uh=St(ls),Fy=$e({},ls,{dataTransfer:0}),Ry=St(Fy),Ly=$e({},Ma,{relatedTarget:0}),Ks=St(Ly),$y=$e({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),jy=St($y),Iy=$e({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),By=St(Iy),Ny=$e({},pi,{data:0}),Wh=St(Ny),zy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uy[e])?!!t[e]:!1}function tc(){return Wy}var Xy=$e({},Ma,{key:function(e){if(e.key){var t=zy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(e){return e.type==="keypress"?mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gy=St(Xy),Yy=$e({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xh=St(Yy),Vy=$e({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),Ky=St(Vy),qy=$e({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qy=St(qy),Jy=$e({},ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zy=St(Jy),e1=[9,13,27,32],rc=or&&"CompositionEvent"in window,Zi=null;or&&"documentMode"in document&&(Zi=document.documentMode);var t1=or&&"TextEvent"in window&&!Zi,Eg=or&&(!rc||Zi&&8<Zi&&11>=Zi),Gh=String.fromCharCode(32),Yh=!1;function Og(e,t){switch(e){case"keyup":return e1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nn=!1;function r1(e,t){switch(e){case"compositionend":return Pg(t);case"keypress":return t.which!==32?null:(Yh=!0,Gh);case"textInput":return e=t.data,e===Gh&&Yh?null:e;default:return null}}function n1(e,t){if(Nn)return e==="compositionend"||!rc&&Og(e,t)?(e=Tg(),vo=Zu=wr=null,Nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eg&&t.locale!=="ko"?null:t.data;default:return null}}var i1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!i1[e.type]:t==="textarea"}function kg(e,t,r,n){og(n),t=Ro(t,"onChange"),0<t.length&&(r=new ec("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ea=null,pa=null;function a1(e){Ng(e,0)}function us(e){var t=Un(e);if(Zp(t))return e}function o1(e,t){if(e==="change")return t}var Ag=!1;if(or){var qs;if(or){var Qs="oninput"in document;if(!Qs){var Kh=document.createElement("div");Kh.setAttribute("oninput","return;"),Qs=typeof Kh.oninput=="function"}qs=Qs}else qs=!1;Ag=qs&&(!document.documentMode||9<document.documentMode)}function qh(){ea&&(ea.detachEvent("onpropertychange",Mg),pa=ea=null)}function Mg(e){if(e.propertyName==="value"&&us(pa)){var t=[];kg(t,pa,e,Vu(e)),cg(a1,t)}}function s1(e,t,r){e==="focusin"?(qh(),ea=t,pa=r,ea.attachEvent("onpropertychange",Mg)):e==="focusout"&&qh()}function l1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return us(pa)}function u1(e,t){if(e==="click")return us(t)}function c1(e,t){if(e==="input"||e==="change")return us(t)}function h1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:h1;function ga(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var l=r[n];if(!Dl.call(t,l)||!Ht(e[l],t[l]))return!1}return!0}function Qh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jh(e,t){var r=Qh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qh(r)}}function Dg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fg(){for(var e=window,t=Oo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Oo(e.document)}return t}function nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function f1(e){var t=Fg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Dg(r.ownerDocument.documentElement,r)){if(n!==null&&nc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,g=Math.min(n.start,l);n=n.end===void 0?g:Math.min(n.end,l),!e.extend&&g>n&&(l=n,n=g,g=l),l=Jh(r,g);var y=Jh(r,n);l&&y&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),g>n?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var d1=or&&"documentMode"in document&&11>=document.documentMode,zn=null,Ql=null,ta=null,Jl=!1;function Zh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jl||zn==null||zn!==Oo(n)||(n=zn,"selectionStart"in n&&nc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ta&&ga(ta,n)||(ta=n,n=Ro(Ql,"onSelect"),0<n.length&&(t=new ec("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=zn)))}function Za(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hn={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionend:Za("Transition","TransitionEnd")},Js={},Rg={};or&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function cs(e){if(Js[e])return Js[e];if(!Hn[e])return e;var t=Hn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Rg)return Js[e]=t[r];return e}var Lg=cs("animationend"),$g=cs("animationiteration"),jg=cs("animationstart"),Ig=cs("transitionend"),Bg=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Bg.set(e,t),cn(t,[e])}for(var Zs=0;Zs<ef.length;Zs++){var el=ef[Zs],p1=el.toLowerCase(),g1=el[0].toUpperCase()+el.slice(1);Ir(p1,"on"+g1)}Ir(Lg,"onAnimationEnd");Ir($g,"onAnimationIteration");Ir(jg,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(Ig,"onTransitionEnd");ii("onMouseEnter",["mouseout","mouseover"]);ii("onMouseLeave",["mouseout","mouseover"]);ii("onPointerEnter",["pointerout","pointerover"]);ii("onPointerLeave",["pointerout","pointerover"]);cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gi));function tf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,py(n,t,void 0,e),e.currentTarget=null}function Ng(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],l=n.event;n=n.listeners;e:{var g=void 0;if(t)for(var y=n.length-1;0<=y;y--){var u=n[y],i=u.instance,h=u.currentTarget;if(u=u.listener,i!==g&&l.isPropagationStopped())break e;tf(l,u,h),g=i}else for(y=0;y<n.length;y++){if(u=n[y],i=u.instance,h=u.currentTarget,u=u.listener,i!==g&&l.isPropagationStopped())break e;tf(l,u,h),g=i}}}if(ko)throw e=Yl,ko=!1,Yl=null,e}function Pe(e,t){var r=t[nu];r===void 0&&(r=t[nu]=new Set);var n=e+"__bubble";r.has(n)||(zg(t,e,2,!1),r.add(n))}function tl(e,t,r){var n=0;t&&(n|=4),zg(r,e,n,t)}var eo="_reactListening"+Math.random().toString(36).slice(2);function va(e){if(!e[eo]){e[eo]=!0,Vp.forEach(function(r){r!=="selectionchange"&&(v1.has(r)||tl(r,!1,e),tl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eo]||(t[eo]=!0,tl("selectionchange",!1,t))}}function zg(e,t,r,n){switch(Sg(t)){case 1:var l=Ay;break;case 4:l=My;break;default:l=Ju}r=l.bind(null,t,r,e),l=void 0,!Gl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function rl(e,t,r,n,l){var g=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var y=n.tag;if(y===3||y===4){var u=n.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(y===4)for(y=n.return;y!==null;){var i=y.tag;if((i===3||i===4)&&(i=y.stateNode.containerInfo,i===l||i.nodeType===8&&i.parentNode===l))return;y=y.return}for(;u!==null;){if(y=Qr(u),y===null)return;if(i=y.tag,i===5||i===6){n=g=y;continue e}u=u.parentNode}}n=n.return}cg(function(){var h=g,d=Vu(r),o=[];e:{var a=Bg.get(e);if(a!==void 0){var s=ec,c=e;switch(e){case"keypress":if(mo(r)===0)break e;case"keydown":case"keyup":s=Gy;break;case"focusin":c="focus",s=Ks;break;case"focusout":c="blur",s=Ks;break;case"beforeblur":case"afterblur":s=Ks;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=Uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=Ry;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Ky;break;case Lg:case $g:case jg:s=jy;break;case Ig:s=Qy;break;case"scroll":s=Dy;break;case"wheel":s=Zy;break;case"copy":case"cut":case"paste":s=By;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Xh}var p=(t&4)!==0,f=!p&&e==="scroll",v=p?a!==null?a+"Capture":null:a;p=[];for(var m=h,_;m!==null;){_=m;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,v!==null&&(x=ca(m,v),x!=null&&p.push(ma(m,x,_)))),f)break;m=m.return}0<p.length&&(a=new s(a,c,null,r,d),o.push({event:a,listeners:p}))}}if(!(t&7)){e:{if(a=e==="mouseover"||e==="pointerover",s=e==="mouseout"||e==="pointerout",a&&r!==Wl&&(c=r.relatedTarget||r.fromElement)&&(Qr(c)||c[sr]))break e;if((s||a)&&(a=d.window===d?d:(a=d.ownerDocument)?a.defaultView||a.parentWindow:window,s?(c=r.relatedTarget||r.toElement,s=h,c=c?Qr(c):null,c!==null&&(f=hn(c),c!==f||c.tag!==5&&c.tag!==6)&&(c=null)):(s=null,c=h),s!==c)){if(p=Uh,x="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(p=Xh,x="onPointerLeave",v="onPointerEnter",m="pointer"),f=s==null?a:Un(s),_=c==null?a:Un(c),a=new p(x,m+"leave",s,r,d),a.target=f,a.relatedTarget=_,x=null,Qr(d)===h&&(p=new p(v,m+"enter",c,r,d),p.target=_,p.relatedTarget=f,x=p),f=x,s&&c)t:{for(p=s,v=c,m=0,_=p;_;_=xn(_))m++;for(_=0,x=v;x;x=xn(x))_++;for(;0<m-_;)p=xn(p),m--;for(;0<_-m;)v=xn(v),_--;for(;m--;){if(p===v||v!==null&&p===v.alternate)break t;p=xn(p),v=xn(v)}p=null}else p=null;s!==null&&rf(o,a,s,p,!1),c!==null&&f!==null&&rf(o,f,c,p,!0)}}e:{if(a=h?Un(h):window,s=a.nodeName&&a.nodeName.toLowerCase(),s==="select"||s==="input"&&a.type==="file")var w=o1;else if(Vh(a))if(Ag)w=c1;else{w=l1;var b=s1}else(s=a.nodeName)&&s.toLowerCase()==="input"&&(a.type==="checkbox"||a.type==="radio")&&(w=u1);if(w&&(w=w(e,h))){kg(o,w,r,d);break e}b&&b(e,a,h),e==="focusout"&&(b=a._wrapperState)&&b.controlled&&a.type==="number"&&Bl(a,"number",a.value)}switch(b=h?Un(h):window,e){case"focusin":(Vh(b)||b.contentEditable==="true")&&(zn=b,Ql=h,ta=null);break;case"focusout":ta=Ql=zn=null;break;case"mousedown":Jl=!0;break;case"contextmenu":case"mouseup":case"dragend":Jl=!1,Zh(o,r,d);break;case"selectionchange":if(d1)break;case"keydown":case"keyup":Zh(o,r,d)}var S;if(rc)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Nn?Og(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(Eg&&r.locale!=="ko"&&(Nn||O!=="onCompositionStart"?O==="onCompositionEnd"&&Nn&&(S=Tg()):(wr=d,Zu="value"in wr?wr.value:wr.textContent,Nn=!0)),b=Ro(h,O),0<b.length&&(O=new Wh(O,e,null,r,d),o.push({event:O,listeners:b}),S?O.data=S:(S=Pg(r),S!==null&&(O.data=S)))),(S=t1?r1(e,r):n1(e,r))&&(h=Ro(h,"onBeforeInput"),0<h.length&&(d=new Wh("onBeforeInput","beforeinput",null,r,d),o.push({event:d,listeners:h}),d.data=S))}Ng(o,t)})}function ma(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ro(e,t){for(var r=t+"Capture",n=[];e!==null;){var l=e,g=l.stateNode;l.tag===5&&g!==null&&(l=g,g=ca(e,r),g!=null&&n.unshift(ma(e,g,l)),g=ca(e,t),g!=null&&n.push(ma(e,g,l))),e=e.return}return n}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rf(e,t,r,n,l){for(var g=t._reactName,y=[];r!==null&&r!==n;){var u=r,i=u.alternate,h=u.stateNode;if(i!==null&&i===n)break;u.tag===5&&h!==null&&(u=h,l?(i=ca(r,g),i!=null&&y.unshift(ma(r,i,u))):l||(i=ca(r,g),i!=null&&y.push(ma(r,i,u)))),r=r.return}y.length!==0&&e.push({event:t,listeners:y})}var m1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function nf(e){return(typeof e=="string"?e:""+e).replace(m1,`
`).replace(y1,"")}function to(e,t,r){if(t=nf(t),nf(e)!==t&&r)throw Error(te(425))}function Lo(){}var Zl=null,eu=null;function tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ru=typeof setTimeout=="function"?setTimeout:void 0,_1=typeof clearTimeout=="function"?clearTimeout:void 0,af=typeof Promise=="function"?Promise:void 0,x1=typeof queueMicrotask=="function"?queueMicrotask:typeof af<"u"?function(e){return af.resolve(null).then(e).catch(w1)}:ru;function w1(e){setTimeout(function(){throw e})}function nl(e,t){var r=t,n=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(n===0){e.removeChild(l),da(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=l}while(r);da(t)}function Or(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function of(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var gi=Math.random().toString(36).slice(2),Yt="__reactFiber$"+gi,ya="__reactProps$"+gi,sr="__reactContainer$"+gi,nu="__reactEvents$"+gi,b1="__reactListeners$"+gi,C1="__reactHandles$"+gi;function Qr(e){var t=e[Yt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sr]||r[Yt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=of(e);e!==null;){if(r=e[Yt])return r;e=of(e)}return t}e=r,r=e.parentNode}return null}function Da(e){return e=e[Yt]||e[sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Un(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function hs(e){return e[ya]||null}var iu=[],Wn=-1;function Br(e){return{current:e}}function Me(e){0>Wn||(e.current=iu[Wn],iu[Wn]=null,Wn--)}function Oe(e,t){Wn++,iu[Wn]=e.current,e.current=t}var Rr={},rt=Br(Rr),ut=Br(!1),nn=Rr;function ai(e,t){var r=e.type.contextTypes;if(!r)return Rr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var l={},g;for(g in r)l[g]=t[g];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ct(e){return e=e.childContextTypes,e!=null}function $o(){Me(ut),Me(rt)}function sf(e,t,r){if(rt.current!==Rr)throw Error(te(168));Oe(rt,t),Oe(ut,r)}function Hg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var l in n)if(!(l in t))throw Error(te(108,sy(e)||"Unknown",l));return $e({},r,n)}function jo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rr,nn=rt.current,Oe(rt,e),Oe(ut,ut.current),!0}function lf(e,t,r){var n=e.stateNode;if(!n)throw Error(te(169));r?(e=Hg(e,t,nn),n.__reactInternalMemoizedMergedChildContext=e,Me(ut),Me(rt),Oe(rt,e)):Me(ut),Oe(ut,r)}var tr=null,fs=!1,il=!1;function Ug(e){tr===null?tr=[e]:tr.push(e)}function S1(e){fs=!0,Ug(e)}function Nr(){if(!il&&tr!==null){il=!0;var e=0,t=Ce;try{var r=tr;for(Ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}tr=null,fs=!1}catch(l){throw tr!==null&&(tr=tr.slice(e+1)),pg(Ku,Nr),l}finally{Ce=t,il=!1}}return null}var Xn=[],Gn=0,Io=null,Bo=0,Tt=[],Et=0,an=null,rr=1,nr="";function Xr(e,t){Xn[Gn++]=Bo,Xn[Gn++]=Io,Io=e,Bo=t}function Wg(e,t,r){Tt[Et++]=rr,Tt[Et++]=nr,Tt[Et++]=an,an=e;var n=rr;e=nr;var l=32-Nt(n)-1;n&=~(1<<l),r+=1;var g=32-Nt(t)+l;if(30<g){var y=l-l%5;g=(n&(1<<y)-1).toString(32),n>>=y,l-=y,rr=1<<32-Nt(t)+l|r<<l|n,nr=g+e}else rr=1<<g|r<<l|n,nr=e}function ic(e){e.return!==null&&(Xr(e,1),Wg(e,1,0))}function ac(e){for(;e===Io;)Io=Xn[--Gn],Xn[Gn]=null,Bo=Xn[--Gn],Xn[Gn]=null;for(;e===an;)an=Tt[--Et],Tt[Et]=null,nr=Tt[--Et],Tt[Et]=null,rr=Tt[--Et],Tt[Et]=null}var xt=null,mt=null,Fe=!1,jt=null;function Xg(e,t){var r=Pt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function uf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,mt=Or(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=an!==null?{id:rr,overflow:nr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xt=e,mt=null,!0):!1;default:return!1}}function au(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ou(e){if(Fe){var t=mt;if(t){var r=t;if(!uf(e,t)){if(au(e))throw Error(te(418));t=Or(r.nextSibling);var n=xt;t&&uf(e,t)?Xg(n,r):(e.flags=e.flags&-4097|2,Fe=!1,xt=e)}}else{if(au(e))throw Error(te(418));e.flags=e.flags&-4097|2,Fe=!1,xt=e}}}function cf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function ro(e){if(e!==xt)return!1;if(!Fe)return cf(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tu(e.type,e.memoizedProps)),t&&(t=mt)){if(au(e))throw Gg(),Error(te(418));for(;t;)Xg(e,t),t=Or(t.nextSibling)}if(cf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){mt=Or(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=xt?Or(e.stateNode.nextSibling):null;return!0}function Gg(){for(var e=mt;e;)e=Or(e.nextSibling)}function oi(){mt=xt=null,Fe=!1}function oc(e){jt===null?jt=[e]:jt.push(e)}var T1=cr.ReactCurrentBatchConfig;function Lt(e,t){if(e&&e.defaultProps){t=$e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var No=Br(null),zo=null,Yn=null,sc=null;function lc(){sc=Yn=zo=null}function uc(e){var t=No.current;Me(No),e._currentValue=t}function su(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ti(e,t){zo=e,sc=Yn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lt=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(sc!==e)if(e={context:e,memoizedValue:t,next:null},Yn===null){if(zo===null)throw Error(te(308));Yn=e,zo.dependencies={lanes:0,firstContext:e}}else Yn=Yn.next=e;return t}var Jr=null;function cc(e){Jr===null?Jr=[e]:Jr.push(e)}function Yg(e,t,r,n){var l=t.interleaved;return l===null?(r.next=r,cc(t)):(r.next=l.next,l.next=r),t.interleaved=r,lr(e,n)}function lr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var yr=!1;function hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ir(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,be&2){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,lr(e,r)}return l=n.interleaved,l===null?(t.next=t,cc(n)):(t.next=l.next,l.next=t),n.interleaved=t,lr(e,r)}function yo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qu(e,r)}}function hf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var l=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var y={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};g===null?l=g=y:g=g.next=y,r=r.next}while(r!==null);g===null?l=g=t:g=g.next=t}else l=g=t;r={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:g,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ho(e,t,r,n){var l=e.updateQueue;yr=!1;var g=l.firstBaseUpdate,y=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var i=u,h=i.next;i.next=null,y===null?g=h:y.next=h,y=i;var d=e.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==y&&(u===null?d.firstBaseUpdate=h:u.next=h,d.lastBaseUpdate=i))}if(g!==null){var o=l.baseState;y=0,d=h=i=null,u=g;do{var a=u.lane,s=u.eventTime;if((n&a)===a){d!==null&&(d=d.next={eventTime:s,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var c=e,p=u;switch(a=t,s=r,p.tag){case 1:if(c=p.payload,typeof c=="function"){o=c.call(s,o,a);break e}o=c;break e;case 3:c.flags=c.flags&-65537|128;case 0:if(c=p.payload,a=typeof c=="function"?c.call(s,o,a):c,a==null)break e;o=$e({},o,a);break e;case 2:yr=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,a=l.effects,a===null?l.effects=[u]:a.push(u))}else s={eventTime:s,lane:a,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(h=d=s,i=o):d=d.next=s,y|=a;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;a=u,u=a.next,a.next=null,l.lastBaseUpdate=a,l.shared.pending=null}}while(1);if(d===null&&(i=o),l.baseState=i,l.firstBaseUpdate=h,l.lastBaseUpdate=d,t=l.shared.interleaved,t!==null){l=t;do y|=l.lane,l=l.next;while(l!==t)}else g===null&&(l.shared.lanes=0);sn|=y,e.lanes=y,e.memoizedState=o}}function ff(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],l=n.callback;if(l!==null){if(n.callback=null,n=r,typeof l!="function")throw Error(te(191,l));l.call(n)}}}var Kg=new Yp.Component().refs;function lu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:$e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ds={isMounted:function(e){return(e=e._reactInternals)?hn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=it(),l=Ar(e),g=ir(n,l);g.payload=t,r!=null&&(g.callback=r),t=Pr(e,g,l),t!==null&&(zt(t,e,l,n),yo(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=it(),l=Ar(e),g=ir(n,l);g.tag=1,g.payload=t,r!=null&&(g.callback=r),t=Pr(e,g,l),t!==null&&(zt(t,e,l,n),yo(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=it(),n=Ar(e),l=ir(r,n);l.tag=2,t!=null&&(l.callback=t),t=Pr(e,l,n),t!==null&&(zt(t,e,n,r),yo(t,e,n))}};function df(e,t,r,n,l,g,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,g,y):t.prototype&&t.prototype.isPureReactComponent?!ga(r,n)||!ga(l,g):!0}function qg(e,t,r){var n=!1,l=Rr,g=t.contextType;return typeof g=="object"&&g!==null?g=At(g):(l=ct(t)?nn:rt.current,n=t.contextTypes,g=(n=n!=null)?ai(e,l):Rr),t=new t(r,g),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ds,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=g),t}function pf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ds.enqueueReplaceState(t,t.state,null)}function uu(e,t,r,n){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs=Kg,hc(e);var g=t.contextType;typeof g=="object"&&g!==null?l.context=At(g):(g=ct(t)?nn:rt.current,l.context=ai(e,g)),l.state=e.memoizedState,g=t.getDerivedStateFromProps,typeof g=="function"&&(lu(e,t,g,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ds.enqueueReplaceState(l,l.state,null),Ho(e,r,l,n),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Ri(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,e));var l=n,g=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===g?t.ref:(t=function(y){var u=l.refs;u===Kg&&(u=l.refs={}),y===null?delete u[g]:u[g]=y},t._stringRef=g,t)}if(typeof e!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,e))}return e}function no(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gf(e){var t=e._init;return t(e._payload)}function Qg(e){function t(v,m){if(e){var _=v.deletions;_===null?(v.deletions=[m],v.flags|=16):_.push(m)}}function r(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function n(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function l(v,m){return v=Mr(v,m),v.index=0,v.sibling=null,v}function g(v,m,_){return v.index=_,e?(_=v.alternate,_!==null?(_=_.index,_<m?(v.flags|=2,m):_):(v.flags|=2,m)):(v.flags|=1048576,m)}function y(v){return e&&v.alternate===null&&(v.flags|=2),v}function u(v,m,_,x){return m===null||m.tag!==6?(m=hl(_,v.mode,x),m.return=v,m):(m=l(m,_),m.return=v,m)}function i(v,m,_,x){var w=_.type;return w===Bn?d(v,m,_.props.children,x,_.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===mr&&gf(w)===m.type)?(x=l(m,_.props),x.ref=Ri(v,m,_),x.return=v,x):(x=So(_.type,_.key,_.props,null,v.mode,x),x.ref=Ri(v,m,_),x.return=v,x)}function h(v,m,_,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=fl(_,v.mode,x),m.return=v,m):(m=l(m,_.children||[]),m.return=v,m)}function d(v,m,_,x,w){return m===null||m.tag!==7?(m=rn(_,v.mode,x,w),m.return=v,m):(m=l(m,_),m.return=v,m)}function o(v,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=hl(""+m,v.mode,_),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ga:return _=So(m.type,m.key,m.props,null,v.mode,_),_.ref=Ri(v,null,m),_.return=v,_;case In:return m=fl(m,v.mode,_),m.return=v,m;case mr:var x=m._init;return o(v,x(m._payload),_)}if(Wi(m)||ki(m))return m=rn(m,v.mode,_,null),m.return=v,m;no(v,m)}return null}function a(v,m,_,x){var w=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:u(v,m,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ga:return _.key===w?i(v,m,_,x):null;case In:return _.key===w?h(v,m,_,x):null;case mr:return w=_._init,a(v,m,w(_._payload),x)}if(Wi(_)||ki(_))return w!==null?null:d(v,m,_,x,null);no(v,_)}return null}function s(v,m,_,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(_)||null,u(m,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ga:return v=v.get(x.key===null?_:x.key)||null,i(m,v,x,w);case In:return v=v.get(x.key===null?_:x.key)||null,h(m,v,x,w);case mr:var b=x._init;return s(v,m,_,b(x._payload),w)}if(Wi(x)||ki(x))return v=v.get(_)||null,d(m,v,x,w,null);no(m,x)}return null}function c(v,m,_,x){for(var w=null,b=null,S=m,O=m=0,I=null;S!==null&&O<_.length;O++){S.index>O?(I=S,S=null):I=S.sibling;var B=a(v,S,_[O],x);if(B===null){S===null&&(S=I);break}e&&S&&B.alternate===null&&t(v,S),m=g(B,m,O),b===null?w=B:b.sibling=B,b=B,S=I}if(O===_.length)return r(v,S),Fe&&Xr(v,O),w;if(S===null){for(;O<_.length;O++)S=o(v,_[O],x),S!==null&&(m=g(S,m,O),b===null?w=S:b.sibling=S,b=S);return Fe&&Xr(v,O),w}for(S=n(v,S);O<_.length;O++)I=s(S,v,O,_[O],x),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?O:I.key),m=g(I,m,O),b===null?w=I:b.sibling=I,b=I);return e&&S.forEach(function(Q){return t(v,Q)}),Fe&&Xr(v,O),w}function p(v,m,_,x){var w=ki(_);if(typeof w!="function")throw Error(te(150));if(_=w.call(_),_==null)throw Error(te(151));for(var b=w=null,S=m,O=m=0,I=null,B=_.next();S!==null&&!B.done;O++,B=_.next()){S.index>O?(I=S,S=null):I=S.sibling;var Q=a(v,S,B.value,x);if(Q===null){S===null&&(S=I);break}e&&S&&Q.alternate===null&&t(v,S),m=g(Q,m,O),b===null?w=Q:b.sibling=Q,b=Q,S=I}if(B.done)return r(v,S),Fe&&Xr(v,O),w;if(S===null){for(;!B.done;O++,B=_.next())B=o(v,B.value,x),B!==null&&(m=g(B,m,O),b===null?w=B:b.sibling=B,b=B);return Fe&&Xr(v,O),w}for(S=n(v,S);!B.done;O++,B=_.next())B=s(S,v,O,B.value,x),B!==null&&(e&&B.alternate!==null&&S.delete(B.key===null?O:B.key),m=g(B,m,O),b===null?w=B:b.sibling=B,b=B);return e&&S.forEach(function(ie){return t(v,ie)}),Fe&&Xr(v,O),w}function f(v,m,_,x){if(typeof _=="object"&&_!==null&&_.type===Bn&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ga:e:{for(var w=_.key,b=m;b!==null;){if(b.key===w){if(w=_.type,w===Bn){if(b.tag===7){r(v,b.sibling),m=l(b,_.props.children),m.return=v,v=m;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===mr&&gf(w)===b.type){r(v,b.sibling),m=l(b,_.props),m.ref=Ri(v,b,_),m.return=v,v=m;break e}r(v,b);break}else t(v,b);b=b.sibling}_.type===Bn?(m=rn(_.props.children,v.mode,x,_.key),m.return=v,v=m):(x=So(_.type,_.key,_.props,null,v.mode,x),x.ref=Ri(v,m,_),x.return=v,v=x)}return y(v);case In:e:{for(b=_.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){r(v,m.sibling),m=l(m,_.children||[]),m.return=v,v=m;break e}else{r(v,m);break}else t(v,m);m=m.sibling}m=fl(_,v.mode,x),m.return=v,v=m}return y(v);case mr:return b=_._init,f(v,m,b(_._payload),x)}if(Wi(_))return c(v,m,_,x);if(ki(_))return p(v,m,_,x);no(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(r(v,m.sibling),m=l(m,_),m.return=v,v=m):(r(v,m),m=hl(_,v.mode,x),m.return=v,v=m),y(v)):r(v,m)}return f}var si=Qg(!0),Jg=Qg(!1),Fa={},Kt=Br(Fa),_a=Br(Fa),xa=Br(Fa);function Zr(e){if(e===Fa)throw Error(te(174));return e}function fc(e,t){switch(Oe(xa,t),Oe(_a,e),Oe(Kt,Fa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zl(t,e)}Me(Kt),Oe(Kt,t)}function li(){Me(Kt),Me(_a),Me(xa)}function Zg(e){Zr(xa.current);var t=Zr(Kt.current),r=zl(t,e.type);t!==r&&(Oe(_a,e),Oe(Kt,r))}function dc(e){_a.current===e&&(Me(Kt),Me(_a))}var Re=Br(0);function Uo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var al=[];function pc(){for(var e=0;e<al.length;e++)al[e]._workInProgressVersionPrimary=null;al.length=0}var _o=cr.ReactCurrentDispatcher,ol=cr.ReactCurrentBatchConfig,on=0,Le=null,He=null,We=null,Wo=!1,ra=!1,wa=0,E1=0;function Ze(){throw Error(te(321))}function gc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ht(e[r],t[r]))return!1;return!0}function vc(e,t,r,n,l,g){if(on=g,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_o.current=e===null||e.memoizedState===null?A1:M1,e=r(n,l),ra){g=0;do{if(ra=!1,wa=0,25<=g)throw Error(te(301));g+=1,We=He=null,t.updateQueue=null,_o.current=D1,e=r(n,l)}while(ra)}if(_o.current=Xo,t=He!==null&&He.next!==null,on=0,We=He=Le=null,Wo=!1,t)throw Error(te(300));return e}function mc(){var e=wa!==0;return wa=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Le.memoizedState=We=e:We=We.next=e,We}function Mt(){if(He===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=We===null?Le.memoizedState:We.next;if(t!==null)We=t,He=e;else{if(e===null)throw Error(te(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},We===null?Le.memoizedState=We=e:We=We.next=e}return We}function ba(e,t){return typeof t=="function"?t(e):t}function sl(e){var t=Mt(),r=t.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=e;var n=He,l=n.baseQueue,g=r.pending;if(g!==null){if(l!==null){var y=l.next;l.next=g.next,g.next=y}n.baseQueue=l=g,r.pending=null}if(l!==null){g=l.next,n=n.baseState;var u=y=null,i=null,h=g;do{var d=h.lane;if((on&d)===d)i!==null&&(i=i.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var o={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};i===null?(u=i=o,y=n):i=i.next=o,Le.lanes|=d,sn|=d}h=h.next}while(h!==null&&h!==g);i===null?y=n:i.next=u,Ht(n,t.memoizedState)||(lt=!0),t.memoizedState=n,t.baseState=y,t.baseQueue=i,r.lastRenderedState=n}if(e=r.interleaved,e!==null){l=e;do g=l.lane,Le.lanes|=g,sn|=g,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ll(e){var t=Mt(),r=t.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=e;var n=r.dispatch,l=r.pending,g=t.memoizedState;if(l!==null){r.pending=null;var y=l=l.next;do g=e(g,y.action),y=y.next;while(y!==l);Ht(g,t.memoizedState)||(lt=!0),t.memoizedState=g,t.baseQueue===null&&(t.baseState=g),r.lastRenderedState=g}return[g,n]}function ev(){}function tv(e,t){var r=Le,n=Mt(),l=t(),g=!Ht(n.memoizedState,l);if(g&&(n.memoizedState=l,lt=!0),n=n.queue,yc(iv.bind(null,r,n,e),[e]),n.getSnapshot!==t||g||We!==null&&We.memoizedState.tag&1){if(r.flags|=2048,Ca(9,nv.bind(null,r,n,l,t),void 0,null),Xe===null)throw Error(te(349));on&30||rv(r,t,l)}return l}function rv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function nv(e,t,r,n){t.value=r,t.getSnapshot=n,av(t)&&ov(e)}function iv(e,t,r){return r(function(){av(t)&&ov(e)})}function av(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ht(e,r)}catch{return!0}}function ov(e){var t=lr(e,1);t!==null&&zt(t,e,1,-1)}function vf(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=k1.bind(null,Le,e),[t.memoizedState,e]}function Ca(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function sv(){return Mt().memoizedState}function xo(e,t,r,n){var l=Gt();Le.flags|=e,l.memoizedState=Ca(1|t,r,void 0,n===void 0?null:n)}function ps(e,t,r,n){var l=Mt();n=n===void 0?null:n;var g=void 0;if(He!==null){var y=He.memoizedState;if(g=y.destroy,n!==null&&gc(n,y.deps)){l.memoizedState=Ca(t,r,g,n);return}}Le.flags|=e,l.memoizedState=Ca(1|t,r,g,n)}function mf(e,t){return xo(8390656,8,e,t)}function yc(e,t){return ps(2048,8,e,t)}function lv(e,t){return ps(4,2,e,t)}function uv(e,t){return ps(4,4,e,t)}function cv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hv(e,t,r){return r=r!=null?r.concat([e]):null,ps(4,4,cv.bind(null,t,e),r)}function _c(){}function fv(e,t){var r=Mt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function dv(e,t){var r=Mt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function pv(e,t,r){return on&21?(Ht(r,t)||(r=mg(),Le.lanes|=r,sn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=r)}function O1(e,t){var r=Ce;Ce=r!==0&&4>r?r:4,e(!0);var n=ol.transition;ol.transition={};try{e(!1),t()}finally{Ce=r,ol.transition=n}}function gv(){return Mt().memoizedState}function P1(e,t,r){var n=Ar(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},vv(e))mv(t,r);else if(r=Yg(e,t,r,n),r!==null){var l=it();zt(r,e,n,l),yv(r,t,n)}}function k1(e,t,r){var n=Ar(e),l={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(vv(e))mv(t,l);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=t.lastRenderedReducer,g!==null))try{var y=t.lastRenderedState,u=g(y,r);if(l.hasEagerState=!0,l.eagerState=u,Ht(u,y)){var i=t.interleaved;i===null?(l.next=l,cc(t)):(l.next=i.next,i.next=l),t.interleaved=l;return}}catch{}finally{}r=Yg(e,t,l,n),r!==null&&(l=it(),zt(r,e,n,l),yv(r,t,n))}}function vv(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function mv(e,t){ra=Wo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function yv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qu(e,r)}}var Xo={readContext:At,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},A1={readContext:At,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:mf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xo(4194308,4,cv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xo(4194308,4,e,t)},useInsertionEffect:function(e,t){return xo(4,2,e,t)},useMemo:function(e,t){var r=Gt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Gt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=P1.bind(null,Le,e),[n.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:vf,useDebugValue:_c,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=vf(!1),t=e[0];return e=O1.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Le,l=Gt();if(Fe){if(r===void 0)throw Error(te(407));r=r()}else{if(r=t(),Xe===null)throw Error(te(349));on&30||rv(n,t,r)}l.memoizedState=r;var g={value:r,getSnapshot:t};return l.queue=g,mf(iv.bind(null,n,g,e),[e]),n.flags|=2048,Ca(9,nv.bind(null,n,g,r,t),void 0,null),r},useId:function(){var e=Gt(),t=Xe.identifierPrefix;if(Fe){var r=nr,n=rr;r=(n&~(1<<32-Nt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=wa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=E1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},M1={readContext:At,useCallback:fv,useContext:At,useEffect:yc,useImperativeHandle:hv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:dv,useReducer:sl,useRef:sv,useState:function(){return sl(ba)},useDebugValue:_c,useDeferredValue:function(e){var t=Mt();return pv(t,He.memoizedState,e)},useTransition:function(){var e=sl(ba)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:ev,useSyncExternalStore:tv,useId:gv,unstable_isNewReconciler:!1},D1={readContext:At,useCallback:fv,useContext:At,useEffect:yc,useImperativeHandle:hv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:dv,useReducer:ll,useRef:sv,useState:function(){return ll(ba)},useDebugValue:_c,useDeferredValue:function(e){var t=Mt();return He===null?t.memoizedState=e:pv(t,He.memoizedState,e)},useTransition:function(){var e=ll(ba)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:ev,useSyncExternalStore:tv,useId:gv,unstable_isNewReconciler:!1};function ui(e,t){try{var r="",n=t;do r+=oy(n),n=n.return;while(n);var l=r}catch(g){l=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:t,stack:l,digest:null}}function ul(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var F1=typeof WeakMap=="function"?WeakMap:Map;function _v(e,t,r){r=ir(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Yo||(Yo=!0,xu=n),cu(e,t)},r}function xv(e,t,r){r=ir(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var l=t.value;r.payload=function(){return n(l)},r.callback=function(){cu(e,t)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(r.callback=function(){cu(e,t),typeof n!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),r}function yf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new F1;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(r)||(l.add(r),e=Y1.bind(null,e,t,r),t.then(e,e))}function _f(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xf(e,t,r,n,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ir(-1,1),t.tag=2,Pr(r,t,1))),r.lanes|=1),e)}var R1=cr.ReactCurrentOwner,lt=!1;function nt(e,t,r,n){t.child=e===null?Jg(t,null,r,n):si(t,e.child,r,n)}function wf(e,t,r,n,l){r=r.render;var g=t.ref;return ti(t,l),n=vc(e,t,r,n,g,l),r=mc(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ur(e,t,l)):(Fe&&r&&ic(t),t.flags|=1,nt(e,t,n,l),t.child)}function bf(e,t,r,n,l){if(e===null){var g=r.type;return typeof g=="function"&&!Oc(g)&&g.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=g,wv(e,t,g,n,l)):(e=So(r.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(g=e.child,!(e.lanes&l)){var y=g.memoizedProps;if(r=r.compare,r=r!==null?r:ga,r(y,n)&&e.ref===t.ref)return ur(e,t,l)}return t.flags|=1,e=Mr(g,n),e.ref=t.ref,e.return=t,t.child=e}function wv(e,t,r,n,l){if(e!==null){var g=e.memoizedProps;if(ga(g,n)&&e.ref===t.ref)if(lt=!1,t.pendingProps=n=g,(e.lanes&l)!==0)e.flags&131072&&(lt=!0);else return t.lanes=e.lanes,ur(e,t,l)}return hu(e,t,r,n,l)}function bv(e,t,r){var n=t.pendingProps,l=n.children,g=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Kn,vt),vt|=r;else{if(!(r&1073741824))return e=g!==null?g.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(Kn,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=g!==null?g.baseLanes:r,Oe(Kn,vt),vt|=n}else g!==null?(n=g.baseLanes|r,t.memoizedState=null):n=r,Oe(Kn,vt),vt|=n;return nt(e,t,l,r),t.child}function Cv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function hu(e,t,r,n,l){var g=ct(r)?nn:rt.current;return g=ai(t,g),ti(t,l),r=vc(e,t,r,n,g,l),n=mc(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,ur(e,t,l)):(Fe&&n&&ic(t),t.flags|=1,nt(e,t,r,l),t.child)}function Cf(e,t,r,n,l){if(ct(r)){var g=!0;jo(t)}else g=!1;if(ti(t,l),t.stateNode===null)wo(e,t),qg(t,r,n),uu(t,r,n,l),n=!0;else if(e===null){var y=t.stateNode,u=t.memoizedProps;y.props=u;var i=y.context,h=r.contextType;typeof h=="object"&&h!==null?h=At(h):(h=ct(r)?nn:rt.current,h=ai(t,h));var d=r.getDerivedStateFromProps,o=typeof d=="function"||typeof y.getSnapshotBeforeUpdate=="function";o||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(u!==n||i!==h)&&pf(t,y,n,h),yr=!1;var a=t.memoizedState;y.state=a,Ho(t,n,y,l),i=t.memoizedState,u!==n||a!==i||ut.current||yr?(typeof d=="function"&&(lu(t,r,d,n),i=t.memoizedState),(u=yr||df(t,r,u,n,a,i,h))?(o||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=i),y.props=n,y.state=i,y.context=h,n=u):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{y=t.stateNode,Vg(e,t),u=t.memoizedProps,h=t.type===t.elementType?u:Lt(t.type,u),y.props=h,o=t.pendingProps,a=y.context,i=r.contextType,typeof i=="object"&&i!==null?i=At(i):(i=ct(r)?nn:rt.current,i=ai(t,i));var s=r.getDerivedStateFromProps;(d=typeof s=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(u!==o||a!==i)&&pf(t,y,n,i),yr=!1,a=t.memoizedState,y.state=a,Ho(t,n,y,l);var c=t.memoizedState;u!==o||a!==c||ut.current||yr?(typeof s=="function"&&(lu(t,r,s,n),c=t.memoizedState),(h=yr||df(t,r,h,n,a,c,i)||!1)?(d||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(n,c,i),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(n,c,i)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||u===e.memoizedProps&&a===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&a===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=c),y.props=n,y.state=c,y.context=i,n=h):(typeof y.componentDidUpdate!="function"||u===e.memoizedProps&&a===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&a===e.memoizedState||(t.flags|=1024),n=!1)}return fu(e,t,r,n,g,l)}function fu(e,t,r,n,l,g){Cv(e,t);var y=(t.flags&128)!==0;if(!n&&!y)return l&&lf(t,r,!1),ur(e,t,g);n=t.stateNode,R1.current=t;var u=y&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&y?(t.child=si(t,e.child,null,g),t.child=si(t,null,u,g)):nt(e,t,u,g),t.memoizedState=n.state,l&&lf(t,r,!0),t.child}function Sv(e){var t=e.stateNode;t.pendingContext?sf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sf(e,t.context,!1),fc(e,t.containerInfo)}function Sf(e,t,r,n,l){return oi(),oc(l),t.flags|=256,nt(e,t,r,n),t.child}var du={dehydrated:null,treeContext:null,retryLane:0};function pu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tv(e,t,r){var n=t.pendingProps,l=Re.current,g=!1,y=(t.flags&128)!==0,u;if((u=y)||(u=e!==null&&e.memoizedState===null?!1:(l&2)!==0),u?(g=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Oe(Re,l&1),e===null)return ou(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(y=n.children,e=n.fallback,g?(n=t.mode,g=t.child,y={mode:"hidden",children:y},!(n&1)&&g!==null?(g.childLanes=0,g.pendingProps=y):g=ms(y,n,0,null),e=rn(e,n,r,null),g.return=t,e.return=t,g.sibling=e,t.child=g,t.child.memoizedState=pu(r),t.memoizedState=du,e):xc(t,y));if(l=e.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return L1(e,t,y,n,u,l,r);if(g){g=n.fallback,y=t.mode,l=e.child,u=l.sibling;var i={mode:"hidden",children:n.children};return!(y&1)&&t.child!==l?(n=t.child,n.childLanes=0,n.pendingProps=i,t.deletions=null):(n=Mr(l,i),n.subtreeFlags=l.subtreeFlags&14680064),u!==null?g=Mr(u,g):(g=rn(g,y,r,null),g.flags|=2),g.return=t,n.return=t,n.sibling=g,t.child=n,n=g,g=t.child,y=e.child.memoizedState,y=y===null?pu(r):{baseLanes:y.baseLanes|r,cachePool:null,transitions:y.transitions},g.memoizedState=y,g.childLanes=e.childLanes&~r,t.memoizedState=du,n}return g=e.child,e=g.sibling,n=Mr(g,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function xc(e,t){return t=ms({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function io(e,t,r,n){return n!==null&&oc(n),si(t,e.child,null,r),e=xc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function L1(e,t,r,n,l,g,y){if(r)return t.flags&256?(t.flags&=-257,n=ul(Error(te(422))),io(e,t,y,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(g=n.fallback,l=t.mode,n=ms({mode:"visible",children:n.children},l,0,null),g=rn(g,l,y,null),g.flags|=2,n.return=t,g.return=t,n.sibling=g,t.child=n,t.mode&1&&si(t,e.child,null,y),t.child.memoizedState=pu(y),t.memoizedState=du,g);if(!(t.mode&1))return io(e,t,y,null);if(l.data==="$!"){if(n=l.nextSibling&&l.nextSibling.dataset,n)var u=n.dgst;return n=u,g=Error(te(419)),n=ul(g,n,void 0),io(e,t,y,n)}if(u=(y&e.childLanes)!==0,lt||u){if(n=Xe,n!==null){switch(y&-y){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(n.suspendedLanes|y)?0:l,l!==0&&l!==g.retryLane&&(g.retryLane=l,lr(e,l),zt(n,e,l,-1))}return Ec(),n=ul(Error(te(421))),io(e,t,y,n)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=V1.bind(null,e),l._reactRetry=t,null):(e=g.treeContext,mt=Or(l.nextSibling),xt=t,Fe=!0,jt=null,e!==null&&(Tt[Et++]=rr,Tt[Et++]=nr,Tt[Et++]=an,rr=e.id,nr=e.overflow,an=t),t=xc(t,n.children),t.flags|=4096,t)}function Tf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),su(e.return,t,r)}function cl(e,t,r,n,l){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:l}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=n,g.tail=r,g.tailMode=l)}function Ev(e,t,r){var n=t.pendingProps,l=n.revealOrder,g=n.tail;if(nt(e,t,n.children,r),n=Re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tf(e,r,t);else if(e.tag===19)Tf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oe(Re,n),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&Uo(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),cl(t,!1,l,r,g);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Uo(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}cl(t,!0,r,null,g);break;case"together":cl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ur(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),sn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,r=Mr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Mr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $1(e,t,r){switch(t.tag){case 3:Sv(t),oi();break;case 5:Zg(t);break;case 1:ct(t.type)&&jo(t);break;case 4:fc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,l=t.memoizedProps.value;Oe(No,n._currentValue),n._currentValue=l;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Oe(Re,Re.current&1),t.flags|=128,null):r&t.child.childLanes?Tv(e,t,r):(Oe(Re,Re.current&1),e=ur(e,t,r),e!==null?e.sibling:null);Oe(Re,Re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ev(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Oe(Re,Re.current),n)break;return null;case 22:case 23:return t.lanes=0,bv(e,t,r)}return ur(e,t,r)}var Ov,gu,Pv,kv;Ov=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gu=function(){};Pv=function(e,t,r,n){var l=e.memoizedProps;if(l!==n){e=t.stateNode,Zr(Kt.current);var g=null;switch(r){case"input":l=jl(e,l),n=jl(e,n),g=[];break;case"select":l=$e({},l,{value:void 0}),n=$e({},n,{value:void 0}),g=[];break;case"textarea":l=Nl(e,l),n=Nl(e,n),g=[];break;default:typeof l.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Lo)}Hl(r,n);var y;r=null;for(h in l)if(!n.hasOwnProperty(h)&&l.hasOwnProperty(h)&&l[h]!=null)if(h==="style"){var u=l[h];for(y in u)u.hasOwnProperty(y)&&(r||(r={}),r[y]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(la.hasOwnProperty(h)?g||(g=[]):(g=g||[]).push(h,null));for(h in n){var i=n[h];if(u=l!=null?l[h]:void 0,n.hasOwnProperty(h)&&i!==u&&(i!=null||u!=null))if(h==="style")if(u){for(y in u)!u.hasOwnProperty(y)||i&&i.hasOwnProperty(y)||(r||(r={}),r[y]="");for(y in i)i.hasOwnProperty(y)&&u[y]!==i[y]&&(r||(r={}),r[y]=i[y])}else r||(g||(g=[]),g.push(h,r)),r=i;else h==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,u=u?u.__html:void 0,i!=null&&u!==i&&(g=g||[]).push(h,i)):h==="children"?typeof i!="string"&&typeof i!="number"||(g=g||[]).push(h,""+i):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(la.hasOwnProperty(h)?(i!=null&&h==="onScroll"&&Pe("scroll",e),g||u===i||(g=[])):(g=g||[]).push(h,i))}r&&(g=g||[]).push("style",r);var h=g;(t.updateQueue=h)&&(t.flags|=4)}};kv=function(e,t,r,n){r!==n&&(t.flags|=4)};function Li(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,n|=l.subtreeFlags&14680064,n|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function j1(e,t,r){var n=t.pendingProps;switch(ac(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return ct(t.type)&&$o(),et(t),null;case 3:return n=t.stateNode,li(),Me(ut),Me(rt),pc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ro(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jt!==null&&(Cu(jt),jt=null))),gu(e,t),et(t),null;case 5:dc(t);var l=Zr(xa.current);if(r=t.type,e!==null&&t.stateNode!=null)Pv(e,t,r,n,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(te(166));return et(t),null}if(e=Zr(Kt.current),ro(t)){n=t.stateNode,r=t.type;var g=t.memoizedProps;switch(n[Yt]=t,n[ya]=g,e=(t.mode&1)!==0,r){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(l=0;l<Gi.length;l++)Pe(Gi[l],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Fh(n,g),Pe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!g.multiple},Pe("invalid",n);break;case"textarea":Lh(n,g),Pe("invalid",n)}Hl(r,g),l=null;for(var y in g)if(g.hasOwnProperty(y)){var u=g[y];y==="children"?typeof u=="string"?n.textContent!==u&&(g.suppressHydrationWarning!==!0&&to(n.textContent,u,e),l=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(g.suppressHydrationWarning!==!0&&to(n.textContent,u,e),l=["children",""+u]):la.hasOwnProperty(y)&&u!=null&&y==="onScroll"&&Pe("scroll",n)}switch(r){case"input":Ya(n),Rh(n,g,!0);break;case"textarea":Ya(n),$h(n);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(n.onclick=Lo)}n=l,t.updateQueue=n,n!==null&&(t.flags|=4)}else{y=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=y.createElement(r,{is:n.is}):(e=y.createElement(r),r==="select"&&(y=e,n.multiple?y.multiple=!0:n.size&&(y.size=n.size))):e=y.createElementNS(e,r),e[Yt]=t,e[ya]=n,Ov(e,t,!1,!1),t.stateNode=e;e:{switch(y=Ul(r,n),r){case"dialog":Pe("cancel",e),Pe("close",e),l=n;break;case"iframe":case"object":case"embed":Pe("load",e),l=n;break;case"video":case"audio":for(l=0;l<Gi.length;l++)Pe(Gi[l],e);l=n;break;case"source":Pe("error",e),l=n;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),l=n;break;case"details":Pe("toggle",e),l=n;break;case"input":Fh(e,n),l=jl(e,n),Pe("invalid",e);break;case"option":l=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},l=$e({},n,{value:void 0}),Pe("invalid",e);break;case"textarea":Lh(e,n),l=Nl(e,n),Pe("invalid",e);break;default:l=n}Hl(r,l),u=l;for(g in u)if(u.hasOwnProperty(g)){var i=u[g];g==="style"?ag(e,i):g==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&ng(e,i)):g==="children"?typeof i=="string"?(r!=="textarea"||i!=="")&&ua(e,i):typeof i=="number"&&ua(e,""+i):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(la.hasOwnProperty(g)?i!=null&&g==="onScroll"&&Pe("scroll",e):i!=null&&Wu(e,g,i,y))}switch(r){case"input":Ya(e),Rh(e,n,!1);break;case"textarea":Ya(e),$h(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fr(n.value));break;case"select":e.multiple=!!n.multiple,g=n.value,g!=null?Qn(e,!!n.multiple,g,!1):n.defaultValue!=null&&Qn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Lo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)kv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(te(166));if(r=Zr(xa.current),Zr(Kt.current),ro(t)){if(n=t.stateNode,r=t.memoizedProps,n[Yt]=t,(g=n.nodeValue!==r)&&(e=xt,e!==null))switch(e.tag){case 3:to(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&to(n.nodeValue,r,(e.mode&1)!==0)}g&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yt]=t,t.stateNode=n}return et(t),null;case 13:if(Me(Re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&mt!==null&&t.mode&1&&!(t.flags&128))Gg(),oi(),t.flags|=98560,g=!1;else if(g=ro(t),n!==null&&n.dehydrated!==null){if(e===null){if(!g)throw Error(te(318));if(g=t.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(te(317));g[Yt]=t}else oi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),g=!1}else jt!==null&&(Cu(jt),jt=null),g=!0;if(!g)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?Ue===0&&(Ue=3):Ec())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return li(),gu(e,t),e===null&&va(t.stateNode.containerInfo),et(t),null;case 10:return uc(t.type._context),et(t),null;case 17:return ct(t.type)&&$o(),et(t),null;case 19:if(Me(Re),g=t.memoizedState,g===null)return et(t),null;if(n=(t.flags&128)!==0,y=g.rendering,y===null)if(n)Li(g,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(y=Uo(e),y!==null){for(t.flags|=128,Li(g,!1),n=y.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)g=r,e=n,g.flags&=14680066,y=g.alternate,y===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=y.childLanes,g.lanes=y.lanes,g.child=y.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=y.memoizedProps,g.memoizedState=y.memoizedState,g.updateQueue=y.updateQueue,g.type=y.type,e=y.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oe(Re,Re.current&1|2),t.child}e=e.sibling}g.tail!==null&&Ie()>ci&&(t.flags|=128,n=!0,Li(g,!1),t.lanes=4194304)}else{if(!n)if(e=Uo(y),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Li(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Fe)return et(t),null}else 2*Ie()-g.renderingStartTime>ci&&r!==1073741824&&(t.flags|=128,n=!0,Li(g,!1),t.lanes=4194304);g.isBackwards?(y.sibling=t.child,t.child=y):(r=g.last,r!==null?r.sibling=y:t.child=y,g.last=y)}return g.tail!==null?(t=g.tail,g.rendering=t,g.tail=t.sibling,g.renderingStartTime=Ie(),t.sibling=null,r=Re.current,Oe(Re,n?r&1|2:r&1),t):(et(t),null);case 22:case 23:return Tc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vt&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function I1(e,t){switch(ac(t),t.tag){case 1:return ct(t.type)&&$o(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return li(),Me(ut),Me(rt),pc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dc(t),null;case 13:if(Me(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Re),null;case 4:return li(),null;case 10:return uc(t.type._context),null;case 22:case 23:return Tc(),null;case 24:return null;default:return null}}var ao=!1,tt=!1,B1=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Vn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){je(e,t,n)}else r.current=null}function vu(e,t,r){try{r()}catch(n){je(e,t,n)}}var Ef=!1;function N1(e,t){if(Zl=Do,e=Fg(),nc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var l=n.anchorOffset,g=n.focusNode;n=n.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var y=0,u=-1,i=-1,h=0,d=0,o=e,a=null;t:for(;;){for(var s;o!==r||l!==0&&o.nodeType!==3||(u=y+l),o!==g||n!==0&&o.nodeType!==3||(i=y+n),o.nodeType===3&&(y+=o.nodeValue.length),(s=o.firstChild)!==null;)a=o,o=s;for(;;){if(o===e)break t;if(a===r&&++h===l&&(u=y),a===g&&++d===n&&(i=y),(s=o.nextSibling)!==null)break;o=a,a=o.parentNode}o=s}r=u===-1||i===-1?null:{start:u,end:i}}else r=null}r=r||{start:0,end:0}}else r=null;for(eu={focusedElem:e,selectionRange:r},Do=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var c=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(c!==null){var p=c.memoizedProps,f=c.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:Lt(t.type,p),f);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(x){je(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return c=Ef,Ef=!1,c}function na(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var g=l.destroy;l.destroy=void 0,g!==void 0&&vu(t,r,g)}l=l.next}while(l!==n)}}function gs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Av(e){var t=e.alternate;t!==null&&(e.alternate=null,Av(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[ya],delete t[nu],delete t[b1],delete t[C1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mv(e){return e.tag===5||e.tag===3||e.tag===4}function Of(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Lo));else if(n!==4&&(e=e.child,e!==null))for(yu(e,t,r),e=e.sibling;e!==null;)yu(e,t,r),e=e.sibling}function _u(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_u(e,t,r),e=e.sibling;e!==null;)_u(e,t,r),e=e.sibling}var Ye=null,$t=!1;function vr(e,t,r){for(r=r.child;r!==null;)Dv(e,t,r),r=r.sibling}function Dv(e,t,r){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(ss,r)}catch{}switch(r.tag){case 5:tt||Vn(r,t);case 6:var n=Ye,l=$t;Ye=null,vr(e,t,r),Ye=n,$t=l,Ye!==null&&($t?(e=Ye,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ye.removeChild(r.stateNode));break;case 18:Ye!==null&&($t?(e=Ye,r=r.stateNode,e.nodeType===8?nl(e.parentNode,r):e.nodeType===1&&nl(e,r),da(e)):nl(Ye,r.stateNode));break;case 4:n=Ye,l=$t,Ye=r.stateNode.containerInfo,$t=!0,vr(e,t,r),Ye=n,$t=l;break;case 0:case 11:case 14:case 15:if(!tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){l=n=n.next;do{var g=l,y=g.destroy;g=g.tag,y!==void 0&&(g&2||g&4)&&vu(r,t,y),l=l.next}while(l!==n)}vr(e,t,r);break;case 1:if(!tt&&(Vn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){je(r,t,u)}vr(e,t,r);break;case 21:vr(e,t,r);break;case 22:r.mode&1?(tt=(n=tt)||r.memoizedState!==null,vr(e,t,r),tt=n):vr(e,t,r);break;default:vr(e,t,r)}}function Pf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new B1),t.forEach(function(n){var l=K1.bind(null,e,n);r.has(n)||(r.add(n),n.then(l,l))})}}function Ft(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var l=r[n];try{var g=e,y=t,u=y;e:for(;u!==null;){switch(u.tag){case 5:Ye=u.stateNode,$t=!1;break e;case 3:Ye=u.stateNode.containerInfo,$t=!0;break e;case 4:Ye=u.stateNode.containerInfo,$t=!0;break e}u=u.return}if(Ye===null)throw Error(te(160));Dv(g,y,l),Ye=null,$t=!1;var i=l.alternate;i!==null&&(i.return=null),l.return=null}catch(h){je(l,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fv(t,e),t=t.sibling}function Fv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),Xt(e),n&4){try{na(3,e,e.return),gs(3,e)}catch(p){je(e,e.return,p)}try{na(5,e,e.return)}catch(p){je(e,e.return,p)}}break;case 1:Ft(t,e),Xt(e),n&512&&r!==null&&Vn(r,r.return);break;case 5:if(Ft(t,e),Xt(e),n&512&&r!==null&&Vn(r,r.return),e.flags&32){var l=e.stateNode;try{ua(l,"")}catch(p){je(e,e.return,p)}}if(n&4&&(l=e.stateNode,l!=null)){var g=e.memoizedProps,y=r!==null?r.memoizedProps:g,u=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{u==="input"&&g.type==="radio"&&g.name!=null&&eg(l,g),Ul(u,y);var h=Ul(u,g);for(y=0;y<i.length;y+=2){var d=i[y],o=i[y+1];d==="style"?ag(l,o):d==="dangerouslySetInnerHTML"?ng(l,o):d==="children"?ua(l,o):Wu(l,d,o,h)}switch(u){case"input":Il(l,g);break;case"textarea":tg(l,g);break;case"select":var a=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!g.multiple;var s=g.value;s!=null?Qn(l,!!g.multiple,s,!1):a!==!!g.multiple&&(g.defaultValue!=null?Qn(l,!!g.multiple,g.defaultValue,!0):Qn(l,!!g.multiple,g.multiple?[]:"",!1))}l[ya]=g}catch(p){je(e,e.return,p)}}break;case 6:if(Ft(t,e),Xt(e),n&4){if(e.stateNode===null)throw Error(te(162));l=e.stateNode,g=e.memoizedProps;try{l.nodeValue=g}catch(p){je(e,e.return,p)}}break;case 3:if(Ft(t,e),Xt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{da(t.containerInfo)}catch(p){je(e,e.return,p)}break;case 4:Ft(t,e),Xt(e);break;case 13:Ft(t,e),Xt(e),l=e.child,l.flags&8192&&(g=l.memoizedState!==null,l.stateNode.isHidden=g,!g||l.alternate!==null&&l.alternate.memoizedState!==null||(Cc=Ie())),n&4&&Pf(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(tt=(h=tt)||d,Ft(t,e),tt=h):Ft(t,e),Xt(e),n&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!d&&e.mode&1)for(fe=e,d=e.child;d!==null;){for(o=fe=d;fe!==null;){switch(a=fe,s=a.child,a.tag){case 0:case 11:case 14:case 15:na(4,a,a.return);break;case 1:Vn(a,a.return);var c=a.stateNode;if(typeof c.componentWillUnmount=="function"){n=a,r=a.return;try{t=n,c.props=t.memoizedProps,c.state=t.memoizedState,c.componentWillUnmount()}catch(p){je(n,r,p)}}break;case 5:Vn(a,a.return);break;case 22:if(a.memoizedState!==null){Af(o);continue}}s!==null?(s.return=a,fe=s):Af(o)}d=d.sibling}e:for(d=null,o=e;;){if(o.tag===5){if(d===null){d=o;try{l=o.stateNode,h?(g=l.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(u=o.stateNode,i=o.memoizedProps.style,y=i!=null&&i.hasOwnProperty("display")?i.display:null,u.style.display=ig("display",y))}catch(p){je(e,e.return,p)}}}else if(o.tag===6){if(d===null)try{o.stateNode.nodeValue=h?"":o.memoizedProps}catch(p){je(e,e.return,p)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===e)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}}break;case 19:Ft(t,e),Xt(e),n&4&&Pf(e);break;case 21:break;default:Ft(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Mv(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var l=n.stateNode;n.flags&32&&(ua(l,""),n.flags&=-33);var g=Of(e);_u(e,g,l);break;case 3:case 4:var y=n.stateNode.containerInfo,u=Of(e);yu(e,u,y);break;default:throw Error(te(161))}}catch(i){je(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function z1(e,t,r){fe=e,Rv(e)}function Rv(e,t,r){for(var n=(e.mode&1)!==0;fe!==null;){var l=fe,g=l.child;if(l.tag===22&&n){var y=l.memoizedState!==null||ao;if(!y){var u=l.alternate,i=u!==null&&u.memoizedState!==null||tt;u=ao;var h=tt;if(ao=y,(tt=i)&&!h)for(fe=l;fe!==null;)y=fe,i=y.child,y.tag===22&&y.memoizedState!==null?Mf(l):i!==null?(i.return=y,fe=i):Mf(l);for(;g!==null;)fe=g,Rv(g),g=g.sibling;fe=l,ao=u,tt=h}kf(e)}else l.subtreeFlags&8772&&g!==null?(g.return=l,fe=g):kf(e)}}function kf(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:tt||gs(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!tt)if(r===null)n.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:Lt(t.type,r.memoizedProps);n.componentDidUpdate(l,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var g=t.updateQueue;g!==null&&ff(t,g,n);break;case 3:var y=t.updateQueue;if(y!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ff(t,y,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break;case"img":i.src&&(r.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var o=d.dehydrated;o!==null&&da(o)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}tt||t.flags&512&&mu(t)}catch(a){je(t,t.return,a)}}if(t===e){fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,fe=r;break}fe=t.return}}function Af(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,fe=r;break}fe=t.return}}function Mf(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gs(4,t)}catch(i){je(t,r,i)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var l=t.return;try{n.componentDidMount()}catch(i){je(t,l,i)}}var g=t.return;try{mu(t)}catch(i){je(t,g,i)}break;case 5:var y=t.return;try{mu(t)}catch(i){je(t,y,i)}}}catch(i){je(t,t.return,i)}if(t===e){fe=null;break}var u=t.sibling;if(u!==null){u.return=t.return,fe=u;break}fe=t.return}}var H1=Math.ceil,Go=cr.ReactCurrentDispatcher,wc=cr.ReactCurrentOwner,kt=cr.ReactCurrentBatchConfig,be=0,Xe=null,Ne=null,Ke=0,vt=0,Kn=Br(0),Ue=0,Sa=null,sn=0,vs=0,bc=0,ia=null,st=null,Cc=0,ci=1/0,er=null,Yo=!1,xu=null,kr=null,oo=!1,br=null,Vo=0,aa=0,wu=null,bo=-1,Co=0;function it(){return be&6?Ie():bo!==-1?bo:bo=Ie()}function Ar(e){return e.mode&1?be&2&&Ke!==0?Ke&-Ke:T1.transition!==null?(Co===0&&(Co=mg()),Co):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Sg(e.type)),e):1}function zt(e,t,r,n){if(50<aa)throw aa=0,wu=null,Error(te(185));Aa(e,r,n),(!(be&2)||e!==Xe)&&(e===Xe&&(!(be&2)&&(vs|=r),Ue===4&&xr(e,Ke)),ht(e,n),r===1&&be===0&&!(t.mode&1)&&(ci=Ie()+500,fs&&Nr()))}function ht(e,t){var r=e.callbackNode;Ty(e,t);var n=Mo(e,e===Xe?Ke:0);if(n===0)r!==null&&Bh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Bh(r),t===1)e.tag===0?S1(Df.bind(null,e)):Ug(Df.bind(null,e)),x1(function(){!(be&6)&&Nr()}),r=null;else{switch(yg(n)){case 1:r=Ku;break;case 4:r=gg;break;case 16:r=Ao;break;case 536870912:r=vg;break;default:r=Ao}r=Hv(r,Lv.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Lv(e,t){if(bo=-1,Co=0,be&6)throw Error(te(327));var r=e.callbackNode;if(ri()&&e.callbackNode!==r)return null;var n=Mo(e,e===Xe?Ke:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ko(e,n);else{t=n;var l=be;be|=2;var g=jv();(Xe!==e||Ke!==t)&&(er=null,ci=Ie()+500,tn(e,t));do try{X1();break}catch(u){$v(e,u)}while(1);lc(),Go.current=g,be=l,Ne!==null?t=0:(Xe=null,Ke=0,t=Ue)}if(t!==0){if(t===2&&(l=Vl(e),l!==0&&(n=l,t=bu(e,l))),t===1)throw r=Sa,tn(e,0),xr(e,n),ht(e,Ie()),r;if(t===6)xr(e,n);else{if(l=e.current.alternate,!(n&30)&&!U1(l)&&(t=Ko(e,n),t===2&&(g=Vl(e),g!==0&&(n=g,t=bu(e,g))),t===1))throw r=Sa,tn(e,0),xr(e,n),ht(e,Ie()),r;switch(e.finishedWork=l,e.finishedLanes=n,t){case 0:case 1:throw Error(te(345));case 2:Gr(e,st,er);break;case 3:if(xr(e,n),(n&130023424)===n&&(t=Cc+500-Ie(),10<t)){if(Mo(e,0)!==0)break;if(l=e.suspendedLanes,(l&n)!==n){it(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ru(Gr.bind(null,e,st,er),t);break}Gr(e,st,er);break;case 4:if(xr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,l=-1;0<n;){var y=31-Nt(n);g=1<<y,y=t[y],y>l&&(l=y),n&=~g}if(n=l,n=Ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*H1(n/1960))-n,10<n){e.timeoutHandle=ru(Gr.bind(null,e,st,er),n);break}Gr(e,st,er);break;case 5:Gr(e,st,er);break;default:throw Error(te(329))}}}return ht(e,Ie()),e.callbackNode===r?Lv.bind(null,e):null}function bu(e,t){var r=ia;return e.current.memoizedState.isDehydrated&&(tn(e,t).flags|=256),e=Ko(e,t),e!==2&&(t=st,st=r,t!==null&&Cu(t)),e}function Cu(e){st===null?st=e:st.push.apply(st,e)}function U1(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var l=r[n],g=l.getSnapshot;l=l.value;try{if(!Ht(g(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xr(e,t){for(t&=~bc,t&=~vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Nt(t),n=1<<r;e[r]=-1,t&=~n}}function Df(e){if(be&6)throw Error(te(327));ri();var t=Mo(e,0);if(!(t&1))return ht(e,Ie()),null;var r=Ko(e,t);if(e.tag!==0&&r===2){var n=Vl(e);n!==0&&(t=n,r=bu(e,n))}if(r===1)throw r=Sa,tn(e,0),xr(e,t),ht(e,Ie()),r;if(r===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gr(e,st,er),ht(e,Ie()),null}function Sc(e,t){var r=be;be|=1;try{return e(t)}finally{be=r,be===0&&(ci=Ie()+500,fs&&Nr())}}function ln(e){br!==null&&br.tag===0&&!(be&6)&&ri();var t=be;be|=1;var r=kt.transition,n=Ce;try{if(kt.transition=null,Ce=1,e)return e()}finally{Ce=n,kt.transition=r,be=t,!(be&6)&&Nr()}}function Tc(){vt=Kn.current,Me(Kn)}function tn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_1(r)),Ne!==null)for(r=Ne.return;r!==null;){var n=r;switch(ac(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$o();break;case 3:li(),Me(ut),Me(rt),pc();break;case 5:dc(n);break;case 4:li();break;case 13:Me(Re);break;case 19:Me(Re);break;case 10:uc(n.type._context);break;case 22:case 23:Tc()}r=r.return}if(Xe=e,Ne=e=Mr(e.current,null),Ke=vt=t,Ue=0,Sa=null,bc=vs=sn=0,st=ia=null,Jr!==null){for(t=0;t<Jr.length;t++)if(r=Jr[t],n=r.interleaved,n!==null){r.interleaved=null;var l=n.next,g=r.pending;if(g!==null){var y=g.next;g.next=l,n.next=y}r.pending=n}Jr=null}return e}function $v(e,t){do{var r=Ne;try{if(lc(),_o.current=Xo,Wo){for(var n=Le.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}Wo=!1}if(on=0,We=He=Le=null,ra=!1,wa=0,wc.current=null,r===null||r.return===null){Ue=1,Sa=t,Ne=null;break}e:{var g=e,y=r.return,u=r,i=t;if(t=Ke,u.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var h=i,d=u,o=d.tag;if(!(d.mode&1)&&(o===0||o===11||o===15)){var a=d.alternate;a?(d.updateQueue=a.updateQueue,d.memoizedState=a.memoizedState,d.lanes=a.lanes):(d.updateQueue=null,d.memoizedState=null)}var s=_f(y);if(s!==null){s.flags&=-257,xf(s,y,u,g,t),s.mode&1&&yf(g,h,t),t=s,i=h;var c=t.updateQueue;if(c===null){var p=new Set;p.add(i),t.updateQueue=p}else c.add(i);break e}else{if(!(t&1)){yf(g,h,t),Ec();break e}i=Error(te(426))}}else if(Fe&&u.mode&1){var f=_f(y);if(f!==null){!(f.flags&65536)&&(f.flags|=256),xf(f,y,u,g,t),oc(ui(i,u));break e}}g=i=ui(i,u),Ue!==4&&(Ue=2),ia===null?ia=[g]:ia.push(g),g=y;do{switch(g.tag){case 3:g.flags|=65536,t&=-t,g.lanes|=t;var v=_v(g,i,t);hf(g,v);break e;case 1:u=i;var m=g.type,_=g.stateNode;if(!(g.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(kr===null||!kr.has(_)))){g.flags|=65536,t&=-t,g.lanes|=t;var x=xv(g,u,t);hf(g,x);break e}}g=g.return}while(g!==null)}Bv(r)}catch(w){t=w,Ne===r&&r!==null&&(Ne=r=r.return);continue}break}while(1)}function jv(){var e=Go.current;return Go.current=Xo,e===null?Xo:e}function Ec(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Xe===null||!(sn&268435455)&&!(vs&268435455)||xr(Xe,Ke)}function Ko(e,t){var r=be;be|=2;var n=jv();(Xe!==e||Ke!==t)&&(er=null,tn(e,t));do try{W1();break}catch(l){$v(e,l)}while(1);if(lc(),be=r,Go.current=n,Ne!==null)throw Error(te(261));return Xe=null,Ke=0,Ue}function W1(){for(;Ne!==null;)Iv(Ne)}function X1(){for(;Ne!==null&&!vy();)Iv(Ne)}function Iv(e){var t=zv(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?Bv(e):Ne=t,wc.current=null}function Bv(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=I1(r,t),r!==null){r.flags&=32767,Ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Ne=null;return}}else if(r=j1(r,t,vt),r!==null){Ne=r;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Ue===0&&(Ue=5)}function Gr(e,t,r){var n=Ce,l=kt.transition;try{kt.transition=null,Ce=1,G1(e,t,r,n)}finally{kt.transition=l,Ce=n}return null}function G1(e,t,r,n){do ri();while(br!==null);if(be&6)throw Error(te(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var g=r.lanes|r.childLanes;if(Ey(e,g),e===Xe&&(Ne=Xe=null,Ke=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||oo||(oo=!0,Hv(Ao,function(){return ri(),null})),g=(r.flags&15990)!==0,r.subtreeFlags&15990||g){g=kt.transition,kt.transition=null;var y=Ce;Ce=1;var u=be;be|=4,wc.current=null,N1(e,r),Fv(r,e),f1(eu),Do=!!Zl,eu=Zl=null,e.current=r,z1(r),my(),be=u,Ce=y,kt.transition=g}else e.current=r;if(oo&&(oo=!1,br=e,Vo=l),g=e.pendingLanes,g===0&&(kr=null),xy(r.stateNode),ht(e,Ie()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],n(l.value,{componentStack:l.stack,digest:l.digest});if(Yo)throw Yo=!1,e=xu,xu=null,e;return Vo&1&&e.tag!==0&&ri(),g=e.pendingLanes,g&1?e===wu?aa++:(aa=0,wu=e):aa=0,Nr(),null}function ri(){if(br!==null){var e=yg(Vo),t=kt.transition,r=Ce;try{if(kt.transition=null,Ce=16>e?16:e,br===null)var n=!1;else{if(e=br,br=null,Vo=0,be&6)throw Error(te(331));var l=be;for(be|=4,fe=e.current;fe!==null;){var g=fe,y=g.child;if(fe.flags&16){var u=g.deletions;if(u!==null){for(var i=0;i<u.length;i++){var h=u[i];for(fe=h;fe!==null;){var d=fe;switch(d.tag){case 0:case 11:case 15:na(8,d,g)}var o=d.child;if(o!==null)o.return=d,fe=o;else for(;fe!==null;){d=fe;var a=d.sibling,s=d.return;if(Av(d),d===h){fe=null;break}if(a!==null){a.return=s,fe=a;break}fe=s}}}var c=g.alternate;if(c!==null){var p=c.child;if(p!==null){c.child=null;do{var f=p.sibling;p.sibling=null,p=f}while(p!==null)}}fe=g}}if(g.subtreeFlags&2064&&y!==null)y.return=g,fe=y;else e:for(;fe!==null;){if(g=fe,g.flags&2048)switch(g.tag){case 0:case 11:case 15:na(9,g,g.return)}var v=g.sibling;if(v!==null){v.return=g.return,fe=v;break e}fe=g.return}}var m=e.current;for(fe=m;fe!==null;){y=fe;var _=y.child;if(y.subtreeFlags&2064&&_!==null)_.return=y,fe=_;else e:for(y=m;fe!==null;){if(u=fe,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:gs(9,u)}}catch(w){je(u,u.return,w)}if(u===y){fe=null;break e}var x=u.sibling;if(x!==null){x.return=u.return,fe=x;break e}fe=u.return}}if(be=l,Nr(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(ss,e)}catch{}n=!0}return n}finally{Ce=r,kt.transition=t}}return!1}function Ff(e,t,r){t=ui(r,t),t=_v(e,t,1),e=Pr(e,t,1),t=it(),e!==null&&(Aa(e,1,t),ht(e,t))}function je(e,t,r){if(e.tag===3)Ff(e,e,r);else for(;t!==null;){if(t.tag===3){Ff(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(kr===null||!kr.has(n))){e=ui(r,e),e=xv(t,e,1),t=Pr(t,e,1),e=it(),t!==null&&(Aa(t,1,e),ht(t,e));break}}t=t.return}}function Y1(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&r,Xe===e&&(Ke&r)===r&&(Ue===4||Ue===3&&(Ke&130023424)===Ke&&500>Ie()-Cc?tn(e,0):bc|=r),ht(e,t)}function Nv(e,t){t===0&&(e.mode&1?(t=qa,qa<<=1,!(qa&130023424)&&(qa=4194304)):t=1);var r=it();e=lr(e,t),e!==null&&(Aa(e,t,r),ht(e,r))}function V1(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Nv(e,r)}function K1(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(t),Nv(e,r)}var zv;zv=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)lt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return lt=!1,$1(e,t,r);lt=!!(e.flags&131072)}else lt=!1,Fe&&t.flags&1048576&&Wg(t,Bo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;wo(e,t),e=t.pendingProps;var l=ai(t,rt.current);ti(t,r),l=vc(null,t,n,e,l,r);var g=mc();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(n)?(g=!0,jo(t)):g=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,hc(t),l.updater=ds,t.stateNode=l,l._reactInternals=t,uu(t,n,e,r),t=fu(null,t,n,!0,g,r)):(t.tag=0,Fe&&g&&ic(t),nt(null,t,l,r),t=t.child),t;case 16:n=t.elementType;e:{switch(wo(e,t),e=t.pendingProps,l=n._init,n=l(n._payload),t.type=n,l=t.tag=Q1(n),e=Lt(n,e),l){case 0:t=hu(null,t,n,e,r);break e;case 1:t=Cf(null,t,n,e,r);break e;case 11:t=wf(null,t,n,e,r);break e;case 14:t=bf(null,t,n,Lt(n.type,e),r);break e}throw Error(te(306,n,""))}return t;case 0:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Lt(n,l),hu(e,t,n,l,r);case 1:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Lt(n,l),Cf(e,t,n,l,r);case 3:e:{if(Sv(t),e===null)throw Error(te(387));n=t.pendingProps,g=t.memoizedState,l=g.element,Vg(e,t),Ho(t,n,null,r);var y=t.memoizedState;if(n=y.element,g.isDehydrated)if(g={element:n,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=g,t.memoizedState=g,t.flags&256){l=ui(Error(te(423)),t),t=Sf(e,t,n,r,l);break e}else if(n!==l){l=ui(Error(te(424)),t),t=Sf(e,t,n,r,l);break e}else for(mt=Or(t.stateNode.containerInfo.firstChild),xt=t,Fe=!0,jt=null,r=Jg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(oi(),n===l){t=ur(e,t,r);break e}nt(e,t,n,r)}t=t.child}return t;case 5:return Zg(t),e===null&&ou(t),n=t.type,l=t.pendingProps,g=e!==null?e.memoizedProps:null,y=l.children,tu(n,l)?y=null:g!==null&&tu(n,g)&&(t.flags|=32),Cv(e,t),nt(e,t,y,r),t.child;case 6:return e===null&&ou(t),null;case 13:return Tv(e,t,r);case 4:return fc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=si(t,null,n,r):nt(e,t,n,r),t.child;case 11:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Lt(n,l),wf(e,t,n,l,r);case 7:return nt(e,t,t.pendingProps,r),t.child;case 8:return nt(e,t,t.pendingProps.children,r),t.child;case 12:return nt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,l=t.pendingProps,g=t.memoizedProps,y=l.value,Oe(No,n._currentValue),n._currentValue=y,g!==null)if(Ht(g.value,y)){if(g.children===l.children&&!ut.current){t=ur(e,t,r);break e}}else for(g=t.child,g!==null&&(g.return=t);g!==null;){var u=g.dependencies;if(u!==null){y=g.child;for(var i=u.firstContext;i!==null;){if(i.context===n){if(g.tag===1){i=ir(-1,r&-r),i.tag=2;var h=g.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?i.next=i:(i.next=d.next,d.next=i),h.pending=i}}g.lanes|=r,i=g.alternate,i!==null&&(i.lanes|=r),su(g.return,r,t),u.lanes|=r;break}i=i.next}}else if(g.tag===10)y=g.type===t.type?null:g.child;else if(g.tag===18){if(y=g.return,y===null)throw Error(te(341));y.lanes|=r,u=y.alternate,u!==null&&(u.lanes|=r),su(y,r,t),y=g.sibling}else y=g.child;if(y!==null)y.return=g;else for(y=g;y!==null;){if(y===t){y=null;break}if(g=y.sibling,g!==null){g.return=y.return,y=g;break}y=y.return}g=y}nt(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,n=t.pendingProps.children,ti(t,r),l=At(l),n=n(l),t.flags|=1,nt(e,t,n,r),t.child;case 14:return n=t.type,l=Lt(n,t.pendingProps),l=Lt(n.type,l),bf(e,t,n,l,r);case 15:return wv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Lt(n,l),wo(e,t),t.tag=1,ct(n)?(e=!0,jo(t)):e=!1,ti(t,r),qg(t,n,l),uu(t,n,l,r),fu(null,t,n,!0,e,r);case 19:return Ev(e,t,r);case 22:return bv(e,t,r)}throw Error(te(156,t.tag))};function Hv(e,t){return pg(e,t)}function q1(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,t,r,n){return new q1(e,t,r,n)}function Oc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Q1(e){if(typeof e=="function")return Oc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gu)return 11;if(e===Yu)return 14}return 2}function Mr(e,t){var r=e.alternate;return r===null?(r=Pt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function So(e,t,r,n,l,g){var y=2;if(n=e,typeof e=="function")Oc(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case Bn:return rn(r.children,l,g,t);case Xu:y=8,l|=8;break;case Fl:return e=Pt(12,r,t,l|2),e.elementType=Fl,e.lanes=g,e;case Rl:return e=Pt(13,r,t,l),e.elementType=Rl,e.lanes=g,e;case Ll:return e=Pt(19,r,t,l),e.elementType=Ll,e.lanes=g,e;case Qp:return ms(r,l,g,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kp:y=10;break e;case qp:y=9;break e;case Gu:y=11;break e;case Yu:y=14;break e;case mr:y=16,n=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=Pt(y,r,t,l),t.elementType=e,t.type=n,t.lanes=g,t}function rn(e,t,r,n){return e=Pt(7,e,n,t),e.lanes=r,e}function ms(e,t,r,n){return e=Pt(22,e,n,t),e.elementType=Qp,e.lanes=r,e.stateNode={isHidden:!1},e}function hl(e,t,r){return e=Pt(6,e,null,t),e.lanes=r,e}function fl(e,t,r){return t=Pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function J1(e,t,r,n,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gs(0),this.expirationTimes=Gs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.identifierPrefix=n,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Pc(e,t,r,n,l,g,y,u,i){return e=new J1(e,t,r,u,i),t===1?(t=1,g===!0&&(t|=8)):t=0,g=Pt(3,null,null,t),e.current=g,g.stateNode=e,g.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hc(g),e}function Z1(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:In,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Uv(e){if(!e)return Rr;e=e._reactInternals;e:{if(hn(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var r=e.type;if(ct(r))return Hg(e,r,t)}return t}function Wv(e,t,r,n,l,g,y,u,i){return e=Pc(r,n,!0,e,l,g,y,u,i),e.context=Uv(null),r=e.current,n=it(),l=Ar(r),g=ir(n,l),g.callback=t??null,Pr(r,g,l),e.current.lanes=l,Aa(e,l,n),ht(e,n),e}function ys(e,t,r,n){var l=t.current,g=it(),y=Ar(l);return r=Uv(r),t.context===null?t.context=r:t.pendingContext=r,t=ir(g,y),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Pr(l,t,y),e!==null&&(zt(e,l,y,g),yo(e,l,y)),y}function qo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function kc(e,t){Rf(e,t),(e=e.alternate)&&Rf(e,t)}function e_(){return null}var Xv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ac(e){this._internalRoot=e}_s.prototype.render=Ac.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));ys(e,t,null,null)};_s.prototype.unmount=Ac.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ln(function(){ys(null,e,null,null)}),t[sr]=null}};function _s(e){this._internalRoot=e}_s.prototype.unstable_scheduleHydration=function(e){if(e){var t=wg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<_r.length&&t!==0&&t<_r[r].priority;r++);_r.splice(r,0,e),r===0&&Cg(e)}};function Mc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lf(){}function t_(e,t,r,n,l){if(l){if(typeof n=="function"){var g=n;n=function(){var h=qo(y);g.call(h)}}var y=Wv(t,n,e,0,null,!1,!1,"",Lf);return e._reactRootContainer=y,e[sr]=y.current,va(e.nodeType===8?e.parentNode:e),ln(),y}for(;l=e.lastChild;)e.removeChild(l);if(typeof n=="function"){var u=n;n=function(){var h=qo(i);u.call(h)}}var i=Pc(e,0,!1,null,null,!1,!1,"",Lf);return e._reactRootContainer=i,e[sr]=i.current,va(e.nodeType===8?e.parentNode:e),ln(function(){ys(t,i,r,n)}),i}function ws(e,t,r,n,l){var g=r._reactRootContainer;if(g){var y=g;if(typeof l=="function"){var u=l;l=function(){var i=qo(y);u.call(i)}}ys(t,y,e,l)}else y=t_(r,t,e,l,n);return qo(y)}_g=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Xi(t.pendingLanes);r!==0&&(qu(t,r|1),ht(t,Ie()),!(be&6)&&(ci=Ie()+500,Nr()))}break;case 13:ln(function(){var n=lr(e,1);if(n!==null){var l=it();zt(n,e,1,l)}}),kc(e,1)}};Qu=function(e){if(e.tag===13){var t=lr(e,134217728);if(t!==null){var r=it();zt(t,e,134217728,r)}kc(e,134217728)}};xg=function(e){if(e.tag===13){var t=Ar(e),r=lr(e,t);if(r!==null){var n=it();zt(r,e,t,n)}kc(e,t)}};wg=function(){return Ce};bg=function(e,t){var r=Ce;try{return Ce=e,t()}finally{Ce=r}};Xl=function(e,t,r){switch(t){case"input":if(Il(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var l=hs(n);if(!l)throw Error(te(90));Zp(n),Il(n,l)}}}break;case"textarea":tg(e,r);break;case"select":t=r.value,t!=null&&Qn(e,!!r.multiple,t,!1)}};lg=Sc;ug=ln;var r_={usingClientEntryPoint:!1,Events:[Da,Un,hs,og,sg,Sc]},$i={findFiberByHostInstance:Qr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},n_={bundleType:$i.bundleType,version:$i.version,rendererPackageName:$i.rendererPackageName,rendererConfig:$i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fg(e),e===null?null:e.stateNode},findFiberByHostInstance:$i.findFiberByHostInstance||e_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var so=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!so.isDisabled&&so.supportsFiber)try{ss=so.inject(n_),Vt=so}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r_;Ct.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mc(t))throw Error(te(200));return Z1(e,t,null,r)};Ct.createRoot=function(e,t){if(!Mc(e))throw Error(te(299));var r=!1,n="",l=Xv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Pc(e,1,!1,null,null,r,!1,n,l),e[sr]=t.current,va(e.nodeType===8?e.parentNode:e),new Ac(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=fg(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return ln(e)};Ct.hydrate=function(e,t,r){if(!xs(t))throw Error(te(200));return ws(null,e,t,!0,r)};Ct.hydrateRoot=function(e,t,r){if(!Mc(e))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,l=!1,g="",y=Xv;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(g=r.identifierPrefix),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),t=Wv(t,null,e,1,r??null,l,!1,g,y),e[sr]=t.current,va(e),n)for(e=0;e<n.length;e++)r=n[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new _s(t)};Ct.render=function(e,t,r){if(!xs(t))throw Error(te(200));return ws(null,e,t,!1,r)};Ct.unmountComponentAtNode=function(e){if(!xs(e))throw Error(te(40));return e._reactRootContainer?(ln(function(){ws(null,null,e,!1,function(){e._reactRootContainer=null,e[sr]=null})}),!0):!1};Ct.unstable_batchedUpdates=Sc;Ct.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!xs(r))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return ws(e,t,r,!1,n)};Ct.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=Ct})(ey);var $f=Al;kl.createRoot=$f.createRoot,kl.hydrateRoot=$f.hydrateRoot;const i_="/calendarizer/assets/react-35ef61ed.svg",a_="/calendarizer/assets/file_upload-e6d24c0d.svg",o_=({onDropimage:e,mainIcon:t,subtitleText:r})=>Bt("div",{className:"bg-sky-400 flex rounded-lg flex-col items-center justify-center p-12 hover:bg-sky-500",onDragOver:g=>{g.stopPropagation(),g.preventDefault()},onDrop:g=>{g.preventDefault(),g.stopPropagation();const{files:y}=g.dataTransfer;y!=null&&y.length&&e(URL.createObjectURL(y[0]))},children:[Se("img",{src:t,className:"h-20 w-20 mx-auto my-4"}),Se("h2",{className:"text-black mb-4 text-xl font-sans w-40 text-center",children:r})]}),s_=({onUpload:e,text:t,icon:r})=>Se("label",{htmlFor:"upload-file",children:Bt("div",{className:"bg-green-600 mt-2 py-7 flex flex-center justify-center rounded-lg cursor-pointer hover:bg-green-500",children:[Se("input",{id:"upload-file",accept:"image/*",type:"file",className:"hidden",onChange:l=>{const{files:g}=l.target;g!=null&&g.length&&e(URL.createObjectURL(g[0]))}}),r&&Se("img",{src:r}),Bt("h4",{className:"text-black text-xl font-sans ml-4",children:["Select from computer",t]})]})});var ar={};const l_={},u_=Object.freeze(Object.defineProperty({__proto__:null,default:l_},Symbol.toStringTag,{value:"Module"})),dl=Am(u_);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var r=dl,n=new r.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=n.document,t.jsdomImplForWrapper=dl.implForWrapper,t.nodeCanvas=dl.Canvas,t.window=n,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function u(s,c){if(this.__eventListeners[s]){var p=this.__eventListeners[s];c?p[p.indexOf(c)]=!1:t.util.array.fill(p,!1)}}function i(s,c){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var p in s)this.on(p,s[p]);else this.__eventListeners[s]||(this.__eventListeners[s]=[]),this.__eventListeners[s].push(c);return this}function h(s,c){var p=function(){c.apply(this,arguments),this.off(s,p)}.bind(this);this.on(s,p)}function d(s,c){if(arguments.length===1)for(var p in s)h.call(this,p,s[p]);else h.call(this,s,c);return this}function o(s,c){if(!this.__eventListeners)return this;if(arguments.length===0)for(s in this.__eventListeners)u.call(this,s);else if(arguments.length===1&&typeof arguments[0]=="object")for(var p in s)u.call(this,p,s[p]);else u.call(this,s,c);return this}function a(s,c){if(!this.__eventListeners)return this;var p=this.__eventListeners[s];if(!p)return this;for(var f=0,v=p.length;f<v;f++)p[f]&&p[f].call(this,c||{});return this.__eventListeners[s]=p.filter(function(m){return m!==!1}),this}t.Observable={fire:a,on:i,once:d,off:o}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var u=0,i=arguments.length;u<i;u++)this._onObjectAdded(arguments[u]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(u,i,h){var d=this._objects;return h?d[i]=u:d.splice(i,0,u),this._onObjectAdded&&this._onObjectAdded(u),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var u=this._objects,i,h=!1,d=0,o=arguments.length;d<o;d++)i=u.indexOf(arguments[d]),i!==-1&&(h=!0,u.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[d]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(u,i){for(var h=this.getObjects(),d=0,o=h.length;d<o;d++)u.call(i,h[d],d,h);return this},getObjects:function(u){return typeof u>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===u})},item:function(u){return this._objects[u]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(u,i){return this._objects.indexOf(u)>-1?!0:i?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(u,!0)}):!1},complexity:function(){return this._objects.reduce(function(u,i){return u+=i.complexity?i.complexity():0,u},0)}},t.CommonMethods={_setOptions:function(u){for(var i in u)this.set(i,u[i])},_initGradient:function(u,i){u&&u.colorStops&&!(u instanceof t.Gradient)&&this.set(i,new t.Gradient(u))},_initPattern:function(u,i,h){u&&u.source&&!(u instanceof t.Pattern)?this.set(i,new t.Pattern(u,h)):h&&h()},_setObject:function(u){for(var i in u)this._set(i,u[i])},set:function(u,i){return typeof u=="object"?this._setObject(u):this._set(u,i),this},_set:function(u,i){this[u]=i},toggle:function(u){var i=this.get(u);return typeof i=="boolean"&&this.set(u,!i),this},get:function(u){return this[u]}},function(u){var i=Math.sqrt,h=Math.atan2,d=Math.pow,o=Math.PI/180,a=Math.PI/2;t.util={cos:function(s){if(s===0)return 1;s<0&&(s=-s);var c=s/a;switch(c){case 1:case 3:return 0;case 2:return-1}return Math.cos(s)},sin:function(s){if(s===0)return 0;var c=s/a,p=1;switch(s<0&&(p=-1),c){case 1:return p;case 2:return 0;case 3:return-p}return Math.sin(s)},removeFromArray:function(s,c){var p=s.indexOf(c);return p!==-1&&s.splice(p,1),s},getRandomInt:function(s,c){return Math.floor(Math.random()*(c-s+1))+s},degreesToRadians:function(s){return s*o},radiansToDegrees:function(s){return s/o},rotatePoint:function(s,c,p){var f=new t.Point(s.x-c.x,s.y-c.y),v=t.util.rotateVector(f,p);return new t.Point(v.x,v.y).addEquals(c)},rotateVector:function(s,c){var p=t.util.sin(c),f=t.util.cos(c),v=s.x*f-s.y*p,m=s.x*p+s.y*f;return{x:v,y:m}},createVector:function(s,c){return new t.Point(c.x-s.x,c.y-s.y)},calcAngleBetweenVectors:function(s,c){return Math.acos((s.x*c.x+s.y*c.y)/(Math.hypot(s.x,s.y)*Math.hypot(c.x,c.y)))},getHatVector:function(s){return new t.Point(s.x,s.y).multiply(1/Math.hypot(s.x,s.y))},getBisector:function(s,c,p){var f=t.util.createVector(s,c),v=t.util.createVector(s,p),m=t.util.calcAngleBetweenVectors(f,v),_=t.util.calcAngleBetweenVectors(t.util.rotateVector(f,m),v),x=m*(_===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(f,x)),angle:m}},projectStrokeOnPoints:function(s,c,p){var f=[],v=c.strokeWidth/2,m=c.strokeUniform?new t.Point(1/c.scaleX,1/c.scaleY):new t.Point(1,1),_=function(x){var w=v/Math.hypot(x.x,x.y);return new t.Point(x.x*w*m.x,x.y*w*m.y)};return s.length<=1||s.forEach(function(x,w){var b=new t.Point(x.x,x.y),S,O;w===0?(O=s[w+1],S=p?_(t.util.createVector(O,b)).addEquals(b):s[s.length-1]):w===s.length-1?(S=s[w-1],O=p?_(t.util.createVector(S,b)).addEquals(b):s[0]):(S=s[w-1],O=s[w+1]);var I=t.util.getBisector(b,S,O),B=I.vector,Q=I.angle,ie,le;if(c.strokeLineJoin==="miter"&&(ie=-v/Math.sin(Q/2),le=new t.Point(B.x*ie*m.x,B.y*ie*m.y),Math.hypot(le.x,le.y)/v<=c.strokeMiterLimit)){f.push(b.add(le)),f.push(b.subtract(le));return}ie=-v*Math.SQRT2,le=new t.Point(B.x*ie*m.x,B.y*ie*m.y),f.push(b.add(le)),f.push(b.subtract(le))}),f},transformPoint:function(s,c,p){return p?new t.Point(c[0]*s.x+c[2]*s.y,c[1]*s.x+c[3]*s.y):new t.Point(c[0]*s.x+c[2]*s.y+c[4],c[1]*s.x+c[3]*s.y+c[5])},makeBoundingBoxFromPoints:function(s,c){if(c)for(var p=0;p<s.length;p++)s[p]=t.util.transformPoint(s[p],c);var f=[s[0].x,s[1].x,s[2].x,s[3].x],v=t.util.array.min(f),m=t.util.array.max(f),_=m-v,x=[s[0].y,s[1].y,s[2].y,s[3].y],w=t.util.array.min(x),b=t.util.array.max(x),S=b-w;return{left:v,top:w,width:_,height:S}},invertTransform:function(s){var c=1/(s[0]*s[3]-s[1]*s[2]),p=[c*s[3],-c*s[1],-c*s[2],c*s[0]],f=t.util.transformPoint({x:s[4],y:s[5]},p,!0);return p[4]=-f.x,p[5]=-f.y,p},toFixed:function(s,c){return parseFloat(Number(s).toFixed(c))},parseUnit:function(s,c){var p=/\D{0,2}$/.exec(s),f=parseFloat(s);switch(c||(c=t.Text.DEFAULT_SVG_FONT_SIZE),p[0]){case"mm":return f*t.DPI/25.4;case"cm":return f*t.DPI/2.54;case"in":return f*t.DPI;case"pt":return f*t.DPI/72;case"pc":return f*t.DPI/72*12;case"em":return f*c;default:return f}},falseFunction:function(){return!1},getKlass:function(s,c){return s=t.util.string.camelize(s.charAt(0).toUpperCase()+s.slice(1)),t.util.resolveNamespace(c)[s]},getSvgAttributes:function(s){var c=["instantiated_by_use","style","id","class"];switch(s){case"linearGradient":c=c.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":c=c.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":c=c.concat(["offset","stop-color","stop-opacity"]);break}return c},resolveNamespace:function(s){if(!s)return t;var c=s.split("."),p=c.length,f,v=u||t.window;for(f=0;f<p;++f)v=v[c[f]];return v},loadImage:function(s,c,p,f){if(!s){c&&c.call(p,s);return}var v=t.util.createImage(),m=function(){c&&c.call(p,v,!1),v=v.onload=v.onerror=null};v.onload=m,v.onerror=function(){t.log("Error loading "+v.src),c&&c.call(p,null,!0),v=v.onload=v.onerror=null},s.indexOf("data")!==0&&f!==void 0&&f!==null&&(v.crossOrigin=f),s.substring(0,14)==="data:image/svg"&&(v.onload=null,t.util.loadImageInDom(v,m)),v.src=s},loadImageInDom:function(s,c){var p=t.document.createElement("div");p.style.width=p.style.height="1px",p.style.left=p.style.top="-100%",p.style.position="absolute",p.appendChild(s),t.document.querySelector("body").appendChild(p),s.onload=function(){c(),p.parentNode.removeChild(p),p=null}},enlivenObjects:function(s,c,p,f){s=s||[];var v=[],m=0,_=s.length;function x(){++m===_&&c&&c(v.filter(function(w){return w}))}if(!_){c&&c(v);return}s.forEach(function(w,b){if(!w||!w.type){x();return}var S=t.util.getKlass(w.type,p);S.fromObject(w,function(O,I){I||(v[b]=O),f&&f(w,O,I),x()})})},enlivenObjectEnlivables:function(s,c,p){var f=t.Object.ENLIVEN_PROPS.filter(function(v){return!!s[v]});t.util.enlivenObjects(f.map(function(v){return s[v]}),function(v){var m={};f.forEach(function(_,x){m[_]=v[x],c&&(c[_]=v[x])}),p&&p(m)})},enlivenPatterns:function(s,c){s=s||[];function p(){++v===m&&c&&c(f)}var f=[],v=0,m=s.length;if(!m){c&&c(f);return}s.forEach(function(_,x){_&&_.source?new t.Pattern(_,function(w){f[x]=w,p()}):(f[x]=_,p())})},groupSVGElements:function(s,c,p){var f;return s&&s.length===1?(typeof p<"u"&&(s[0].sourcePath=p),s[0]):(c&&(c.width&&c.height?c.centerPoint={x:c.width/2,y:c.height/2}:(delete c.width,delete c.height)),f=new t.Group(s,c),typeof p<"u"&&(f.sourcePath=p),f)},populateWithProperties:function(s,c,p){if(p&&Array.isArray(p))for(var f=0,v=p.length;f<v;f++)p[f]in s&&(c[p[f]]=s[p[f]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(s){var c=t.util.createCanvasElement();return c.width=s.width,c.height=s.height,c.getContext("2d").drawImage(s,0,0),c},toDataURL:function(s,c,p){return s.toDataURL("image/"+c,p)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(s,c,p){return[s[0]*c[0]+s[2]*c[1],s[1]*c[0]+s[3]*c[1],s[0]*c[2]+s[2]*c[3],s[1]*c[2]+s[3]*c[3],p?0:s[0]*c[4]+s[2]*c[5]+s[4],p?0:s[1]*c[4]+s[3]*c[5]+s[5]]},qrDecompose:function(s){var c=h(s[1],s[0]),p=d(s[0],2)+d(s[1],2),f=i(p),v=(s[0]*s[3]-s[2]*s[1])/f,m=h(s[0]*s[2]+s[1]*s[3],p);return{angle:c/o,scaleX:f,scaleY:v,skewX:m/o,skewY:0,translateX:s[4],translateY:s[5]}},calcRotateMatrix:function(s){if(!s.angle)return t.iMatrix.concat();var c=t.util.degreesToRadians(s.angle),p=t.util.cos(c),f=t.util.sin(c);return[p,f,-f,p,0,0]},calcDimensionsMatrix:function(s){var c=typeof s.scaleX>"u"?1:s.scaleX,p=typeof s.scaleY>"u"?1:s.scaleY,f=[s.flipX?-c:c,0,0,s.flipY?-p:p,0,0],v=t.util.multiplyTransformMatrices,m=t.util.degreesToRadians;return s.skewX&&(f=v(f,[1,0,Math.tan(m(s.skewX)),1],!0)),s.skewY&&(f=v(f,[1,Math.tan(m(s.skewY)),0,1],!0)),f},composeMatrix:function(s){var c=[1,0,0,1,s.translateX||0,s.translateY||0],p=t.util.multiplyTransformMatrices;return s.angle&&(c=p(c,t.util.calcRotateMatrix(s))),(s.scaleX!==1||s.scaleY!==1||s.skewX||s.skewY||s.flipX||s.flipY)&&(c=p(c,t.util.calcDimensionsMatrix(s))),c},resetObjectTransform:function(s){s.scaleX=1,s.scaleY=1,s.skewX=0,s.skewY=0,s.flipX=!1,s.flipY=!1,s.rotate(0)},saveObjectTransform:function(s){return{scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,angle:s.angle,left:s.left,flipX:s.flipX,flipY:s.flipY,top:s.top}},isTransparent:function(s,c,p,f){f>0&&(c>f?c-=f:c=0,p>f?p-=f:p=0);var v=!0,m,_,x=s.getImageData(c,p,f*2||1,f*2||1),w=x.data.length;for(m=3;m<w&&(_=x.data[m],v=_<=0,v!==!1);m+=4);return x=null,v},parsePreserveAspectRatioAttribute:function(s){var c="meet",p="Mid",f="Mid",v=s.split(" "),m;return v&&v.length&&(c=v.pop(),c!=="meet"&&c!=="slice"?(m=c,c="meet"):v.length&&(m=v.pop())),p=m!=="none"?m.slice(1,4):"none",f=m!=="none"?m.slice(5,8):"none",{meetOrSlice:c,alignX:p,alignY:f}},clearFabricFontCache:function(s){s=(s||"").toLowerCase(),s?t.charWidthsCache[s]&&delete t.charWidthsCache[s]:t.charWidthsCache={}},limitDimsByArea:function(s,c){var p=Math.sqrt(c*s),f=Math.floor(c/p);return{x:Math.floor(p),y:f}},capValue:function(s,c,p){return Math.max(s,Math.min(c,p))},findScaleToFit:function(s,c){return Math.min(c.width/s.width,c.height/s.height)},findScaleToCover:function(s,c){return Math.max(c.width/s.width,c.height/s.height)},matrixToSVG:function(s){return"matrix("+s.map(function(c){return t.util.toFixed(c,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(s,c){var p=t.util.invertTransform(c),f=t.util.multiplyTransformMatrices(p,s.calcOwnMatrix());t.util.applyTransformToObject(s,f)},addTransformToObject:function(s,c){t.util.applyTransformToObject(s,t.util.multiplyTransformMatrices(c,s.calcOwnMatrix()))},applyTransformToObject:function(s,c){var p=t.util.qrDecompose(c),f=new t.Point(p.translateX,p.translateY);s.flipX=!1,s.flipY=!1,s.set("scaleX",p.scaleX),s.set("scaleY",p.scaleY),s.skewX=p.skewX,s.skewY=p.skewY,s.angle=p.angle,s.setPositionByOrigin(f,"center","center")},sizeAfterTransform:function(s,c,p){var f=s/2,v=c/2,m=[{x:-f,y:-v},{x:f,y:-v},{x:-f,y:v},{x:f,y:v}],_=t.util.calcDimensionsMatrix(p),x=t.util.makeBoundingBoxFromPoints(m,_);return{x:x.width,y:x.height}},mergeClipPaths:function(s,c){var p=s,f=c;p.inverted&&!f.inverted&&(p=c,f=s),t.util.applyTransformToObject(f,t.util.multiplyTransformMatrices(t.util.invertTransform(p.calcTransformMatrix()),f.calcTransformMatrix()));var v=p.inverted&&f.inverted;return v&&(p.inverted=f.inverted=!1),new t.Group([p],{clipPath:f,inverted:v})},hasStyleChanged:function(s,c,p){return p=p||!1,s.fill!==c.fill||s.stroke!==c.stroke||s.strokeWidth!==c.strokeWidth||s.fontSize!==c.fontSize||s.fontFamily!==c.fontFamily||s.fontWeight!==c.fontWeight||s.fontStyle!==c.fontStyle||s.textBackgroundColor!==c.textBackgroundColor||s.deltaY!==c.deltaY||p&&(s.overline!==c.overline||s.underline!==c.underline||s.linethrough!==c.linethrough)},stylesToArray:function(p,c){for(var p=t.util.object.clone(p,!0),f=c.split(`
`),v=-1,m={},_=[],x=0;x<f.length;x++){if(!p[x]){v+=f[x].length;continue}for(var w=0;w<f[x].length;w++){v++;var b=p[x][w];if(b&&Object.keys(b).length>0){var S=t.util.hasStyleChanged(m,b,!0);S?_.push({start:v,end:v+1,style:b}):_[_.length-1].end++}m=b||{}}}return _},stylesFromArray:function(s,c){if(!Array.isArray(s))return s;for(var p=c.split(`
`),f=-1,v=0,m={},_=0;_<p.length;_++)for(var x=0;x<p[_].length;x++)f++,s[v]&&s[v].start<=f&&f<s[v].end&&(m[_]=m[_]||{},m[_][x]=Object.assign({},s[v].style),f===s[v].end-1&&v++);return m}}}(e),function(){var u=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function d(C,P,A,M,N,k,T,F,$,X,z){var K=t.util.cos(C),Z=t.util.sin(C),ae=t.util.cos(P),H=t.util.sin(P),j=A*N*ae-M*k*H+T,Y=M*N*ae+A*k*H+F,V=X+$*(-A*N*Z-M*k*K),W=z+$*(-M*N*Z+A*k*K),D=j+$*(A*N*H+M*k*ae),L=Y+$*(M*N*H-A*k*ae);return["C",V,W,D,L,j,Y]}function o(C,P,A,M,N,k,T){var F=Math.PI,$=T*F/180,X=t.util.sin($),z=t.util.cos($),K=0,Z=0;A=Math.abs(A),M=Math.abs(M);var ae=-z*C*.5-X*P*.5,H=-z*P*.5+X*C*.5,j=A*A,Y=M*M,V=H*H,W=ae*ae,D=j*Y-j*V-Y*W,L=0;if(D<0){var G=Math.sqrt(1-D/(j*Y));A*=G,M*=G}else L=(N===k?-1:1)*Math.sqrt(D/(j*V+Y*W));var q=L*A*H/M,R=-L*M*ae/A,ee=z*q-X*R+C*.5,se=X*q+z*R+P*.5,ce=a(1,0,(ae-q)/A,(H-R)/M),he=a((ae-q)/A,(H-R)/M,(-ae-q)/A,(-H-R)/M);k===0&&he>0?he-=2*F:k===1&&he<0&&(he+=2*F);for(var ve=Math.ceil(Math.abs(he/F*2)),ge=[],ye=he/ve,ze=8/3*Math.sin(ye/4)*Math.sin(ye/4)/Math.sin(ye/2),Ge=ce+ye,Qe=0;Qe<ve;Qe++)ge[Qe]=d(ce,Ge,z,X,A,M,ee,se,ze,K,Z),K=ge[Qe][5],Z=ge[Qe][6],ce=Ge,Ge+=ye;return ge}function a(C,P,A,M){var N=Math.atan2(P,C),k=Math.atan2(M,A);return k>=N?k-N:2*Math.PI-(N-k)}function s(C,P,A,M,N,k,T,F){var $;if(t.cachesBoundsOfCurve&&($=u.call(arguments),t.boundsOfCurveCache[$]))return t.boundsOfCurveCache[$];var X=Math.sqrt,z=Math.min,K=Math.max,Z=Math.abs,ae=[],H=[[],[]],j,Y,V,W,D,L,G,q;Y=6*C-12*A+6*N,j=-3*C+9*A-9*N+3*T,V=3*A-3*C;for(var R=0;R<2;++R){if(R>0&&(Y=6*P-12*M+6*k,j=-3*P+9*M-9*k+3*F,V=3*M-3*P),Z(j)<1e-12){if(Z(Y)<1e-12)continue;W=-V/Y,0<W&&W<1&&ae.push(W);continue}G=Y*Y-4*V*j,!(G<0)&&(q=X(G),D=(-Y+q)/(2*j),0<D&&D<1&&ae.push(D),L=(-Y-q)/(2*j),0<L&&L<1&&ae.push(L))}for(var ee,se,ce=ae.length,he=ce,ve;ce--;)W=ae[ce],ve=1-W,ee=ve*ve*ve*C+3*ve*ve*W*A+3*ve*W*W*N+W*W*W*T,H[0][ce]=ee,se=ve*ve*ve*P+3*ve*ve*W*M+3*ve*W*W*k+W*W*W*F,H[1][ce]=se;H[0][he]=C,H[1][he]=P,H[0][he+1]=T,H[1][he+1]=F;var ge=[{x:z.apply(null,H[0]),y:z.apply(null,H[1])},{x:K.apply(null,H[0]),y:K.apply(null,H[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[$]=ge),ge}function c(C,P,A){for(var M=A[1],N=A[2],k=A[3],T=A[4],F=A[5],$=A[6],X=A[7],z=o($-C,X-P,M,N,T,F,k),K=0,Z=z.length;K<Z;K++)z[K][1]+=C,z[K][2]+=P,z[K][3]+=C,z[K][4]+=P,z[K][5]+=C,z[K][6]+=P;return z}function p(C){var P=0,A=0,M=C.length,N=0,k=0,T,F,$,X=[],z,K,Z;for(F=0;F<M;++F){switch($=!1,T=C[F].slice(0),T[0]){case"l":T[0]="L",T[1]+=P,T[2]+=A;case"L":P=T[1],A=T[2];break;case"h":T[1]+=P;case"H":T[0]="L",T[2]=A,P=T[1];break;case"v":T[1]+=A;case"V":T[0]="L",A=T[1],T[1]=P,T[2]=A;break;case"m":T[0]="M",T[1]+=P,T[2]+=A;case"M":P=T[1],A=T[2],N=T[1],k=T[2];break;case"c":T[0]="C",T[1]+=P,T[2]+=A,T[3]+=P,T[4]+=A,T[5]+=P,T[6]+=A;case"C":K=T[3],Z=T[4],P=T[5],A=T[6];break;case"s":T[0]="S",T[1]+=P,T[2]+=A,T[3]+=P,T[4]+=A;case"S":z==="C"?(K=2*P-K,Z=2*A-Z):(K=P,Z=A),P=T[3],A=T[4],T[0]="C",T[5]=T[3],T[6]=T[4],T[3]=T[1],T[4]=T[2],T[1]=K,T[2]=Z,K=T[3],Z=T[4];break;case"q":T[0]="Q",T[1]+=P,T[2]+=A,T[3]+=P,T[4]+=A;case"Q":K=T[1],Z=T[2],P=T[3],A=T[4];break;case"t":T[0]="T",T[1]+=P,T[2]+=A;case"T":z==="Q"?(K=2*P-K,Z=2*A-Z):(K=P,Z=A),T[0]="Q",P=T[1],A=T[2],T[1]=K,T[2]=Z,T[3]=P,T[4]=A;break;case"a":T[0]="A",T[6]+=P,T[7]+=A;case"A":$=!0,X=X.concat(c(P,A,T)),P=T[6],A=T[7];break;case"z":case"Z":P=N,A=k;break}$||X.push(T),z=T[0]}return X}function f(C,P,A,M){return Math.sqrt((A-C)*(A-C)+(M-P)*(M-P))}function v(C){return C*C*C}function m(C){return 3*C*C*(1-C)}function _(C){return 3*C*(1-C)*(1-C)}function x(C){return(1-C)*(1-C)*(1-C)}function w(C,P,A,M,N,k,T,F){return function($){var X=v($),z=m($),K=_($),Z=x($);return{x:T*X+N*z+A*K+C*Z,y:F*X+k*z+M*K+P*Z}}}function b(C,P,A,M,N,k,T,F){return function($){var X=1-$,z=3*X*X*(A-C)+6*X*$*(N-A)+3*$*$*(T-N),K=3*X*X*(M-P)+6*X*$*(k-M)+3*$*$*(F-k);return Math.atan2(K,z)}}function S(C){return C*C}function O(C){return 2*C*(1-C)}function I(C){return(1-C)*(1-C)}function B(C,P,A,M,N,k){return function(T){var F=S(T),$=O(T),X=I(T);return{x:N*F+A*$+C*X,y:k*F+M*$+P*X}}}function Q(C,P,A,M,N,k){return function(T){var F=1-T,$=2*F*(A-C)+2*T*(N-A),X=2*F*(M-P)+2*T*(k-M);return Math.atan2(X,$)}}function ie(C,P,A){var M={x:P,y:A},N,k=0,T;for(T=1;T<=100;T+=1)N=C(T/100),k+=f(M.x,M.y,N.x,N.y),M=N;return k}function le(C,P){for(var A=0,M=0,N=C.iterator,k={x:C.x,y:C.y},T,F,$=.01,X=C.angleFinder,z;M<P&&$>1e-4;)T=N(A),z=A,F=f(k.x,k.y,T.x,T.y),F+M>P?(A-=$,$/=2):(k=T,A+=$,M+=F);return T.angle=X(z),T}function J(C){for(var P=0,A=C.length,M,N=0,k=0,T=0,F=0,$=[],X,z,K,Z=0;Z<A;Z++){switch(M=C[Z],z={x:N,y:k,command:M[0]},M[0]){case"M":z.length=0,T=N=M[1],F=k=M[2];break;case"L":z.length=f(N,k,M[1],M[2]),N=M[1],k=M[2];break;case"C":X=w(N,k,M[1],M[2],M[3],M[4],M[5],M[6]),K=b(N,k,M[1],M[2],M[3],M[4],M[5],M[6]),z.iterator=X,z.angleFinder=K,z.length=ie(X,N,k),N=M[5],k=M[6];break;case"Q":X=B(N,k,M[1],M[2],M[3],M[4]),K=Q(N,k,M[1],M[2],M[3],M[4]),z.iterator=X,z.angleFinder=K,z.length=ie(X,N,k),N=M[3],k=M[4];break;case"Z":case"z":z.destX=T,z.destY=F,z.length=f(N,k,T,F),N=T,k=F;break}P+=z.length,$.push(z)}return $.push({length:P,x:N,y:k}),$}function re(C,P,A){A||(A=J(C));for(var M=0;P-A[M].length>0&&M<A.length-2;)P-=A[M].length,M++;var N=A[M],k=P/N.length,T=N.command,F=C[M],$;switch(T){case"M":return{x:N.x,y:N.y,angle:0};case"Z":case"z":return $=new t.Point(N.x,N.y).lerp(new t.Point(N.destX,N.destY),k),$.angle=Math.atan2(N.destY-N.y,N.destX-N.x),$;case"L":return $=new t.Point(N.x,N.y).lerp(new t.Point(F[1],F[2]),k),$.angle=Math.atan2(F[2]-N.y,F[1]-N.x),$;case"C":return le(N,P);case"Q":return le(N,P)}}function ue(C){var P=[],A=[],M,N,k=t.rePathCommand,T="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",F="("+T+")"+t.commaWsp,$="([01])"+t.commaWsp+"?",X=F+"?"+F+"?"+F+$+$+F+"?("+T+")",z=new RegExp(X,"g"),K,Z,ae;if(!C||!C.match)return P;ae=C.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var H=0,j,Y=ae.length;H<Y;H++){M=ae[H],Z=M.slice(1).trim(),A.length=0;var V=M.charAt(0);if(j=[V],V.toLowerCase()==="a")for(var W;W=z.exec(Z);)for(var D=1;D<W.length;D++)A.push(W[D]);else for(;K=k.exec(Z);)A.push(K[0]);for(var D=0,L=A.length;D<L;D++)N=parseFloat(A[D]),isNaN(N)||j.push(N);var G=i[V.toLowerCase()],q=h[V]||V;if(j.length-1>G)for(var R=1,ee=j.length;R<ee;R+=G)P.push([V].concat(j.slice(R,R+G))),V=q;else P.push(j)}return P}function de(C,P){var A=[],M,N=new t.Point(C[0].x,C[0].y),k=new t.Point(C[1].x,C[1].y),T=C.length,F=1,$=0,X=T>2;for(P=P||0,X&&(F=C[2].x<k.x?-1:C[2].x===k.x?0:1,$=C[2].y<k.y?-1:C[2].y===k.y?0:1),A.push(["M",N.x-F*P,N.y-$*P]),M=1;M<T;M++){if(!N.eq(k)){var z=N.midPointFrom(k);A.push(["Q",N.x,N.y,z.x,z.y])}N=C[M],M+1<C.length&&(k=C[M+1])}return X&&(F=N.x>C[M-2].x?1:N.x===C[M-2].x?0:-1,$=N.y>C[M-2].y?1:N.y===C[M-2].y?0:-1),A.push(["L",N.x+F*P,N.y+$*P]),A}function U(C,P,A){return A&&(P=t.util.multiplyTransformMatrices(P,[1,0,0,1,-A.x,-A.y])),C.map(function(M){for(var N=M.slice(0),k={},T=1;T<M.length-1;T+=2)k.x=M[T],k.y=M[T+1],k=t.util.transformPoint(k,P),N[T]=k.x,N[T+1]=k.y;return N})}t.util.joinPath=function(C){return C.map(function(P){return P.join(" ")}).join(" ")},t.util.parsePath=ue,t.util.makePathSimpler=p,t.util.getSmoothPathFromPoints=de,t.util.getPathSegmentsInfo=J,t.util.getBoundsOfCurve=s,t.util.getPointOnPath=re,t.util.transformPath=U}(),function(){var u=Array.prototype.slice;function i(s,c){for(var p=u.call(arguments,2),f=[],v=0,m=s.length;v<m;v++)f[v]=p.length?s[v][c].apply(s[v],p):s[v][c].call(s[v]);return f}function h(s,c){return a(s,c,function(p,f){return p>=f})}function d(s,c){return a(s,c,function(p,f){return p<f})}function o(s,c){for(var p=s.length;p--;)s[p]=c;return s}function a(s,c,p){if(!(!s||s.length===0)){var f=s.length-1,v=c?s[f][c]:s[f];if(c)for(;f--;)p(s[f][c],v)&&(v=s[f][c]);else for(;f--;)p(s[f],v)&&(v=s[f]);return v}}t.util.array={fill:o,invoke:i,min:d,max:h}}(),function(){function u(h,d,o){if(o)if(!t.isLikelyNode&&d instanceof Element)h=d;else if(d instanceof Array){h=[];for(var a=0,s=d.length;a<s;a++)h[a]=u({},d[a],o)}else if(d&&typeof d=="object")for(var c in d)c==="canvas"||c==="group"?h[c]=null:d.hasOwnProperty(c)&&(h[c]=u({},d[c],o));else h=d;else for(var c in d)h[c]=d[c];return h}function i(h,d){return u({},h,d)}t.util.object={extend:u,clone:i},t.util.object.extend(t.util,t.Observable)}(),function(){function u(a){return a.replace(/-+(.)?/g,function(s,c){return c?c.toUpperCase():""})}function i(a,s){return a.charAt(0).toUpperCase()+(s?a.slice(1):a.slice(1).toLowerCase())}function h(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(a){var s=0,c,p=[];for(s=0,c;s<a.length;s++)(c=o(a,s))!==!1&&p.push(c);return p}function o(a,s){var c=a.charCodeAt(s);if(isNaN(c))return"";if(c<55296||c>57343)return a.charAt(s);if(55296<=c&&c<=56319){if(a.length<=s+1)throw"High surrogate without following low surrogate";var p=a.charCodeAt(s+1);if(56320>p||p>57343)throw"High surrogate without following low surrogate";return a.charAt(s)+a.charAt(s+1)}if(s===0)throw"Low surrogate without preceding high surrogate";var f=a.charCodeAt(s-1);if(55296>f||f>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:u,capitalize:i,escapeXml:h,graphemeSplit:d}}(),function(){var u=Array.prototype.slice,i=function(){},h=function(){for(var c in{toString:1})if(c==="toString")return!1;return!0}(),d=function(c,p,f){for(var v in p)v in c.prototype&&typeof c.prototype[v]=="function"&&(p[v]+"").indexOf("callSuper")>-1?c.prototype[v]=function(m){return function(){var _=this.constructor.superclass;this.constructor.superclass=f;var x=p[m].apply(this,arguments);if(this.constructor.superclass=_,m!=="initialize")return x}}(v):c.prototype[v]=p[v],h&&(p.toString!==Object.prototype.toString&&(c.prototype.toString=p.toString),p.valueOf!==Object.prototype.valueOf&&(c.prototype.valueOf=p.valueOf))};function o(){}function a(c){for(var p=null,f=this;f.constructor.superclass;){var v=f.constructor.superclass.prototype[c];if(f[c]!==v){p=v;break}f=f.constructor.superclass.prototype}return p?arguments.length>1?p.apply(this,u.call(arguments,1)):p.call(this):console.log("tried to callSuper "+c+", method not found in prototype chain",this)}function s(){var c=null,p=u.call(arguments,0);typeof p[0]=="function"&&(c=p.shift());function f(){this.initialize.apply(this,arguments)}f.superclass=c,f.subclasses=[],c&&(o.prototype=c.prototype,f.prototype=new o,c.subclasses.push(f));for(var v=0,m=p.length;v<m;v++)d(f,p[v],c);return f.prototype.initialize||(f.prototype.initialize=i),f.prototype.constructor=f,f.prototype.callSuper=a,f}t.util.createClass=s}(),function(){var u=!!t.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];t.util.addListener=function(d,o,a,s){d&&d.addEventListener(o,a,u?!1:s)},t.util.removeListener=function(d,o,a,s){d&&d.removeEventListener(o,a,u?!1:s)};function h(d){var o=d.changedTouches;return o&&o[0]?o[0]:d}t.util.getPointer=function(d){var o=d.target,a=t.util.getScrollLeftTop(o),s=h(d);return{x:s.clientX+a.left,y:s.clientY+a.top}},t.util.isTouchEvent=function(d){return i.indexOf(d.type)>-1||d.pointerType==="touch"}}(),function(){function u(s,c){var p=s.style;if(!p)return s;if(typeof c=="string")return s.style.cssText+=";"+c,c.indexOf("opacity")>-1?a(s,c.match(/opacity:\s*(\d?\.?\d*)/)[1]):s;for(var f in c)if(f==="opacity")a(s,c[f]);else{var v=f==="float"||f==="cssFloat"?typeof p.styleFloat>"u"?"cssFloat":"styleFloat":f;p.setProperty(v,c[f])}return s}var i=t.document.createElement("div"),h=typeof i.style.opacity=="string",d=typeof i.style.filter=="string",o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,a=function(s){return s};h?a=function(s,c){return s.style.opacity=c,s}:d&&(a=function(s,c){var p=s.style;return s.currentStyle&&!s.currentStyle.hasLayout&&(p.zoom=1),o.test(p.filter)?(c=c>=.9999?"":"alpha(opacity="+c*100+")",p.filter=p.filter.replace(o,c)):p.filter+=" alpha(opacity="+c*100+")",s}),t.util.setStyle=u}(),function(){var u=Array.prototype.slice;function i(x){return typeof x=="string"?t.document.getElementById(x):x}var h,d=function(x){return u.call(x,0)};try{h=d(t.document.childNodes)instanceof Array}catch{}h||(d=function(x){for(var w=new Array(x.length),b=x.length;b--;)w[b]=x[b];return w});function o(x,w){var b=t.document.createElement(x);for(var S in w)S==="class"?b.className=w[S]:S==="for"?b.htmlFor=w[S]:b.setAttribute(S,w[S]);return b}function a(x,w){x&&(" "+x.className+" ").indexOf(" "+w+" ")===-1&&(x.className+=(x.className?" ":"")+w)}function s(x,w,b){return typeof w=="string"&&(w=o(w,b)),x.parentNode&&x.parentNode.replaceChild(w,x),w.appendChild(x),w}function c(x){for(var w=0,b=0,S=t.document.documentElement,O=t.document.body||{scrollLeft:0,scrollTop:0};x&&(x.parentNode||x.host)&&(x=x.parentNode||x.host,x===t.document?(w=O.scrollLeft||S.scrollLeft||0,b=O.scrollTop||S.scrollTop||0):(w+=x.scrollLeft||0,b+=x.scrollTop||0),!(x.nodeType===1&&x.style.position==="fixed")););return{left:w,top:b}}function p(x){var w,b=x&&x.ownerDocument,S={left:0,top:0},O={left:0,top:0},I,B={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!b)return O;for(var Q in B)O[B[Q]]+=parseInt(f(x,Q),10)||0;return w=b.documentElement,typeof x.getBoundingClientRect<"u"&&(S=x.getBoundingClientRect()),I=c(x),{left:S.left+I.left-(w.clientLeft||0)+O.left,top:S.top+I.top-(w.clientTop||0)+O.top}}var f;t.document.defaultView&&t.document.defaultView.getComputedStyle?f=function(x,w){var b=t.document.defaultView.getComputedStyle(x,null);return b?b[w]:void 0}:f=function(x,w){var b=x.style[w];return!b&&x.currentStyle&&(b=x.currentStyle[w]),b},function(){var x=t.document.documentElement.style,w="userSelect"in x?"userSelect":"MozUserSelect"in x?"MozUserSelect":"WebkitUserSelect"in x?"WebkitUserSelect":"KhtmlUserSelect"in x?"KhtmlUserSelect":"";function b(O){return typeof O.onselectstart<"u"&&(O.onselectstart=t.util.falseFunction),w?O.style[w]="none":typeof O.unselectable=="string"&&(O.unselectable="on"),O}function S(O){return typeof O.onselectstart<"u"&&(O.onselectstart=null),w?O.style[w]="":typeof O.unselectable=="string"&&(O.unselectable=""),O}t.util.makeElementUnselectable=b,t.util.makeElementSelectable=S}();function v(x){var w=t.jsdomImplForWrapper(x);return w._canvas||w._image}function m(x){if(t.isLikelyNode){var w=t.jsdomImplForWrapper(x);w&&(w._image=null,w._canvas=null,w._currentSrc=null,w._attributes=null,w._classList=null)}}function _(x,w){x.imageSmoothingEnabled=x.imageSmoothingEnabled||x.webkitImageSmoothingEnabled||x.mozImageSmoothingEnabled||x.msImageSmoothingEnabled||x.oImageSmoothingEnabled,x.imageSmoothingEnabled=w}t.util.setImageSmoothing=_,t.util.getById=i,t.util.toArray=d,t.util.addClass=a,t.util.makeElement=o,t.util.wrapElement=s,t.util.getScrollLeftTop=c,t.util.getElementOffset=p,t.util.getNodeCanvas=v,t.util.cleanUpJsdomNode=m}(),function(){function u(d,o){return d+(/\?/.test(d)?"&":"?")+o}function i(){}function h(d,o){o||(o={});var a=o.method?o.method.toUpperCase():"GET",s=o.onComplete||function(){},c=new t.window.XMLHttpRequest,p=o.body||o.parameters;return c.onreadystatechange=function(){c.readyState===4&&(s(c),c.onreadystatechange=i)},a==="GET"&&(p=null,typeof o.parameters=="string"&&(d=u(d,o.parameters))),c.open(a,d,!0),(a==="POST"||a==="PUT")&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(p),c}t.util.request=h}(),t.log=console.log,t.warn=console.warn,function(){var u=t.util.object.extend,i=t.util.object.clone,h=[];t.util.object.extend(h,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(m){m.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var m=this.filter(function(_){return typeof _.target=="object"&&_.target.canvas===v});return m.forEach(function(_){_.cancel()}),m},cancelByTarget:function(v){var m=this.findAnimationsByTarget(v);return m.forEach(function(_){_.cancel()}),m},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(m){return m.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(m){return m.target===v}):[]}});function d(){return!1}function o(v,m,_,x){return-_*Math.cos(v/x*(Math.PI/2))+_+m}function a(v){v||(v={});var m=!1,_,x=function(){var w=t.runningAnimations.indexOf(_);return w>-1&&t.runningAnimations.splice(w,1)[0]};return _=u(i(v),{cancel:function(){return m=!0,x()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(_),p(function(w){var b=w||+new Date,S=v.duration||500,O=b+S,I,B=v.onChange||d,Q=v.abort||d,ie=v.onComplete||d,le=v.easing||o,J="startValue"in v?v.startValue.length>0:!1,re="startValue"in v?v.startValue:0,ue="endValue"in v?v.endValue:100,de=v.byValue||(J?re.map(function(U,C){return ue[C]-re[C]}):ue-re);v.onStart&&v.onStart(),function U(C){I=C||+new Date;var P=I>O?S:I-b,A=P/S,M=J?re.map(function(k,T){return le(P,re[T],de[T],S)}):le(P,re,de,S),N=Math.abs(J?(M[0]-re[0])/de[0]:(M-re)/de);if(_.currentValue=J?M.slice():M,_.completionRate=N,_.durationRate=A,!m){if(Q(M,N,A)){x();return}if(I>O){_.currentValue=J?ue.slice():ue,_.completionRate=1,_.durationRate=1,B(J?ue.slice():ue,1,1),ie(ue,1,1),x();return}else B(M,N,A),p(U)}}(b)}),_.cancel}var s=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(v){return t.window.setTimeout(v,1e3/60)},c=t.window.cancelAnimationFrame||t.window.clearTimeout;function p(){return s.apply(t.window,arguments)}function f(){return c.apply(t.window,arguments)}t.util.animate=a,t.util.requestAnimFrame=p,t.util.cancelAnimFrame=f,t.runningAnimations=h}(),function(){function u(h,d,o){var a="rgba("+parseInt(h[0]+o*(d[0]-h[0]),10)+","+parseInt(h[1]+o*(d[1]-h[1]),10)+","+parseInt(h[2]+o*(d[2]-h[2]),10);return a+=","+(h&&d?parseFloat(h[3]+o*(d[3]-h[3])):1),a+=")",a}function i(h,d,o,a){var s=new t.Color(h).getSource(),c=new t.Color(d).getSource(),p=a.onComplete,f=a.onChange;return a=a||{},t.util.animate(t.util.object.extend(a,{duration:o||500,startValue:s,endValue:c,byValue:c,easing:function(v,m,_,x){var w=a.colorEasing?a.colorEasing(v,x):1-Math.cos(v/x*(Math.PI/2));return u(m,_,w)},onComplete:function(v,m,_){if(p)return p(u(c,c,0),m,_)},onChange:function(v,m,_){if(f){if(Array.isArray(v))return f(u(v,v,0),m,_);f(v,m,_)}}}))}t.util.animateColor=i}(),function(){function u(C,P,A,M){return C<Math.abs(P)?(C=P,M=A/4):P===0&&C===0?M=A/(2*Math.PI)*Math.asin(1):M=A/(2*Math.PI)*Math.asin(P/C),{a:C,c:P,p:A,s:M}}function i(C,P,A){return C.a*Math.pow(2,10*(P-=1))*Math.sin((P*A-C.s)*(2*Math.PI)/C.p)}function h(C,P,A,M){return A*((C=C/M-1)*C*C+1)+P}function d(C,P,A,M){return C/=M/2,C<1?A/2*C*C*C+P:A/2*((C-=2)*C*C+2)+P}function o(C,P,A,M){return A*(C/=M)*C*C*C+P}function a(C,P,A,M){return-A*((C=C/M-1)*C*C*C-1)+P}function s(C,P,A,M){return C/=M/2,C<1?A/2*C*C*C*C+P:-A/2*((C-=2)*C*C*C-2)+P}function c(C,P,A,M){return A*(C/=M)*C*C*C*C+P}function p(C,P,A,M){return A*((C=C/M-1)*C*C*C*C+1)+P}function f(C,P,A,M){return C/=M/2,C<1?A/2*C*C*C*C*C+P:A/2*((C-=2)*C*C*C*C+2)+P}function v(C,P,A,M){return-A*Math.cos(C/M*(Math.PI/2))+A+P}function m(C,P,A,M){return A*Math.sin(C/M*(Math.PI/2))+P}function _(C,P,A,M){return-A/2*(Math.cos(Math.PI*C/M)-1)+P}function x(C,P,A,M){return C===0?P:A*Math.pow(2,10*(C/M-1))+P}function w(C,P,A,M){return C===M?P+A:A*(-Math.pow(2,-10*C/M)+1)+P}function b(C,P,A,M){return C===0?P:C===M?P+A:(C/=M/2,C<1?A/2*Math.pow(2,10*(C-1))+P:A/2*(-Math.pow(2,-10*--C)+2)+P)}function S(C,P,A,M){return-A*(Math.sqrt(1-(C/=M)*C)-1)+P}function O(C,P,A,M){return A*Math.sqrt(1-(C=C/M-1)*C)+P}function I(C,P,A,M){return C/=M/2,C<1?-A/2*(Math.sqrt(1-C*C)-1)+P:A/2*(Math.sqrt(1-(C-=2)*C)+1)+P}function B(C,P,A,M){var N=1.70158,k=0,T=A;if(C===0)return P;if(C/=M,C===1)return P+A;k||(k=M*.3);var F=u(T,A,k,N);return-i(F,C,M)+P}function Q(C,P,A,M){var N=1.70158,k=0,T=A;if(C===0)return P;if(C/=M,C===1)return P+A;k||(k=M*.3);var F=u(T,A,k,N);return F.a*Math.pow(2,-10*C)*Math.sin((C*M-F.s)*(2*Math.PI)/F.p)+F.c+P}function ie(C,P,A,M){var N=1.70158,k=0,T=A;if(C===0)return P;if(C/=M/2,C===2)return P+A;k||(k=M*(.3*1.5));var F=u(T,A,k,N);return C<1?-.5*i(F,C,M)+P:F.a*Math.pow(2,-10*(C-=1))*Math.sin((C*M-F.s)*(2*Math.PI)/F.p)*.5+F.c+P}function le(C,P,A,M,N){return N===void 0&&(N=1.70158),A*(C/=M)*C*((N+1)*C-N)+P}function J(C,P,A,M,N){return N===void 0&&(N=1.70158),A*((C=C/M-1)*C*((N+1)*C+N)+1)+P}function re(C,P,A,M,N){return N===void 0&&(N=1.70158),C/=M/2,C<1?A/2*(C*C*(((N*=1.525)+1)*C-N))+P:A/2*((C-=2)*C*(((N*=1.525)+1)*C+N)+2)+P}function ue(C,P,A,M){return A-de(M-C,0,A,M)+P}function de(C,P,A,M){return(C/=M)<1/2.75?A*(7.5625*C*C)+P:C<2/2.75?A*(7.5625*(C-=1.5/2.75)*C+.75)+P:C<2.5/2.75?A*(7.5625*(C-=2.25/2.75)*C+.9375)+P:A*(7.5625*(C-=2.625/2.75)*C+.984375)+P}function U(C,P,A,M){return C<M/2?ue(C*2,0,A,M)*.5+P:de(C*2-M,0,A,M)*.5+A*.5+P}t.util.ease={easeInQuad:function(C,P,A,M){return A*(C/=M)*C+P},easeOutQuad:function(C,P,A,M){return-A*(C/=M)*(C-2)+P},easeInOutQuad:function(C,P,A,M){return C/=M/2,C<1?A/2*C*C+P:-A/2*(--C*(C-2)-1)+P},easeInCubic:function(C,P,A,M){return A*(C/=M)*C*C+P},easeOutCubic:h,easeInOutCubic:d,easeInQuart:o,easeOutQuart:a,easeInOutQuart:s,easeInQuint:c,easeOutQuint:p,easeInOutQuint:f,easeInSine:v,easeOutSine:m,easeInOutSine:_,easeInExpo:x,easeOutExpo:w,easeInOutExpo:b,easeInCirc:S,easeOutCirc:O,easeInOutCirc:I,easeInElastic:B,easeOutElastic:Q,easeInOutElastic:ie,easeInBack:le,easeOutBack:J,easeInOutBack:re,easeInBounce:ue,easeOutBounce:de,easeInOutBounce:U}}(),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.util.object.clone,o=i.util.toFixed,a=i.util.parseUnit,s=i.util.multiplyTransformMatrices,c=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],p=["symbol","image","marker","pattern","view","svg"],f=["pattern","defs","symbol","metadata","clipPath","mask","desc"],v=["symbol","g","a","svg","clipPath","defs"],m={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},_={stroke:"strokeOpacity",fill:"fillOpacity"},x="font-size",w="clip-path";i.svgValidTagNamesRegEx=O(c),i.svgViewBoxElementsRegEx=O(p),i.svgInvalidAncestorsRegEx=O(f),i.svgValidParentsRegEx=O(v),i.cssRules={},i.gradientDefs={},i.clipPaths={};function b(k){return k in m?m[k]:k}function S(k,T,F,$){var X=Array.isArray(T),z;if((k==="fill"||k==="stroke")&&T==="none")T="";else{if(k==="strokeUniform")return T==="non-scaling-stroke";if(k==="strokeDashArray")T==="none"?T=null:T=T.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(k==="transformMatrix")F&&F.transformMatrix?T=s(F.transformMatrix,i.parseTransformAttribute(T)):T=i.parseTransformAttribute(T);else if(k==="visible")T=T!=="none"&&T!=="hidden",F&&F.visible===!1&&(T=!1);else if(k==="opacity")T=parseFloat(T),F&&typeof F.opacity<"u"&&(T*=F.opacity);else if(k==="textAnchor")T=T==="start"?"left":T==="end"?"right":"center";else if(k==="charSpacing")z=a(T,$)/$*1e3;else if(k==="paintFirst"){var K=T.indexOf("fill"),Z=T.indexOf("stroke"),T="fill";(K>-1&&Z>-1&&Z<K||K===-1&&Z>-1)&&(T="stroke")}else{if(k==="href"||k==="xlink:href"||k==="font")return T;if(k==="imageSmoothing")return T==="optimizeQuality";z=X?T.map(a):a(T,$)}}return!X&&isNaN(z)?T:z}function O(k){return new RegExp("^("+k.join("|")+")\\b","i")}function I(k){for(var T in _)if(!(typeof k[_[T]]>"u"||k[T]==="")){if(typeof k[T]>"u"){if(!i.Object.prototype[T])continue;k[T]=i.Object.prototype[T]}if(k[T].indexOf("url(")!==0){var F=new i.Color(k[T]);k[T]=F.setAlpha(o(F.getAlpha()*k[_[T]],2)).toRgba()}}return k}function B(k,T){var F,$=[],X,z,K;for(z=0,K=T.length;z<K;z++)F=T[z],X=k.getElementsByTagName(F),$=$.concat(Array.prototype.slice.call(X));return $}i.parseTransformAttribute=function(){function k(R,ee){var se=i.util.cos(ee[0]),ce=i.util.sin(ee[0]),he=0,ve=0;ee.length===3&&(he=ee[1],ve=ee[2]),R[0]=se,R[1]=ce,R[2]=-ce,R[3]=se,R[4]=he-(se*he-ce*ve),R[5]=ve-(ce*he+se*ve)}function T(R,ee){var se=ee[0],ce=ee.length===2?ee[1]:ee[0];R[0]=se,R[3]=ce}function F(R,ee,se){R[se]=Math.tan(i.util.degreesToRadians(ee[0]))}function $(R,ee){R[4]=ee[0],ee.length===2&&(R[5]=ee[1])}var X=i.iMatrix,z=i.reNum,K=i.commaWsp,Z="(?:(skewX)\\s*\\(\\s*("+z+")\\s*\\))",ae="(?:(skewY)\\s*\\(\\s*("+z+")\\s*\\))",H="(?:(rotate)\\s*\\(\\s*("+z+")(?:"+K+"("+z+")"+K+"("+z+"))?\\s*\\))",j="(?:(scale)\\s*\\(\\s*("+z+")(?:"+K+"("+z+"))?\\s*\\))",Y="(?:(translate)\\s*\\(\\s*("+z+")(?:"+K+"("+z+"))?\\s*\\))",V="(?:(matrix)\\s*\\(\\s*("+z+")"+K+"("+z+")"+K+"("+z+")"+K+"("+z+")"+K+"("+z+")"+K+"("+z+")\\s*\\))",W="(?:"+V+"|"+Y+"|"+j+"|"+H+"|"+Z+"|"+ae+")",D="(?:"+W+"(?:"+K+"*"+W+")*)",L="^\\s*(?:"+D+"?)\\s*$",G=new RegExp(L),q=new RegExp(W,"g");return function(R){var ee=X.concat(),se=[];if(!R||R&&!G.test(R))return ee;R.replace(q,function(he){var ve=new RegExp(W).exec(he).filter(function(ze){return!!ze}),ge=ve[1],ye=ve.slice(2).map(parseFloat);switch(ge){case"translate":$(ee,ye);break;case"rotate":ye[0]=i.util.degreesToRadians(ye[0]),k(ee,ye);break;case"scale":T(ee,ye);break;case"skewX":F(ee,ye,2);break;case"skewY":F(ee,ye,1);break;case"matrix":ee=ye;break}se.push(ee.concat()),ee=X.concat()});for(var ce=se[0];se.length>1;)se.shift(),ce=i.util.multiplyTransformMatrices(ce,se[0]);return ce}}();function Q(k,T){var F,$;k.replace(/;\s*$/,"").split(";").forEach(function(X){var z=X.split(":");F=z[0].trim().toLowerCase(),$=z[1].trim(),T[F]=$})}function ie(k,T){var F,$;for(var X in k)typeof k[X]>"u"||(F=X.toLowerCase(),$=k[X],T[F]=$)}function le(k,T){var F={};for(var $ in i.cssRules[T])if(J(k,$.split(" ")))for(var X in i.cssRules[T][$])F[X]=i.cssRules[T][$][X];return F}function J(k,T){var F,$=!0;return F=ue(k,T.pop()),F&&T.length&&($=re(k,T)),F&&$&&T.length===0}function re(k,T){for(var F,$=!0;k.parentNode&&k.parentNode.nodeType===1&&T.length;)$&&(F=T.pop()),k=k.parentNode,$=ue(k,F);return T.length===0}function ue(k,T){var F=k.nodeName,$=k.getAttribute("class"),X=k.getAttribute("id"),z,K;if(z=new RegExp("^"+F,"i"),T=T.replace(z,""),X&&T.length&&(z=new RegExp("#"+X+"(?![a-zA-Z\\-]+)","i"),T=T.replace(z,"")),$&&T.length)for($=$.split(" "),K=$.length;K--;)z=new RegExp("\\."+$[K]+"(?![a-zA-Z\\-]+)","i"),T=T.replace(z,"");return T.length===0}function de(k,T){var F;if(k.getElementById&&(F=k.getElementById(T)),F)return F;var $,X,z,K=k.getElementsByTagName("*");for(X=0,z=K.length;X<z;X++)if($=K[X],T===$.getAttribute("id"))return $}function U(k){for(var T=B(k,["use","svg:use"]),F=0;T.length&&F<T.length;){var $=T[F],X=$.getAttribute("xlink:href")||$.getAttribute("href");if(X===null)return;var z=X.slice(1),K=$.getAttribute("x")||0,Z=$.getAttribute("y")||0,ae=de(k,z).cloneNode(!0),H=(ae.getAttribute("transform")||"")+" translate("+K+", "+Z+")",j,Y=T.length,V,W,D,L,G=i.svgNS;if(P(ae),/^svg$/i.test(ae.nodeName)){var q=ae.ownerDocument.createElementNS(G,"g");for(W=0,D=ae.attributes,L=D.length;W<L;W++)V=D.item(W),q.setAttributeNS(G,V.nodeName,V.nodeValue);for(;ae.firstChild;)q.appendChild(ae.firstChild);ae=q}for(W=0,D=$.attributes,L=D.length;W<L;W++)V=D.item(W),!(V.nodeName==="x"||V.nodeName==="y"||V.nodeName==="xlink:href"||V.nodeName==="href")&&(V.nodeName==="transform"?H=V.nodeValue+" "+H:ae.setAttribute(V.nodeName,V.nodeValue));ae.setAttribute("transform",H),ae.setAttribute("instantiated_by_use","1"),ae.removeAttribute("id"),j=$.parentNode,j.replaceChild(ae,$),T.length===Y&&F++}}var C=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function P(k){if(!i.svgViewBoxElementsRegEx.test(k.nodeName))return{};var T=k.getAttribute("viewBox"),F=1,$=1,X=0,z=0,K,Z,ae,H,j=k.getAttribute("width"),Y=k.getAttribute("height"),V=k.getAttribute("x")||0,W=k.getAttribute("y")||0,D=k.getAttribute("preserveAspectRatio")||"",L=!T||!(T=T.match(C)),G=!j||!Y||j==="100%"||Y==="100%",q=L&&G,R={},ee="",se=0,ce=0;if(R.width=0,R.height=0,R.toBeParsed=q,L&&(V||W)&&k.parentNode&&k.parentNode.nodeName!=="#document"&&(ee=" translate("+a(V)+" "+a(W)+") ",ae=(k.getAttribute("transform")||"")+ee,k.setAttribute("transform",ae),k.removeAttribute("x"),k.removeAttribute("y")),q)return R;if(L)return R.width=a(j),R.height=a(Y),R;if(X=-parseFloat(T[1]),z=-parseFloat(T[2]),K=parseFloat(T[3]),Z=parseFloat(T[4]),R.minX=X,R.minY=z,R.viewBoxWidth=K,R.viewBoxHeight=Z,G?(R.width=K,R.height=Z):(R.width=a(j),R.height=a(Y),F=R.width/K,$=R.height/Z),D=i.util.parsePreserveAspectRatioAttribute(D),D.alignX!=="none"&&(D.meetOrSlice==="meet"&&($=F=F>$?$:F),D.meetOrSlice==="slice"&&($=F=F>$?F:$),se=R.width-K*F,ce=R.height-Z*F,D.alignX==="Mid"&&(se/=2),D.alignY==="Mid"&&(ce/=2),D.alignX==="Min"&&(se=0),D.alignY==="Min"&&(ce=0)),F===1&&$===1&&X===0&&z===0&&V===0&&W===0)return R;if((V||W)&&k.parentNode.nodeName!=="#document"&&(ee=" translate("+a(V)+" "+a(W)+") "),ae=ee+" matrix("+F+" 0 0 "+$+" "+(X*F+se)+" "+(z*$+ce)+") ",k.nodeName==="svg"){for(H=k.ownerDocument.createElementNS(i.svgNS,"g");k.firstChild;)H.appendChild(k.firstChild);k.appendChild(H)}else H=k,H.removeAttribute("x"),H.removeAttribute("y"),ae=H.getAttribute("transform")+ae;return H.setAttribute("transform",ae),R}function A(k,T){for(;k&&(k=k.parentNode);)if(k.nodeName&&T.test(k.nodeName.replace("svg:",""))&&!k.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(k,T,F,$){if(k){U(k);var X=i.Object.__uid++,z,K,Z=P(k),ae=i.util.toArray(k.getElementsByTagName("*"));if(Z.crossOrigin=$&&$.crossOrigin,Z.svgUid=X,ae.length===0&&i.isLikelyNode){ae=k.selectNodes('//*[name(.)!="svg"]');var H=[];for(z=0,K=ae.length;z<K;z++)H[z]=ae[z];ae=H}var j=ae.filter(function(V){return P(V),i.svgValidTagNamesRegEx.test(V.nodeName.replace("svg:",""))&&!A(V,i.svgInvalidAncestorsRegEx)});if(!j||j&&!j.length){T&&T([],{});return}var Y={};ae.filter(function(V){return V.nodeName.replace("svg:","")==="clipPath"}).forEach(function(V){var W=V.getAttribute("id");Y[W]=i.util.toArray(V.getElementsByTagName("*")).filter(function(D){return i.svgValidTagNamesRegEx.test(D.nodeName.replace("svg:",""))})}),i.gradientDefs[X]=i.getGradientDefs(k),i.cssRules[X]=i.getCSSRules(k),i.clipPaths[X]=Y,i.parseElements(j,function(V,W){T&&(T(V,Z,W,ae),delete i.gradientDefs[X],delete i.cssRules[X],delete i.clipPaths[X])},d(Z),F,$)}};function M(k,T){var F=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],$="xlink:href",X=T.getAttribute($).slice(1),z=de(k,X);if(z&&z.getAttribute($)&&M(k,z),F.forEach(function(Z){z&&!T.hasAttribute(Z)&&z.hasAttribute(Z)&&T.setAttribute(Z,z.getAttribute(Z))}),!T.children.length)for(var K=z.cloneNode(!0);K.firstChild;)T.appendChild(K.firstChild);T.removeAttribute($)}var N=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");h(i,{parseFontDeclaration:function(k,T){var F=k.match(N);if(F){var $=F[1],X=F[3],z=F[4],K=F[5],Z=F[6];$&&(T.fontStyle=$),X&&(T.fontWeight=isNaN(parseFloat(X))?X:parseFloat(X)),z&&(T.fontSize=a(z)),Z&&(T.fontFamily=Z),K&&(T.lineHeight=K==="normal"?1:K)}},getGradientDefs:function(k){var T=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],F=B(k,T),$,X=0,z={};for(X=F.length;X--;)$=F[X],$.getAttribute("xlink:href")&&M(k,$),z[$.getAttribute("id")]=$;return z},parseAttributes:function(k,T,F){if(k){var $,X={},z,K;typeof F>"u"&&(F=k.getAttribute("svgUid")),k.parentNode&&i.svgValidParentsRegEx.test(k.parentNode.nodeName)&&(X=i.parseAttributes(k.parentNode,T,F));var Z=T.reduce(function(D,L){return $=k.getAttribute(L),$&&(D[L]=$),D},{}),ae=h(le(k,F),i.parseStyleAttribute(k));Z=h(Z,ae),ae[w]&&k.setAttribute(w,ae[w]),z=K=X.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,Z[x]&&(Z[x]=z=a(Z[x],K));var H,j,Y={};for(var V in Z)H=b(V),j=S(H,Z[V],X,z),Y[H]=j;Y&&Y.font&&i.parseFontDeclaration(Y.font,Y);var W=h(X,Y);return i.svgValidParentsRegEx.test(k.nodeName)?W:I(W)}},parseElements:function(k,T,F,$,X){new i.ElementsParser(k,T,F,$,X).parse()},parseStyleAttribute:function(k){var T={},F=k.getAttribute("style");return F&&(typeof F=="string"?Q(F,T):ie(F,T)),T},parsePointsAttribute:function(k){if(!k)return null;k=k.replace(/,/g," ").trim(),k=k.split(/\s+/);var T=[],F,$;for(F=0,$=k.length;F<$;F+=2)T.push({x:parseFloat(k[F]),y:parseFloat(k[F+1])});return T},getCSSRules:function(k){var T=k.getElementsByTagName("style"),F,$,X={},z;for(F=0,$=T.length;F<$;F++){var K=T[F].textContent;K=K.replace(/\/\*[\s\S]*?\*\//g,""),K.trim()!==""&&(z=K.split("}"),z=z.filter(function(Z){return Z.trim()}),z.forEach(function(Z){var ae=Z.split("{"),H={},j=ae[1].trim(),Y=j.split(";").filter(function(L){return L.trim()});for(F=0,$=Y.length;F<$;F++){var V=Y[F].split(":"),W=V[0].trim(),D=V[1].trim();H[W]=D}Z=ae[0].trim(),Z.split(",").forEach(function(L){L=L.replace(/^svg/i,"").trim(),L!==""&&(X[L]?i.util.object.extend(X[L],H):X[L]=i.util.object.clone(H))})}))}return X},loadSVGFromURL:function(k,T,F,$){k=k.replace(/^\n\s*/,"").trim(),new i.util.request(k,{method:"get",onComplete:X});function X(z){var K=z.responseXML;if(!K||!K.documentElement)return T&&T(null),!1;i.parseSVGDocument(K.documentElement,function(Z,ae,H,j){T&&T(Z,ae,H,j)},F,$)}},loadSVGFromString:function(k,T,F,$){var X=new i.window.DOMParser,z=X.parseFromString(k.trim(),"text/xml");i.parseSVGDocument(z.documentElement,function(K,Z,ae,H){T(K,Z,ae,H)},F,$)}})}(e),t.ElementsParser=function(u,i,h,d,o,a){this.elements=u,this.callback=i,this.options=h,this.reviver=d,this.svgUid=h&&h.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=a},function(u){u.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},u.createObjects=function(){var i=this;this.elements.forEach(function(h,d){h.setAttribute("svgUid",i.svgUid),i.createObject(h,d)})},u.findTag=function(i){return t[t.util.string.capitalize(i.tagName.replace("svg:",""))]},u.createObject=function(i,h){var d=this.findTag(i);if(d&&d.fromElement)try{d.fromElement(i,this.createCallback(h,i),this.options)}catch(o){t.log(o)}else this.checkIfDone()},u.createCallback=function(i,h){var d=this;return function(o){var a;d.resolveGradient(o,h,"fill"),d.resolveGradient(o,h,"stroke"),o instanceof t.Image&&o._originalElement&&(a=o.parsePreserveAspectRatioAttribute(h)),o._removeTransformMatrix(a),d.resolveClipPath(o,h),d.reviver&&d.reviver(h,o),d.instances[i]=o,d.checkIfDone()}},u.extractPropertyDefinition=function(i,h,d){var o=i[h],a=this.regexUrl;if(a.test(o)){a.lastIndex=0;var s=a.exec(o)[1];return a.lastIndex=0,t[d][this.svgUid][s]}},u.resolveGradient=function(i,h,d){var o=this.extractPropertyDefinition(i,d,"gradientDefs");if(o){var a=h.getAttribute(d+"-opacity"),s=t.Gradient.fromElement(o,i,a,this.options);i.set(d,s)}},u.createClipPathCallback=function(i,h){return function(d){d._removeTransformMatrix(),d.fillRule=d.clipRule,h.push(d)}},u.resolveClipPath=function(i,h){var d=this.extractPropertyDefinition(i,"clipPath","clipPaths"),o,a,s,c,p,f;if(d){c=[],s=t.util.invertTransform(i.calcTransformMatrix());for(var v=d[0].parentNode,m=h;m.parentNode&&m.getAttribute("clip-path")!==i.clipPath;)m=m.parentNode;m.parentNode.appendChild(v);for(var _=0;_<d.length;_++)o=d[_],a=this.findTag(o),a.fromElement(o,this.createClipPathCallback(i,c),this.options);c.length===1?d=c[0]:d=new t.Group(c),p=t.util.multiplyTransformMatrices(s,d.calcTransformMatrix()),d.clipPath&&this.resolveClipPath(d,m);var f=t.util.qrDecompose(p);d.flipX=!1,d.flipY=!1,d.set("scaleX",f.scaleX),d.set("scaleY",f.scaleY),d.angle=f.angle,d.skewX=f.skewX,d.skewY=0,d.setPositionByOrigin({x:f.translateX,y:f.translateY},"center","center"),i.clipPath=d}else delete i.clipPath},u.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(u){var i=u.fabric||(u.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=h;function h(d,o){this.x=d,this.y=o}h.prototype={type:"point",constructor:h,add:function(d){return new h(this.x+d.x,this.y+d.y)},addEquals:function(d){return this.x+=d.x,this.y+=d.y,this},scalarAdd:function(d){return new h(this.x+d,this.y+d)},scalarAddEquals:function(d){return this.x+=d,this.y+=d,this},subtract:function(d){return new h(this.x-d.x,this.y-d.y)},subtractEquals:function(d){return this.x-=d.x,this.y-=d.y,this},scalarSubtract:function(d){return new h(this.x-d,this.y-d)},scalarSubtractEquals:function(d){return this.x-=d,this.y-=d,this},multiply:function(d){return new h(this.x*d,this.y*d)},multiplyEquals:function(d){return this.x*=d,this.y*=d,this},divide:function(d){return new h(this.x/d,this.y/d)},divideEquals:function(d){return this.x/=d,this.y/=d,this},eq:function(d){return this.x===d.x&&this.y===d.y},lt:function(d){return this.x<d.x&&this.y<d.y},lte:function(d){return this.x<=d.x&&this.y<=d.y},gt:function(d){return this.x>d.x&&this.y>d.y},gte:function(d){return this.x>=d.x&&this.y>=d.y},lerp:function(d,o){return typeof o>"u"&&(o=.5),o=Math.max(Math.min(1,o),0),new h(this.x+(d.x-this.x)*o,this.y+(d.y-this.y)*o)},distanceFrom:function(d){var o=this.x-d.x,a=this.y-d.y;return Math.sqrt(o*o+a*a)},midPointFrom:function(d){return this.lerp(d)},min:function(d){return new h(Math.min(this.x,d.x),Math.min(this.y,d.y))},max:function(d){return new h(Math.max(this.x,d.x),Math.max(this.y,d.y))},toString:function(){return this.x+","+this.y},setXY:function(d,o){return this.x=d,this.y=o,this},setX:function(d){return this.x=d,this},setY:function(d){return this.y=d,this},setFromPoint:function(d){return this.x=d.x,this.y=d.y,this},swap:function(d){var o=this.x,a=this.y;this.x=d.x,this.y=d.y,d.x=o,d.y=a},clone:function(){return new h(this.x,this.y)}}}(e),function(u){var i=u.fabric||(u.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function h(d){this.status=d,this.points=[]}i.Intersection=h,i.Intersection.prototype={constructor:h,appendPoint:function(d){return this.points.push(d),this},appendPoints:function(d){return this.points=this.points.concat(d),this}},i.Intersection.intersectLineLine=function(d,o,a,s){var c,p=(s.x-a.x)*(d.y-a.y)-(s.y-a.y)*(d.x-a.x),f=(o.x-d.x)*(d.y-a.y)-(o.y-d.y)*(d.x-a.x),v=(s.y-a.y)*(o.x-d.x)-(s.x-a.x)*(o.y-d.y);if(v!==0){var m=p/v,_=f/v;0<=m&&m<=1&&0<=_&&_<=1?(c=new h("Intersection"),c.appendPoint(new i.Point(d.x+m*(o.x-d.x),d.y+m*(o.y-d.y)))):c=new h}else p===0||f===0?c=new h("Coincident"):c=new h("Parallel");return c},i.Intersection.intersectLinePolygon=function(d,o,a){var s=new h,c=a.length,p,f,v,m;for(m=0;m<c;m++)p=a[m],f=a[(m+1)%c],v=h.intersectLineLine(d,o,p,f),s.appendPoints(v.points);return s.points.length>0&&(s.status="Intersection"),s},i.Intersection.intersectPolygonPolygon=function(d,o){var a=new h,s=d.length,c;for(c=0;c<s;c++){var p=d[c],f=d[(c+1)%s],v=h.intersectLinePolygon(p,f,o);a.appendPoints(v.points)}return a.points.length>0&&(a.status="Intersection"),a},i.Intersection.intersectPolygonRectangle=function(d,o,a){var s=o.min(a),c=o.max(a),p=new i.Point(c.x,s.y),f=new i.Point(s.x,c.y),v=h.intersectLinePolygon(s,p,d),m=h.intersectLinePolygon(p,c,d),_=h.intersectLinePolygon(c,f,d),x=h.intersectLinePolygon(f,s,d),w=new h;return w.appendPoints(v.points),w.appendPoints(m.points),w.appendPoints(_.points),w.appendPoints(x.points),w.points.length>0&&(w.status="Intersection"),w}}(e),function(u){var i=u.fabric||(u.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function h(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}i.Color=h,i.Color.prototype={_tryParsingColor:function(o){var a;o in h.colorNameMap&&(o=h.colorNameMap[o]),o==="transparent"&&(a=[255,255,255,0]),a||(a=h.sourceFromHex(o)),a||(a=h.sourceFromRgb(o)),a||(a=h.sourceFromHsl(o)),a||(a=[0,0,0,1]),a&&this.setSource(a)},_rgbToHsl:function(o,a,s){o/=255,a/=255,s/=255;var c,p,f,v=i.util.array.max([o,a,s]),m=i.util.array.min([o,a,s]);if(f=(v+m)/2,v===m)c=p=0;else{var _=v-m;switch(p=f>.5?_/(2-v-m):_/(v+m),v){case o:c=(a-s)/_+(a<s?6:0);break;case a:c=(s-o)/_+2;break;case s:c=(o-a)/_+4;break}c/=6}return[Math.round(c*360),Math.round(p*100),Math.round(f*100)]},getSource:function(){return this._source},setSource:function(o){this._source=o},toRgb:function(){var o=this.getSource();return"rgb("+o[0]+","+o[1]+","+o[2]+")"},toRgba:function(){var o=this.getSource();return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"},toHsl:function(){var o=this.getSource(),a=this._rgbToHsl(o[0],o[1],o[2]);return"hsl("+a[0]+","+a[1]+"%,"+a[2]+"%)"},toHsla:function(){var o=this.getSource(),a=this._rgbToHsl(o[0],o[1],o[2]);return"hsla("+a[0]+","+a[1]+"%,"+a[2]+"%,"+o[3]+")"},toHex:function(){var o=this.getSource(),a,s,c;return a=o[0].toString(16),a=a.length===1?"0"+a:a,s=o[1].toString(16),s=s.length===1?"0"+s:s,c=o[2].toString(16),c=c.length===1?"0"+c:c,a.toUpperCase()+s.toUpperCase()+c.toUpperCase()},toHexa:function(){var o=this.getSource(),a;return a=Math.round(o[3]*255),a=a.toString(16),a=a.length===1?"0"+a:a,this.toHex()+a.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(o){var a=this.getSource();return a[3]=o,this.setSource(a),this},toGrayscale:function(){var o=this.getSource(),a=parseInt((o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),10),s=o[3];return this.setSource([a,a,a,s]),this},toBlackWhite:function(o){var a=this.getSource(),s=(a[0]*.3+a[1]*.59+a[2]*.11).toFixed(0),c=a[3];return o=o||127,s=Number(s)<Number(o)?0:255,this.setSource([s,s,s,c]),this},overlayWith:function(o){o instanceof h||(o=new h(o));var a=[],s=this.getAlpha(),c=.5,p=this.getSource(),f=o.getSource(),v;for(v=0;v<3;v++)a.push(Math.round(p[v]*(1-c)+f[v]*c));return a[3]=s,this.setSource(a),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function d(o,a,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?o+(a-o)*6*s:s<1/2?a:s<2/3?o+(a-o)*(2/3-s)*6:o}i.Color.fromRgb=function(o){return h.fromSource(h.sourceFromRgb(o))},i.Color.sourceFromRgb=function(o){var a=o.match(h.reRGBa);if(a){var s=parseInt(a[1],10)/(/%$/.test(a[1])?100:1)*(/%$/.test(a[1])?255:1),c=parseInt(a[2],10)/(/%$/.test(a[2])?100:1)*(/%$/.test(a[2])?255:1),p=parseInt(a[3],10)/(/%$/.test(a[3])?100:1)*(/%$/.test(a[3])?255:1);return[parseInt(s,10),parseInt(c,10),parseInt(p,10),a[4]?parseFloat(a[4]):1]}},i.Color.fromRgba=h.fromRgb,i.Color.fromHsl=function(o){return h.fromSource(h.sourceFromHsl(o))},i.Color.sourceFromHsl=function(o){var a=o.match(h.reHSLa);if(a){var s=(parseFloat(a[1])%360+360)%360/360,c=parseFloat(a[2])/(/%$/.test(a[2])?100:1),p=parseFloat(a[3])/(/%$/.test(a[3])?100:1),f,v,m;if(c===0)f=v=m=p;else{var _=p<=.5?p*(c+1):p+c-p*c,x=p*2-_;f=d(x,_,s+1/3),v=d(x,_,s),m=d(x,_,s-1/3)}return[Math.round(f*255),Math.round(v*255),Math.round(m*255),a[4]?parseFloat(a[4]):1]}},i.Color.fromHsla=h.fromHsl,i.Color.fromHex=function(o){return h.fromSource(h.sourceFromHex(o))},i.Color.sourceFromHex=function(o){if(o.match(h.reHex)){var a=o.slice(o.indexOf("#")+1),s=a.length===3||a.length===4,c=a.length===8||a.length===4,p=s?a.charAt(0)+a.charAt(0):a.substring(0,2),f=s?a.charAt(1)+a.charAt(1):a.substring(2,4),v=s?a.charAt(2)+a.charAt(2):a.substring(4,6),m=c?s?a.charAt(3)+a.charAt(3):a.substring(6,8):"FF";return[parseInt(p,16),parseInt(f,16),parseInt(v,16),parseFloat((parseInt(m,16)/255).toFixed(2))]}},i.Color.fromSource=function(o){var a=new h;return a.setSource(o),a}}(e),function(u){var i=u.fabric||(u.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],d=["ns","nesw","ew","nwse"],o={},a="left",s="top",c="right",p="bottom",f="center",v={top:p,bottom:s,left:c,right:a,center:f},m=i.util.radiansToDegrees,_=Math.sign||function(H){return(H>0)-(H<0)||+H};function x(H,j){var Y=H.angle+m(Math.atan2(j.y,j.x))+360;return Math.round(Y%360/45)}function w(H,j){var Y=j.transform.target,V=Y.canvas,W=i.util.object.clone(j);W.target=Y,V&&V.fire("object:"+H,W),Y.fire(H,j)}function b(H,j){var Y=j.canvas,V=Y.uniScaleKey,W=H[V];return Y.uniformScaling&&!W||!Y.uniformScaling&&W}function S(H){return H.originX===f&&H.originY===f}function O(H,j,Y){var V=H.lockScalingX,W=H.lockScalingY;return!!(V&&W||!j&&(V||W)&&Y||V&&j==="x"||W&&j==="y")}function I(H,j,Y){var V="not-allowed",W=b(H,Y),D="";if(j.x!==0&&j.y===0?D="x":j.x===0&&j.y!==0&&(D="y"),O(Y,D,W))return V;var L=x(Y,j);return h[L]+"-resize"}function B(H,j,Y){var V="not-allowed";if(j.x!==0&&Y.lockSkewingY||j.y!==0&&Y.lockSkewingX)return V;var W=x(Y,j)%4;return d[W]+"-resize"}function Q(H,j,Y){return H[Y.canvas.altActionKey]?o.skewCursorStyleHandler(H,j,Y):o.scaleCursorStyleHandler(H,j,Y)}function ie(H,j,Y){var V=H[Y.canvas.altActionKey];if(j.x===0)return V?"skewX":"scaleY";if(j.y===0)return V?"skewY":"scaleX"}function le(H,j,Y){return Y.lockRotation?"not-allowed":j.cursorStyle}function J(H,j,Y,V){return{e:H,transform:j,pointer:{x:Y,y:V}}}function re(H){return function(j,Y,V,W){var D=Y.target,L=D.getCenterPoint(),G=D.translateToOriginPoint(L,Y.originX,Y.originY),q=H(j,Y,V,W);return D.setPositionByOrigin(G,Y.originX,Y.originY),q}}function ue(H,j){return function(Y,V,W,D){var L=j(Y,V,W,D);return L&&w(H,J(Y,V,W,D)),L}}function de(H,j,Y,V,W){var D=H.target,L=D.controls[H.corner],G=D.canvas.getZoom(),q=D.padding/G,R=D.toLocalPoint(new i.Point(V,W),j,Y);return R.x>=q&&(R.x-=q),R.x<=-q&&(R.x+=q),R.y>=q&&(R.y-=q),R.y<=q&&(R.y+=q),R.x-=L.offsetX,R.y-=L.offsetY,R}function U(H){return H.flipX!==H.flipY}function C(H,j,Y,V,W){if(H[j]!==0){var D=H._getTransformedDimensions()[V],L=W/D*H[Y];H.set(Y,L)}}function P(H,j,Y,V){var W=j.target,D=W._getTransformedDimensions(0,W.skewY),L=de(j,j.originX,j.originY,Y,V),G=Math.abs(L.x*2)-D.x,q=W.skewX,R;G<2?R=0:(R=m(Math.atan2(G/W.scaleX,D.y/W.scaleY)),j.originX===a&&j.originY===p&&(R=-R),j.originX===c&&j.originY===s&&(R=-R),U(W)&&(R=-R));var ee=q!==R;if(ee){var se=W._getTransformedDimensions().y;W.set("skewX",R),C(W,"skewY","scaleY","y",se)}return ee}function A(H,j,Y,V){var W=j.target,D=W._getTransformedDimensions(W.skewX,0),L=de(j,j.originX,j.originY,Y,V),G=Math.abs(L.y*2)-D.y,q=W.skewY,R;G<2?R=0:(R=m(Math.atan2(G/W.scaleY,D.x/W.scaleX)),j.originX===a&&j.originY===p&&(R=-R),j.originX===c&&j.originY===s&&(R=-R),U(W)&&(R=-R));var ee=q!==R;if(ee){var se=W._getTransformedDimensions().x;W.set("skewY",R),C(W,"skewX","scaleX","x",se)}return ee}function M(H,j,Y,V){var W=j.target,D=W.skewX,L,G=j.originY;if(W.lockSkewingX)return!1;if(D===0){var q=de(j,f,f,Y,V);q.x>0?L=a:L=c}else D>0&&(L=G===s?a:c),D<0&&(L=G===s?c:a),U(W)&&(L=L===a?c:a);j.originX=L;var R=ue("skewing",re(P));return R(H,j,Y,V)}function N(H,j,Y,V){var W=j.target,D=W.skewY,L,G=j.originX;if(W.lockSkewingY)return!1;if(D===0){var q=de(j,f,f,Y,V);q.y>0?L=s:L=p}else D>0&&(L=G===a?s:p),D<0&&(L=G===a?p:s),U(W)&&(L=L===s?p:s);j.originY=L;var R=ue("skewing",re(A));return R(H,j,Y,V)}function k(H,j,Y,V){var W=j,D=W.target,L=D.translateToOriginPoint(D.getCenterPoint(),W.originX,W.originY);if(D.lockRotation)return!1;var G=Math.atan2(W.ey-L.y,W.ex-L.x),q=Math.atan2(V-L.y,Y-L.x),R=m(q-G+W.theta),ee=!0;if(D.snapAngle>0){var se=D.snapAngle,ce=D.snapThreshold||se,he=Math.ceil(R/se)*se,ve=Math.floor(R/se)*se;Math.abs(R-ve)<ce?R=ve:Math.abs(R-he)<ce&&(R=he)}return R<0&&(R=360+R),R%=360,ee=D.angle!==R,D.angle=R,ee}function T(H,j,Y,V,W){W=W||{};var D=j.target,L=D.lockScalingX,G=D.lockScalingY,q=W.by,R,ee,se,ce,he=b(H,D),ve=O(D,q,he),ge,ye,ze=j.gestureScale;if(ve)return!1;if(ze)ee=j.scaleX*ze,se=j.scaleY*ze;else{if(R=de(j,j.originX,j.originY,Y,V),ge=q!=="y"?_(R.x):1,ye=q!=="x"?_(R.y):1,j.signX||(j.signX=ge),j.signY||(j.signY=ye),D.lockScalingFlip&&(j.signX!==ge||j.signY!==ye))return!1;if(ce=D._getTransformedDimensions(),he&&!q){var Ge=Math.abs(R.x)+Math.abs(R.y),Qe=j.original,_n=Math.abs(ce.x*Qe.scaleX/D.scaleX)+Math.abs(ce.y*Qe.scaleY/D.scaleY),Hr=Ge/_n;ee=Qe.scaleX*Hr,se=Qe.scaleY*Hr}else ee=Math.abs(R.x*D.scaleX/ce.x),se=Math.abs(R.y*D.scaleY/ce.y);S(j)&&(ee*=2,se*=2),j.signX!==ge&&q!=="y"&&(j.originX=v[j.originX],ee*=-1,j.signX=ge),j.signY!==ye&&q!=="x"&&(j.originY=v[j.originY],se*=-1,j.signY=ye)}var gr=D.scaleX,Ei=D.scaleY;return q?(q==="x"&&D.set("scaleX",ee),q==="y"&&D.set("scaleY",se)):(!L&&D.set("scaleX",ee),!G&&D.set("scaleY",se)),gr!==D.scaleX||Ei!==D.scaleY}function F(H,j,Y,V){return T(H,j,Y,V)}function $(H,j,Y,V){return T(H,j,Y,V,{by:"x"})}function X(H,j,Y,V){return T(H,j,Y,V,{by:"y"})}function z(H,j,Y,V){return H[j.target.canvas.altActionKey]?o.skewHandlerX(H,j,Y,V):o.scalingY(H,j,Y,V)}function K(H,j,Y,V){return H[j.target.canvas.altActionKey]?o.skewHandlerY(H,j,Y,V):o.scalingX(H,j,Y,V)}function Z(H,j,Y,V){var W=j.target,D=de(j,j.originX,j.originY,Y,V),L=W.strokeWidth/(W.strokeUniform?W.scaleX:1),G=S(j)?2:1,q=W.width,R=Math.abs(D.x*G/W.scaleX)-L;return W.set("width",Math.max(R,0)),q!==R}function ae(H,j,Y,V){var W=j.target,D=Y-j.offsetX,L=V-j.offsetY,G=!W.get("lockMovementX")&&W.left!==D,q=!W.get("lockMovementY")&&W.top!==L;return G&&W.set("left",D),q&&W.set("top",L),(G||q)&&w("moving",J(H,j,Y,V)),G||q}o.scaleCursorStyleHandler=I,o.skewCursorStyleHandler=B,o.scaleSkewCursorStyleHandler=Q,o.rotationWithSnapping=ue("rotating",re(k)),o.scalingEqually=ue("scaling",re(F)),o.scalingX=ue("scaling",re($)),o.scalingY=ue("scaling",re(X)),o.scalingYOrSkewingX=z,o.scalingXOrSkewingY=K,o.changeWidth=ue("resizing",re(Z)),o.skewHandlerX=M,o.skewHandlerY=N,o.dragHandler=ae,o.scaleOrSkewActionName=ie,o.rotationStyleHandler=le,o.fireEvent=w,o.wrapWithFixedAnchor=re,o.wrapWithFireEvent=ue,o.getLocalPoint=de,i.controlsUtils=o}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.degreesToRadians,d=i.controlsUtils;function o(s,c,p,f,v){f=f||{};var m=this.sizeX||f.cornerSize||v.cornerSize,_=this.sizeY||f.cornerSize||v.cornerSize,x=typeof f.transparentCorners<"u"?f.transparentCorners:v.transparentCorners,w=x?"stroke":"fill",b=!x&&(f.cornerStrokeColor||v.cornerStrokeColor),S=c,O=p,I;s.save(),s.fillStyle=f.cornerColor||v.cornerColor,s.strokeStyle=f.cornerStrokeColor||v.cornerStrokeColor,m>_?(I=m,s.scale(1,_/m),O=p*m/_):_>m?(I=_,s.scale(m/_,1),S=c*_/m):I=m,s.lineWidth=1,s.beginPath(),s.arc(S,O,I/2,0,2*Math.PI,!1),s[w](),b&&s.stroke(),s.restore()}function a(s,c,p,f,v){f=f||{};var m=this.sizeX||f.cornerSize||v.cornerSize,_=this.sizeY||f.cornerSize||v.cornerSize,x=typeof f.transparentCorners<"u"?f.transparentCorners:v.transparentCorners,w=x?"stroke":"fill",b=!x&&(f.cornerStrokeColor||v.cornerStrokeColor),S=m/2,O=_/2;s.save(),s.fillStyle=f.cornerColor||v.cornerColor,s.strokeStyle=f.cornerStrokeColor||v.cornerStrokeColor,s.lineWidth=1,s.translate(c,p),s.rotate(h(v.angle)),s[w+"Rect"](-S,-O,m,_),b&&s.strokeRect(-S,-O,m,_),s.restore()}d.renderCircleControl=o,d.renderSquareControl=a}(e),function(u){var i=u.fabric||(u.fabric={});function h(d){for(var o in d)this[o]=d[o]}i.Control=h,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(d,o){return o.cursorStyle},getActionName:function(d,o){return o.actionName},getVisibility:function(d,o){var a=d._controlsVisibility;return a&&typeof a[o]<"u"?a[o]:this.visible},setVisibility:function(d){this.visible=d},positionHandler:function(d,o){var a=i.util.transformPoint({x:this.x*d.x+this.offsetX,y:this.y*d.y+this.offsetY},o);return a},calcCornerCoords:function(d,o,a,s,c){var p,f,v,m,_=c?this.touchSizeX:this.sizeX,x=c?this.touchSizeY:this.sizeY;if(_&&x&&_!==x){var w=Math.atan2(x,_),b=Math.sqrt(_*_+x*x)/2,S=w-i.util.degreesToRadians(d),O=Math.PI/2-w-i.util.degreesToRadians(d);p=b*i.util.cos(S),f=b*i.util.sin(S),v=b*i.util.cos(O),m=b*i.util.sin(O)}else{var I=_&&x?_:o;b=I*.7071067812;var S=i.util.degreesToRadians(45-d);p=v=b*i.util.cos(S),f=m=b*i.util.sin(S)}return{tl:{x:a-m,y:s-v},tr:{x:a+p,y:s-f},bl:{x:a-p,y:s+f},br:{x:a+m,y:s+v}}},render:function(d,o,a,s,c){switch(s=s||{},s.cornerStyle||c.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,d,o,a,s,c);break;default:i.controlsUtils.renderSquareControl.call(this,d,o,a,s,c)}}}}(e),function(){function u(a,s){var c=a.getAttribute("style"),p=a.getAttribute("offset")||0,f,v,m,_;if(p=parseFloat(p)/(/%$/.test(p)?100:1),p=p<0?0:p>1?1:p,c){var x=c.split(/\s*;\s*/);for(x[x.length-1]===""&&x.pop(),_=x.length;_--;){var w=x[_].split(/\s*:\s*/),b=w[0].trim(),S=w[1].trim();b==="stop-color"?f=S:b==="stop-opacity"&&(m=S)}}return f||(f=a.getAttribute("stop-color")||"rgb(0,0,0)"),m||(m=a.getAttribute("stop-opacity")),f=new t.Color(f),v=f.getAlpha(),m=isNaN(parseFloat(m))?1:parseFloat(m),m*=v*s,{offset:p,color:f.toRgb(),opacity:m}}function i(a){return{x1:a.getAttribute("x1")||0,y1:a.getAttribute("y1")||0,x2:a.getAttribute("x2")||"100%",y2:a.getAttribute("y2")||0}}function h(a){return{x1:a.getAttribute("fx")||a.getAttribute("cx")||"50%",y1:a.getAttribute("fy")||a.getAttribute("cy")||"50%",r1:0,x2:a.getAttribute("cx")||"50%",y2:a.getAttribute("cy")||"50%",r2:a.getAttribute("r")||"50%"}}var d=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(a){a||(a={}),a.coords||(a.coords={});var s,c=this;Object.keys(a).forEach(function(p){c[p]=a[p]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,s={x1:a.coords.x1||0,y1:a.coords.y1||0,x2:a.coords.x2||0,y2:a.coords.y2||0},this.type==="radial"&&(s.r1=a.coords.r1||0,s.r2=a.coords.r2||0),this.coords=s,this.colorStops=a.colorStops.slice()},addColorStop:function(a){for(var s in a){var c=new t.Color(a[s]);this.colorStops.push({offset:parseFloat(s),color:c.toRgb(),opacity:c.getAlpha()})}return this},toObject:function(a){var s={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,s,a),s},toSVG:function(a,v){var c=d(this.coords,!0),p,f,v=v||{},m,_,x=d(this.colorStops,!0),w=c.r1>c.r2,b=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),S=-this.offsetX,O=-this.offsetY,I=!!v.additionalTransform,B=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(x.sort(function(re,ue){return re.offset-ue.offset}),B==="objectBoundingBox"?(S/=a.width,O/=a.height):(S+=a.width/2,O+=a.height/2),a.type==="path"&&this.gradientUnits!=="percentage"&&(S-=a.pathOffset.x,O-=a.pathOffset.y),b[4]-=S,b[5]-=O,_='id="SVGID_'+this.id+'" gradientUnits="'+B+'"',_+=' gradientTransform="'+(I?v.additionalTransform+" ":"")+t.util.matrixToSVG(b)+'" ',this.type==="linear"?m=["<linearGradient ",_,' x1="',c.x1,'" y1="',c.y1,'" x2="',c.x2,'" y2="',c.y2,`">
`]:this.type==="radial"&&(m=["<radialGradient ",_,' cx="',w?c.x1:c.x2,'" cy="',w?c.y1:c.y2,'" r="',w?c.r1:c.r2,'" fx="',w?c.x2:c.x1,'" fy="',w?c.y2:c.y1,`">
`]),this.type==="radial"){if(w)for(x=x.concat(),x.reverse(),p=0,f=x.length;p<f;p++)x[p].offset=1-x[p].offset;var Q=Math.min(c.r1,c.r2);if(Q>0){var ie=Math.max(c.r1,c.r2),le=Q/ie;for(p=0,f=x.length;p<f;p++)x[p].offset+=le*(1-x[p].offset)}}for(p=0,f=x.length;p<f;p++){var J=x[p];m.push("<stop ",'offset="',J.offset*100+"%",'" style="stop-color:',J.color,typeof J.opacity<"u"?";stop-opacity: "+J.opacity:";",`"/>
`)}return m.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),m.join("")},toLive:function(a){var s,c=t.util.object.clone(this.coords),p,f;if(this.type){for(this.type==="linear"?s=a.createLinearGradient(c.x1,c.y1,c.x2,c.y2):this.type==="radial"&&(s=a.createRadialGradient(c.x1,c.y1,c.r1,c.x2,c.y2,c.r2)),p=0,f=this.colorStops.length;p<f;p++){var v=this.colorStops[p].color,m=this.colorStops[p].opacity,_=this.colorStops[p].offset;typeof m<"u"&&(v=new t.Color(v).setAlpha(m).toRgba()),s.addColorStop(_,v)}return s}}}),t.util.object.extend(t.Gradient,{fromElement:function(a,s,c,p){var f=parseFloat(c)/(/%$/.test(c)?100:1);f=f<0?0:f>1?1:f,isNaN(f)&&(f=1);var v=a.getElementsByTagName("stop"),m,_=a.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",x=a.getAttribute("gradientTransform")||"",w=[],b,S,O=0,I=0,B;for(a.nodeName==="linearGradient"||a.nodeName==="LINEARGRADIENT"?(m="linear",b=i(a)):(m="radial",b=h(a)),S=v.length;S--;)w.push(u(v[S],f));B=t.parseTransformAttribute(x),o(s,b,p,_),_==="pixels"&&(O=-s.left,I=-s.top);var Q=new t.Gradient({id:a.getAttribute("id"),type:m,coords:b,colorStops:w,gradientUnits:_,gradientTransform:B,offsetX:O,offsetY:I});return Q}});function o(a,s,c,p){var f,v;Object.keys(s).forEach(function(m){f=s[m],f==="Infinity"?v=1:f==="-Infinity"?v=0:(v=parseFloat(s[m],10),typeof f=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(f)&&(v*=.01,p==="pixels"&&((m==="x1"||m==="x2"||m==="r2")&&(v*=c.viewBoxWidth||c.width),(m==="y1"||m==="y2")&&(v*=c.viewBoxHeight||c.height)))),s[m]=v})}}(),function(){var u=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,h){if(i||(i={}),this.id=t.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){h&&h(this);return}else{var d=this;this.source=t.util.createImage(),t.util.loadImage(i.source,function(o,a){d.source=o,h&&h(d,a)},null,this.crossOrigin)}},toObject:function(i){var h=t.Object.NUM_FRACTION_DIGITS,d,o;return typeof this.source.src=="string"?d=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(d=this.source.toDataURL()),o={type:"pattern",source:d,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:u(this.offsetX,h),offsetY:u(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,o,i),o},toSVG:function(i){var h=typeof this.source=="function"?this.source():this.source,d=h.width/i.width,o=h.height/i.height,a=this.offsetX/i.width,s=this.offsetY/i.height,c="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(o=1,s&&(o+=Math.abs(s))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(d=1,a&&(d+=Math.abs(a))),h.src?c=h.src:h.toDataURL&&(c=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+a+'" y="'+s+'" width="'+d+'" height="'+o+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+c+`"></image>
</pattern>
`},setOptions:function(i){for(var h in i)this[h]=i[h]},toLive:function(i){var h=this.source;return!h||typeof h.src<"u"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":i.createPattern(h,this.repeat)}})}(),function(u){var i=u.fabric||(u.fabric={}),h=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(d){typeof d=="string"&&(d=this._parseShadow(d));for(var o in d)this[o]=d[o];this.id=i.Object.__uid++},_parseShadow:function(d){var o=d.trim(),a=i.Shadow.reOffsetsAndBlur.exec(o)||[],s=o.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:s.trim(),offsetX:parseFloat(a[1],10)||0,offsetY:parseFloat(a[2],10)||0,blur:parseFloat(a[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(d){var o=40,a=40,s=i.Object.NUM_FRACTION_DIGITS,c=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-d.angle)),p=20,f=new i.Color(this.color);return d.width&&d.height&&(o=h((Math.abs(c.x)+this.blur)/d.width,s)*100+p,a=h((Math.abs(c.y)+this.blur)/d.height,s)*100+p),d.flipX&&(c.x*=-1),d.flipY&&(c.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+a+'%" height="'+(100+2*a)+'%" x="-'+o+'%" width="'+(100+2*o)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,s)+`"></feGaussianBlur>
	<feOffset dx="`+h(c.x,s)+'" dy="'+h(c.y,s)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+f.toRgb()+'" flood-opacity="'+f.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var d={},o=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(a){this[a]!==o[a]&&(d[a]=this[a])},this),d}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var u=t.util.object.extend,i=t.util.getElementOffset,h=t.util.removeFromArray,d=t.util.toFixed,o=t.util.transformPoint,a=t.util.invertTransform,s=t.util.getNodeCanvas,c=t.util.createCanvasElement,p=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(f,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(f,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(f,v){var m=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(f),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,m),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,m),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,m),v.overlayColor&&this.setOverlayColor(v.overlayColor,m),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var f=t.devicePixelRatio;this.__initRetinaScaling(f,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(f,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(f,v,m){v.setAttribute("width",this.width*f),v.setAttribute("height",this.height*f),m.scale(f,f)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(f,v,m){return this.__setBgOverlayImage("overlayImage",f,v,m)},setBackgroundImage:function(f,v,m){return this.__setBgOverlayImage("backgroundImage",f,v,m)},setOverlayColor:function(f,v){return this.__setBgOverlayColor("overlayColor",f,v)},setBackgroundColor:function(f,v){return this.__setBgOverlayColor("backgroundColor",f,v)},__setBgOverlayImage:function(f,v,m,_){return typeof v=="string"?t.util.loadImage(v,function(x,w){if(x){var b=new t.Image(x,_);this[f]=b,b.canvas=this}m&&m(x,w)},this,_&&_.crossOrigin):(_&&v.setOptions(_),this[f]=v,v&&(v.canvas=this),m&&m(v,!1)),this},__setBgOverlayColor:function(f,v,m){return this[f]=v,this._initGradient(v,f),this._initPattern(v,f,m),this},_createCanvasElement:function(){var f=c();if(!f||(f.style||(f.style={}),typeof f.getContext>"u"))throw p;return f},_initOptions:function(f){var v=this.lowerCanvasEl;this._setOptions(f),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(f){f&&f.getContext?this.lowerCanvasEl=f:this.lowerCanvasEl=t.util.getById(f)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(f,v){return this.setDimensions({width:f},v)},setHeight:function(f,v){return this.setDimensions({height:f},v)},setDimensions:function(f,v){var m;v=v||{};for(var _ in f)m=f[_],v.cssOnly||(this._setBackstoreDimension(_,f[_]),m+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(_,m);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(f,v){return this.lowerCanvasEl[f]=v,this.upperCanvasEl&&(this.upperCanvasEl[f]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[f]=v),this[f]=v,this},_setCssDimension:function(f,v){return this.lowerCanvasEl.style[f]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[f]=v),this.wrapperEl&&(this.wrapperEl.style[f]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(f){var v=this._activeObject,m=this.backgroundImage,_=this.overlayImage,x,w,b;for(this.viewportTransform=f,w=0,b=this._objects.length;w<b;w++)x=this._objects[w],x.group||x.setCoords(!0);return v&&v.setCoords(),m&&m.setCoords(!0),_&&_.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(f,v){var m=f,_=this.viewportTransform.slice(0);f=o(f,a(this.viewportTransform)),_[0]=v,_[3]=v;var x=o(f,_);return _[4]+=m.x-x.x,_[5]+=m.y-x.y,this.setViewportTransform(_)},setZoom:function(f){return this.zoomToPoint(new t.Point(0,0),f),this},absolutePan:function(f){var v=this.viewportTransform.slice(0);return v[4]=-f.x,v[5]=-f.y,this.setViewportTransform(v)},relativePan:function(f){return this.absolutePan(new t.Point(-f.x-this.viewportTransform[4],-f.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(f){this.stateful&&f.setupState(),f._set("canvas",this),f.setCoords(),this.fire("object:added",{target:f}),f.fire("added")},_onObjectRemoved:function(f){this.fire("object:removed",{target:f}),f.fire("removed"),delete f.canvas},clearContext:function(f){return f.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var f=this.contextContainer;return this.renderCanvas(f,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var f={},v=this.width,m=this.height,_=a(this.viewportTransform);return f.tl=o({x:0,y:0},_),f.br=o({x:v,y:m},_),f.tr=new t.Point(f.br.x,f.tl.y),f.bl=new t.Point(f.tl.x,f.br.y),this.vptCoords=f,f},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(f,v){var m=this.viewportTransform,_=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(f),t.util.setImageSmoothing(f,this.imageSmoothingEnabled),this.fire("before:render",{ctx:f}),this._renderBackground(f),f.save(),f.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._renderObjects(f,v),f.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(f),_&&(_.canvas=this,_.shouldCache(),_._transformDone=!0,_.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(f)),this._renderOverlay(f),this.controlsAboveOverlay&&this.interactive&&this.drawControls(f),this.fire("after:render",{ctx:f})},drawClipPathOnCanvas:function(f){var v=this.viewportTransform,m=this.clipPath;f.save(),f.transform(v[0],v[1],v[2],v[3],v[4],v[5]),f.globalCompositeOperation="destination-in",m.transform(f),f.scale(1/m.zoomX,1/m.zoomY),f.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),f.restore()},_renderObjects:function(f,v){var m,_;for(m=0,_=v.length;m<_;++m)v[m]&&v[m].render(f)},_renderBackgroundOrOverlay:function(f,v){var m=this[v+"Color"],_=this[v+"Image"],x=this.viewportTransform,w=this[v+"Vpt"];if(!(!m&&!_)){if(m){f.save(),f.beginPath(),f.moveTo(0,0),f.lineTo(this.width,0),f.lineTo(this.width,this.height),f.lineTo(0,this.height),f.closePath(),f.fillStyle=m.toLive?m.toLive(f,this):m,w&&f.transform(x[0],x[1],x[2],x[3],x[4],x[5]),f.transform(1,0,0,1,m.offsetX||0,m.offsetY||0);var b=m.gradientTransform||m.patternTransform;b&&f.transform(b[0],b[1],b[2],b[3],b[4],b[5]),f.fill(),f.restore()}_&&(f.save(),w&&f.transform(x[0],x[1],x[2],x[3],x[4],x[5]),_.render(f),f.restore())}},_renderBackground:function(f){this._renderBackgroundOrOverlay(f,"background")},_renderOverlay:function(f){this._renderBackgroundOrOverlay(f,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(f){return this._centerObject(f,new t.Point(this.getCenterPoint().x,f.getCenterPoint().y))},centerObjectV:function(f){return this._centerObject(f,new t.Point(f.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(f){var v=this.getCenterPoint();return this._centerObject(f,v)},viewportCenterObject:function(f){var v=this.getVpCenter();return this._centerObject(f,v)},viewportCenterObjectH:function(f){var v=this.getVpCenter();return this._centerObject(f,new t.Point(v.x,f.getCenterPoint().y)),this},viewportCenterObjectV:function(f){var v=this.getVpCenter();return this._centerObject(f,new t.Point(f.getCenterPoint().x,v.y))},getVpCenter:function(){var f=this.getCenterPoint(),v=a(this.viewportTransform);return o(f,v)},_centerObject:function(f,v){return f.setPositionByOrigin(v,"center","center"),f.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(f){return this.toDatalessObject(f)},toObject:function(f){return this._toObjectMethod("toObject",f)},toDatalessObject:function(f){return this._toObjectMethod("toDatalessObject",f)},_toObjectMethod:function(f,v){var m=this.clipPath,_={version:t.version,objects:this._toObjects(f,v)};return m&&!m.excludeFromExport&&(_.clipPath=this._toObject(this.clipPath,f,v)),u(_,this.__serializeBgOverlay(f,v)),t.util.populateWithProperties(this,_,v),_},_toObjects:function(f,v){return this._objects.filter(function(m){return!m.excludeFromExport}).map(function(m){return this._toObject(m,f,v)},this)},_toObject:function(f,v,m){var _;this.includeDefaultValues||(_=f.includeDefaultValues,f.includeDefaultValues=!1);var x=f[v](m);return this.includeDefaultValues||(f.includeDefaultValues=_),x},__serializeBgOverlay:function(f,v){var m={},_=this.backgroundImage,x=this.overlayImage,w=this.backgroundColor,b=this.overlayColor;return w&&w.toObject?w.excludeFromExport||(m.background=w.toObject(v)):w&&(m.background=w),b&&b.toObject?b.excludeFromExport||(m.overlay=b.toObject(v)):b&&(m.overlay=b),_&&!_.excludeFromExport&&(m.backgroundImage=this._toObject(_,f,v)),x&&!x.excludeFromExport&&(m.overlayImage=this._toObject(x,f,v)),m},svgViewportTransformation:!0,toSVG:function(f,v){f||(f={}),f.reviver=v;var m=[];return this._setSVGPreamble(m,f),this._setSVGHeader(m,f),this.clipPath&&m.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(m,"background"),this._setSVGBgOverlayImage(m,"backgroundImage",v),this._setSVGObjects(m,v),this.clipPath&&m.push(`</g>
`),this._setSVGBgOverlayColor(m,"overlay"),this._setSVGBgOverlayImage(m,"overlayImage",v),m.push("</svg>"),m.join("")},_setSVGPreamble:function(f,v){v.suppressPreamble||f.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(f,v){var m=v.width||this.width,_=v.height||this.height,x,w='viewBox="0 0 '+this.width+" "+this.height+'" ',b=t.Object.NUM_FRACTION_DIGITS;v.viewBox?w='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(x=this.viewportTransform,w='viewBox="'+d(-x[4]/x[0],b)+" "+d(-x[5]/x[3],b)+" "+d(this.width/x[0],b)+" "+d(this.height/x[3],b)+'" '),f.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',m,'" ','height="',_,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),`</defs>
`)},createSVGClipPathMarkup:function(f){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+v.clipPathId+`" >
`+this.clipPath.toClipPathSVG(f.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var f=this,v=["background","overlay"].map(function(m){var _=f[m+"Color"];if(_&&_.toLive){var x=f[m+"Vpt"],w=f.viewportTransform,b={width:f.width/(x?w[0]:1),height:f.height/(x?w[3]:1)};return _.toSVG(b,{additionalTransform:x?t.util.matrixToSVG(w):""})}});return v.join("")},createSVGFontFacesMarkup:function(){var f="",v={},m,_,x,w,b,S,O,I,B,Q=t.fontPaths,ie=[];for(this._objects.forEach(function J(re){ie.push(re),re._objects&&re._objects.forEach(J)}),I=0,B=ie.length;I<B;I++)if(m=ie[I],_=m.fontFamily,!(m.type.indexOf("text")===-1||v[_]||!Q[_])&&(v[_]=!0,!!m.styles)){x=m.styles;for(b in x){w=x[b];for(O in w)S=w[O],_=S.fontFamily,!v[_]&&Q[_]&&(v[_]=!0)}}for(var le in v)f+=[`		@font-face {
`,"			font-family: '",le,`';
`,"			src: url('",Q[le],`');
`,`		}
`].join("");return f&&(f=['	<style type="text/css">',`<![CDATA[
`,f,"]]>",`</style>
`].join("")),f},_setSVGObjects:function(f,v){var m,_,x,w=this._objects;for(_=0,x=w.length;_<x;_++)m=w[_],!m.excludeFromExport&&this._setSVGObject(f,m,v)},_setSVGObject:function(f,v,m){f.push(v.toSVG(m))},_setSVGBgOverlayImage:function(f,v,m){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&f.push(this[v].toSVG(m))},_setSVGBgOverlayColor:function(f,v){var m=this[v+"Color"],_=this.viewportTransform,x=this.width,w=this.height;if(m)if(m.toLive){var b=m.repeat,S=t.util.invertTransform(_),O=this[v+"Vpt"],I=O?t.util.matrixToSVG(S):"";f.push('<rect transform="'+I+" translate(",x/2,",",w/2,')"',' x="',m.offsetX-x/2,'" y="',m.offsetY-w/2,'" ','width="',b==="repeat-y"||b==="no-repeat"?m.source.width:x,'" height="',b==="repeat-x"||b==="no-repeat"?m.source.height:w,'" fill="url(#SVGID_'+m.id+')"',`></rect>
`)}else f.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',m,'"',`></rect>
`)},sendToBack:function(f){if(!f)return this;var v=this._activeObject,m,_,x;if(f===v&&f.type==="activeSelection")for(x=v._objects,m=x.length;m--;)_=x[m],h(this._objects,_),this._objects.unshift(_);else h(this._objects,f),this._objects.unshift(f);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(f){if(!f)return this;var v=this._activeObject,m,_,x;if(f===v&&f.type==="activeSelection")for(x=v._objects,m=0;m<x.length;m++)_=x[m],h(this._objects,_),this._objects.push(_);else h(this._objects,f),this._objects.push(f);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(f,v){if(!f)return this;var m=this._activeObject,_,x,w,b,S,O=0;if(f===m&&f.type==="activeSelection")for(S=m._objects,_=0;_<S.length;_++)x=S[_],w=this._objects.indexOf(x),w>0+O&&(b=w-1,h(this._objects,x),this._objects.splice(b,0,x)),O++;else w=this._objects.indexOf(f),w!==0&&(b=this._findNewLowerIndex(f,w,v),h(this._objects,f),this._objects.splice(b,0,f));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(f,v,m){var _,x;if(m)for(_=v,x=v-1;x>=0;--x){var w=f.intersectsWithObject(this._objects[x])||f.isContainedWithinObject(this._objects[x])||this._objects[x].isContainedWithinObject(f);if(w){_=x;break}}else _=v-1;return _},bringForward:function(f,v){if(!f)return this;var m=this._activeObject,_,x,w,b,S,O=0;if(f===m&&f.type==="activeSelection")for(S=m._objects,_=S.length;_--;)x=S[_],w=this._objects.indexOf(x),w<this._objects.length-1-O&&(b=w+1,h(this._objects,x),this._objects.splice(b,0,x)),O++;else w=this._objects.indexOf(f),w!==this._objects.length-1&&(b=this._findNewUpperIndex(f,w,v),h(this._objects,f),this._objects.splice(b,0,f));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(f,v,m){var _,x,w;if(m)for(_=v,x=v+1,w=this._objects.length;x<w;++x){var b=f.intersectsWithObject(this._objects[x])||f.isContainedWithinObject(this._objects[x])||this._objects[x].isContainedWithinObject(f);if(b){_=x;break}}else _=v+1;return _},moveTo:function(f,v){return h(this._objects,f),this._objects.splice(v,0,f),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(f){f.dispose&&f.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),u(t.StaticCanvas.prototype,t.Observable),u(t.StaticCanvas.prototype,t.Collection),u(t.StaticCanvas.prototype,t.DataURLExporter),u(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(f){var v=c();if(!v||!v.getContext)return null;var m=v.getContext("2d");if(!m)return null;switch(f){case"setLineDash":return typeof m.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var f=s(this.lowerCanvasEl);return f&&f.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(f){var v=s(this.lowerCanvasEl);return v&&v.createJPEGStream(f)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(u){u.strokeStyle=this.color,u.lineWidth=this.width,u.lineCap=this.strokeLineCap,u.miterLimit=this.strokeMiterLimit,u.lineJoin=this.strokeLineJoin,u.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(u){var i=this.canvas.viewportTransform;u.save(),u.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(this.shadow){var u=this.canvas,i=this.shadow,h=u.contextTop,d=u.getZoom();u&&u._isRetinaScaling()&&(d*=t.devicePixelRatio),h.shadowColor=i.color,h.shadowBlur=i.blur*d,h.shadowOffsetX=i.offsetX*d,h.shadowOffsetY=i.offsetY*d}},needsFullRender:function(){var u=new t.Color(this.color);return u.getAlpha()<1||!!this.shadow},_resetShadow:function(){var u=this.canvas.contextTop;u.shadowColor="",u.shadowBlur=u.shadowOffsetX=u.shadowOffsetY=0},_isOutSideCanvas:function(u){return u.x<0||u.x>this.canvas.getWidth()||u.y<0||u.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(u){this.canvas=u,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(u,i,h){var d=i.midPointFrom(h);return u.quadraticCurveTo(i.x,i.y,d.x,d.y),d},onMouseDown:function(u,i){this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(u),this._captureDrawingPath(u),this._render())},onMouseMove:function(u,i){if(this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u))&&this._captureDrawingPath(u)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,d=h.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(o,h[d-2],h[d-1],!0),o.stroke(),o.restore()}},onMouseUp:function(u){return this.canvas._isMainEvent(u.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(u){var i=new t.Point(u.x,u.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(u){return this._points.length>1&&u.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(u),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(u){var i=new t.Point(u.x,u.y);return this._addPoint(i)},_render:function(u){var i,h,d=this._points[0],o=this._points[1];if(u=u||this.canvas.contextTop,this._saveAndTransform(u),u.beginPath(),this._points.length===2&&d.x===o.x&&d.y===o.y){var a=this.width/1e3;d=new t.Point(d.x,d.y),o=new t.Point(o.x,o.y),d.x-=a,o.x+=a}for(u.moveTo(d.x,d.y),i=1,h=this._points.length;i<h;i++)this._drawSegment(u,d,o),d=this._points[i],o=this._points[i+1];u.lineTo(d.x,d.y),u.stroke(),u.restore()},convertPointsToSVGPath:function(u){var i=this.width/1e3;return t.util.getSmoothPathFromPoints(u,i)},_isEmptySVGPath:function(u){var i=t.util.joinPath(u);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(u){var i=new t.Path(u,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new t.Shadow(this.shadow)),i},decimatePoints:function(u,i){if(u.length<=2)return u;var h=this.canvas.getZoom(),d=Math.pow(i/h,2),o,a=u.length-1,s=u[0],c=[s],p;for(o=1;o<a-1;o++)p=Math.pow(s.x-u[o].x,2)+Math.pow(s.y-u[o].y,2),p>=d&&(s=u[o],c.push(s));return c.push(u[a]),c},_finalizeAndAddPath:function(){var u=this.canvas.contextTop;u.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var h=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(u){this.canvas=u,this.points=[]},drawDot:function(u){var i=this.addPoint(u),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,i),h.restore()},dot:function(u,i){u.fillStyle=i.fill,u.beginPath(),u.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),u.closePath(),u.fill()},onMouseDown:function(u){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(u)},_render:function(){var u=this.canvas.contextTop,i,h,d=this.points;for(this._saveAndTransform(u),i=0,h=d.length;i<h;i++)this.dot(u,d[i]);u.restore()},onMouseMove:function(u){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(u),this._render()):this.drawDot(u))},onMouseUp:function(){var u=this.canvas.renderOnAddRemove,i,h;this.canvas.renderOnAddRemove=!1;var d=[];for(i=0,h=this.points.length;i<h;i++){var o=this.points[i],a=new t.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(a.shadow=new t.Shadow(this.shadow)),d.push(a)}var s=new t.Group(d);s.canvas=this.canvas,this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=u,this.canvas.requestRenderAll()},addPoint:function(u){var i=new t.Point(u.x,u.y),h=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,d=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return i.radius=h,i.fill=d,this.points.push(i),i}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(u){this.canvas=u,this.sprayChunks=[]},onMouseDown:function(u){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(u),this.render(this.sprayChunkPoints)},onMouseMove:function(u){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u)||(this.addSprayChunk(u),this.render(this.sprayChunkPoints))},onMouseUp:function(){var u=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],h=0,d=this.sprayChunks.length;h<d;h++)for(var o=this.sprayChunks[h],a=0,s=o.length;a<s;a++){var c=new t.Rect({width:o[a].width,height:o[a].width,left:o[a].x+1,top:o[a].y+1,originX:"center",originY:"center",fill:this.color});i.push(c)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var p=new t.Group(i);this.shadow&&p.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:p}),this.canvas.add(p),this.canvas.fire("path:created",{path:p}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=u,this.canvas.requestRenderAll()},_getOptimizedRects:function(u){var i={},h,d,o;for(d=0,o=u.length;d<o;d++)h=u[d].left+""+u[d].top,i[h]||(i[h]=u[d]);var a=[];for(h in i)a.push(i[h]);return a},render:function(u){var i=this.canvas.contextTop,h,d;for(i.fillStyle=this.color,this._saveAndTransform(i),h=0,d=u.length;h<d;h++){var o=u[h];typeof o.opacity<"u"&&(i.globalAlpha=o.opacity),i.fillRect(o.x,o.y,o.width,o.width)}i.restore()},_render:function(){var u=this.canvas.contextTop,i,h;for(u.fillStyle=this.color,this._saveAndTransform(u),i=0,h=this.sprayChunks.length;i<h;i++)this.render(this.sprayChunks[i]);u.restore()},addSprayChunk:function(u){this.sprayChunkPoints=[];var i,h,d,o=this.width/2,a;for(a=0;a<this.density;a++){i=t.util.getRandomInt(u.x-o,u.x+o),h=t.util.getRandomInt(u.y-o,u.y+o),this.dotWidthVariance?d=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):d=this.dotWidth;var s=new t.Point(i,h);s.width=d,this.randomOpacity&&(s.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var u=20,i=5,h=t.util.createCanvasElement(),d=h.getContext("2d");return h.width=h.height=u+i,d.fillStyle=this.color,d.beginPath(),d.arc(u/2,u/2,u/2,0,Math.PI*2,!1),d.closePath(),d.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(u){return u.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(u){this.callSuper("_setBrushStyles",u),u.strokeStyle=this.getPattern(u)},createPath:function(u){var i=this.callSuper("createPath",u),h=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),i}}),function(){var u=t.util.getPointer,i=t.util.degreesToRadians,h=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(o,a){a||(a={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,a),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var o=this.getActiveObjects(),a,s,c;if(o.length>0&&!this.preserveObjectStacking){s=[],c=[];for(var p=0,f=this._objects.length;p<f;p++)a=this._objects[p],o.indexOf(a)===-1?s.push(a):c.push(a);o.length>1&&(this._activeObject._objects=c),s.push.apply(s,c)}else s=this._objects;return s},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var o=this.contextContainer;return this.renderCanvas(o,this._chooseObjectsToRender()),this},renderTopLayer:function(o){o.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(o),this.contextTopDirty=!0),o.restore()},renderTop:function(){var o=this.contextTop;return this.clearContext(o),this.renderTopLayer(o),this.fire("after:render"),this},_normalizePointer:function(o,a){var s=o.calcTransformMatrix(),c=t.util.invertTransform(s),p=this.restorePointerVpt(a);return t.util.transformPoint(p,c)},isTargetTransparent:function(o,a,s){if(o.shouldCache()&&o._cacheCanvas&&o!==this._activeObject){var c=this._normalizePointer(o,{x:a,y:s}),p=Math.max(o.cacheTranslationX+c.x*o.zoomX,0),f=Math.max(o.cacheTranslationY+c.y*o.zoomY,0),x=t.util.isTransparent(o._cacheContext,Math.round(p),Math.round(f),this.targetFindTolerance);return x}var v=this.contextCache,m=o.selectionBackgroundColor,_=this.viewportTransform;o.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(_[0],_[1],_[2],_[3],_[4],_[5]),o.render(v),v.restore(),o.selectionBackgroundColor=m;var x=t.util.isTransparent(v,a,s,this.targetFindTolerance);return x},_isSelectionKeyPressed:function(o){var a=!1;return Array.isArray(this.selectionKey)?a=!!this.selectionKey.find(function(s){return o[s]===!0}):a=o[this.selectionKey],a},_shouldClearSelection:function(o,a){var s=this.getActiveObjects(),c=this._activeObject;return!a||a&&c&&s.length>1&&s.indexOf(a)===-1&&c!==a&&!this._isSelectionKeyPressed(o)||a&&!a.evented||a&&!a.selectable&&c&&c!==a},_shouldCenterTransform:function(o,a,s){if(o){var c;return a==="scale"||a==="scaleX"||a==="scaleY"||a==="resizing"?c=this.centeredScaling||o.centeredScaling:a==="rotate"&&(c=this.centeredRotation||o.centeredRotation),c?!s:s}},_getOriginFromCorner:function(o,a){var s={x:o.originX,y:o.originY};return a==="ml"||a==="tl"||a==="bl"?s.x="right":(a==="mr"||a==="tr"||a==="br")&&(s.x="left"),a==="tl"||a==="mt"||a==="tr"?s.y="bottom":(a==="bl"||a==="mb"||a==="br")&&(s.y="top"),s},_getActionFromCorner:function(o,a,s,c){if(!a||!o)return"drag";var p=c.controls[a];return p.getActionName(s,p,c)},_setupCurrentTransform:function(o,a,s){if(a){var c=this.getPointer(o),p=a.__corner,f=a.controls[p],v=s&&p?f.getActionHandler(o,a,f):t.controlsUtils.dragHandler,m=this._getActionFromCorner(s,p,o,a),_=this._getOriginFromCorner(a,p),x=o[this.centeredKey],w={target:a,action:m,actionHandler:v,corner:p,scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,offsetX:c.x-a.left,offsetY:c.y-a.top,originX:_.x,originY:_.y,ex:c.x,ey:c.y,lastX:c.x,lastY:c.y,theta:i(a.angle),width:a.width*a.scaleX,shiftKey:o.shiftKey,altKey:x,original:t.util.saveObjectTransform(a)};this._shouldCenterTransform(a,m,x)&&(w.originX="center",w.originY="center"),w.original.originX=_.x,w.original.originY=_.y,this._currentTransform=w,this._beforeTransform(o)}},setCursor:function(o){this.upperCanvasEl.style.cursor=o},_drawSelection:function(o){var a=this._groupSelector,s=new t.Point(a.ex,a.ey),c=t.util.transformPoint(s,this.viewportTransform),p=new t.Point(a.ex+a.left,a.ey+a.top),f=t.util.transformPoint(p,this.viewportTransform),v=Math.min(c.x,f.x),m=Math.min(c.y,f.y),_=Math.max(c.x,f.x),x=Math.max(c.y,f.y),w=this.selectionLineWidth/2;this.selectionColor&&(o.fillStyle=this.selectionColor,o.fillRect(v,m,_-v,x-m)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(o.lineWidth=this.selectionLineWidth,o.strokeStyle=this.selectionBorderColor,v+=w,m+=w,_-=w,x-=w,t.Object.prototype._setLineDash.call(this,o,this.selectionDashArray),o.strokeRect(v,m,_-v,x-m))},findTarget:function(o,a){if(!this.skipTargetFind){var s=!0,c=this.getPointer(o,s),p=this._activeObject,f=this.getActiveObjects(),v,m,_=h(o),x=f.length>1&&!a||f.length===1;if(this.targets=[],x&&p._findTargetCorner(c,_)||f.length>1&&!a&&p===this._searchPossibleTargets([p],c))return p;if(f.length===1&&p===this._searchPossibleTargets([p],c))if(this.preserveObjectStacking)v=p,m=this.targets,this.targets=[];else return p;var w=this._searchPossibleTargets(this._objects,c);return o[this.altSelectionKey]&&w&&v&&w!==v&&(w=v,this.targets=m),w}},_checkTarget:function(o,a,s){if(a&&a.visible&&a.evented&&a.containsPoint(o))if((this.perPixelTargetFind||a.perPixelTargetFind)&&!a.isEditing){var c=this.isTargetTransparent(a,s.x,s.y);if(!c)return!0}else return!0},_searchPossibleTargets:function(o,a){for(var s,c=o.length,p;c--;){var f=o[c],v=f.group?this._normalizePointer(f.group,a):a;if(this._checkTarget(v,f,a)){s=o[c],s.subTargetCheck&&s instanceof t.Group&&(p=this._searchPossibleTargets(s._objects,a),p&&this.targets.push(p));break}}return s},restorePointerVpt:function(o){return t.util.transformPoint(o,t.util.invertTransform(this.viewportTransform))},getPointer:function(o,a){if(this._absolutePointer&&!a)return this._absolutePointer;if(this._pointer&&a)return this._pointer;var s=u(o),c=this.upperCanvasEl,p=c.getBoundingClientRect(),f=p.width||0,v=p.height||0,m;(!f||!v)&&("top"in p&&"bottom"in p&&(v=Math.abs(p.top-p.bottom)),"right"in p&&"left"in p&&(f=Math.abs(p.right-p.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,a||(s=this.restorePointerVpt(s));var _=this.getRetinaScaling();return _!==1&&(s.x/=_,s.y/=_),f===0||v===0?m={width:1,height:1}:m={width:c.width/f,height:c.height/v},{x:s.x*m.width,y:s.y*m.height}},_createUpperCanvas:function(){var o=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),a=this.lowerCanvasEl,s=this.upperCanvasEl;s?s.className="":(s=this._createCanvasElement(),this.upperCanvasEl=s),t.util.addClass(s,"upper-canvas "+o),this.wrapperEl.appendChild(s),this._copyCanvasStyle(a,s),this._applyCanvasStyle(s),this.contextTop=s.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(o){var a=this.width||o.width,s=this.height||o.height;t.util.setStyle(o,{position:"absolute",width:a+"px",height:s+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),o.width=a,o.height=s,t.util.makeElementUnselectable(o)},_copyCanvasStyle:function(o,a){a.style.cssText=o.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var o=this._activeObject;return o?o.type==="activeSelection"&&o._objects?o._objects.slice(0):[o]:[]},_onObjectRemoved:function(o){o===this._activeObject&&(this.fire("before:selection:cleared",{target:o}),this._discardActiveObject(),this.fire("selection:cleared",{target:o}),o.fire("deselected")),o===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",o)},_fireSelectionEvents:function(o,a){var s=!1,c=this.getActiveObjects(),p=[],f=[];o.forEach(function(v){c.indexOf(v)===-1&&(s=!0,v.fire("deselected",{e:a,target:v}),f.push(v))}),c.forEach(function(v){o.indexOf(v)===-1&&(s=!0,v.fire("selected",{e:a,target:v}),p.push(v))}),o.length>0&&c.length>0?s&&this.fire("selection:updated",{e:a,selected:p,deselected:f}):c.length>0?this.fire("selection:created",{e:a,selected:p}):o.length>0&&this.fire("selection:cleared",{e:a,deselected:f})},setActiveObject:function(o,a){var s=this.getActiveObjects();return this._setActiveObject(o,a),this._fireSelectionEvents(s,a),this},_setActiveObject:function(o,a){return this._activeObject===o||!this._discardActiveObject(a,o)||o.onSelect({e:a})?!1:(this._activeObject=o,!0)},_discardActiveObject:function(o,a){var s=this._activeObject;if(s){if(s.onDeselect({e:o,object:a}))return!1;this._activeObject=null}return!0},discardActiveObject:function(o){var a=this.getActiveObjects(),s=this.getActiveObject();return a.length&&this.fire("before:selection:cleared",{target:s,e:o}),this._discardActiveObject(o),this._fireSelectionEvents(a,o),this},dispose:function(){var o=this.wrapperEl;return this.removeListeners(),o.removeChild(this.upperCanvasEl),o.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(a){t.util.cleanUpJsdomNode(this[a]),this[a]=void 0}.bind(this)),o.parentNode&&o.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(o){var a=this._activeObject;a&&a._renderControls(o)},_toObject:function(o,a,s){var c=this._realizeGroupTransformOnObject(o),p=this.callSuper("_toObject",o,a,s);return this._unwindGroupTransformOnObject(o,c),p},_realizeGroupTransformOnObject:function(o){if(o.group&&o.group.type==="activeSelection"&&this._activeObject===o.group){var a=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],s={};return a.forEach(function(c){s[c]=o[c]}),t.util.addTransformToObject(o,this._activeObject.calcOwnMatrix()),s}else return null},_unwindGroupTransformOnObject:function(o,a){a&&o.set(a)},_setSVGObject:function(o,a,s){var c=this._realizeGroupTransformOnObject(a);this.callSuper("_setSVGObject",o,a,s),this._unwindGroupTransformOnObject(a,c)},setViewportTransform:function(o){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,o)}});for(var d in t.StaticCanvas)d!=="prototype"&&(t.Canvas[d]=t.StaticCanvas[d])}(),function(){var u=t.util.addListener,i=t.util.removeListener,h=3,d=2,o=1,a={passive:!1};function s(c,p){return c.button&&c.button===p-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(u,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(c,p){var f=this.upperCanvasEl,v=this._getEventPrefix();c(t.window,"resize",this._onResize),c(f,v+"down",this._onMouseDown),c(f,v+"move",this._onMouseMove,a),c(f,v+"out",this._onMouseOut),c(f,v+"enter",this._onMouseEnter),c(f,"wheel",this._onMouseWheel),c(f,"contextmenu",this._onContextMenu),c(f,"dblclick",this._onDoubleClick),c(f,"dragover",this._onDragOver),c(f,"dragenter",this._onDragEnter),c(f,"dragleave",this._onDragLeave),c(f,"drop",this._onDrop),this.enablePointerEvents||c(f,"touchstart",this._onTouchStart,a),typeof eventjs<"u"&&p in eventjs&&(eventjs[p](f,"gesture",this._onGesture),eventjs[p](f,"drag",this._onDrag),eventjs[p](f,"orientation",this._onOrientationChange),eventjs[p](f,"shake",this._onShake),eventjs[p](f,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var c=this._getEventPrefix();i(t.document,c+"up",this._onMouseUp),i(t.document,"touchend",this._onTouchEnd,a),i(t.document,c+"move",this._onMouseMove,a),i(t.document,"touchmove",this._onMouseMove,a)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(c,p){this.__onTransformGesture&&this.__onTransformGesture(c,p)},_onDrag:function(c,p){this.__onDrag&&this.__onDrag(c,p)},_onMouseWheel:function(c){this.__onMouseWheel(c)},_onMouseOut:function(c){var p=this._hoveredTarget;this.fire("mouse:out",{target:p,e:c}),this._hoveredTarget=null,p&&p.fire("mouseout",{e:c});var f=this;this._hoveredTargets.forEach(function(v){f.fire("mouse:out",{target:p,e:c}),v&&p.fire("mouseout",{e:c})}),this._hoveredTargets=[]},_onMouseEnter:function(c){!this._currentTransform&&!this.findTarget(c)&&(this.fire("mouse:over",{target:null,e:c}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(c,p){this.__onOrientationChange&&this.__onOrientationChange(c,p)},_onShake:function(c,p){this.__onShake&&this.__onShake(c,p)},_onLongPress:function(c,p){this.__onLongPress&&this.__onLongPress(c,p)},_onDragOver:function(c){c.preventDefault();var p=this._simpleEventHandler("dragover",c);this._fireEnterLeaveEvents(p,c)},_onDrop:function(c){return this._simpleEventHandler("drop:before",c),this._simpleEventHandler("drop",c)},_onContextMenu:function(c){return this.stopContextMenu&&(c.stopPropagation(),c.preventDefault()),!1},_onDoubleClick:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"dblclick"),this._resetTransformEventData(c)},getPointerId:function(c){var p=c.changedTouches;return p?p[0]&&p[0].identifier:this.enablePointerEvents?c.pointerId:-1},_isMainEvent:function(c){return c.isPrimary===!0?!0:c.isPrimary===!1?!1:c.type==="touchend"&&c.touches.length===0?!0:c.changedTouches?c.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(c){c.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(c)),this.__onMouseDown(c),this._resetTransformEventData();var p=this.upperCanvasEl,f=this._getEventPrefix();u(t.document,"touchend",this._onTouchEnd,a),u(t.document,"touchmove",this._onMouseMove,a),i(p,f+"down",this._onMouseDown)},_onMouseDown:function(c){this.__onMouseDown(c),this._resetTransformEventData();var p=this.upperCanvasEl,f=this._getEventPrefix();i(p,f+"move",this._onMouseMove,a),u(t.document,f+"up",this._onMouseUp),u(t.document,f+"move",this._onMouseMove,a)},_onTouchEnd:function(c){if(!(c.touches.length>0)){this.__onMouseUp(c),this._resetTransformEventData(),this.mainTouchId=null;var p=this._getEventPrefix();i(t.document,"touchend",this._onTouchEnd,a),i(t.document,"touchmove",this._onMouseMove,a);var f=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){u(f.upperCanvasEl,p+"down",f._onMouseDown),f._willAddMouseDown=0},400)}},_onMouseUp:function(c){this.__onMouseUp(c),this._resetTransformEventData();var p=this.upperCanvasEl,f=this._getEventPrefix();this._isMainEvent(c)&&(i(t.document,f+"up",this._onMouseUp),i(t.document,f+"move",this._onMouseMove,a),u(p,f+"move",this._onMouseMove,a))},_onMouseMove:function(c){!this.allowTouchScrolling&&c.preventDefault&&c.preventDefault(),this.__onMouseMove(c)},_onResize:function(){this.calcOffset()},_shouldRender:function(c){var p=this._activeObject;return!!p!=!!c||p&&c&&p!==c?!0:(p&&p.isEditing,!1)},__onMouseUp:function(c){var p,f=this._currentTransform,v=this._groupSelector,m=!1,_=!v||v.left===0&&v.top===0;if(this._cacheTransformEventData(c),p=this._target,this._handleEvent(c,"up:before"),s(c,h)){this.fireRightClick&&this._handleEvent(c,"up",h,_);return}if(s(c,d)){this.fireMiddleClick&&this._handleEvent(c,"up",d,_),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(c);return}if(this._isMainEvent(c)){if(f&&(this._finalizeCurrentTransform(c),m=f.actionPerformed),!_){var x=p===this._activeObject;this._maybeGroupObjects(c),m||(m=this._shouldRender(p)||!x&&p===this._activeObject)}var w,b;if(p){if(w=p._findTargetCorner(this.getPointer(c,!0),t.util.isTouchEvent(c)),p.selectable&&p!==this._activeObject&&p.activeOn==="up")this.setActiveObject(p,c),m=!0;else{var S=p.controls[w],O=S&&S.getMouseUpHandler(c,p,S);O&&(b=this.getPointer(c),O(c,f,b.x,b.y))}p.isMoving=!1}if(f&&(f.target!==p||f.corner!==w)){var I=f.target&&f.target.controls[f.corner],B=I&&I.getMouseUpHandler(c,p,S);b=b||this.getPointer(c),B&&B(c,f,b.x,b.y)}this._setCursorFromEvent(c,p),this._handleEvent(c,"up",o,_),this._groupSelector=null,this._currentTransform=null,p&&(p.__corner=0),m?this.requestRenderAll():_||this.renderTop()}},_simpleEventHandler:function(c,p){var f=this.findTarget(p),v=this.targets,m={e:p,target:f,subTargets:v};if(this.fire(c,m),f&&f.fire(c,m),!v)return f;for(var _=0;_<v.length;_++)v[_].fire(c,m);return f},_handleEvent:function(c,p,f,v){var m=this._target,_=this.targets||[],x={e:c,target:m,subTargets:_,button:f||o,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};p==="up"&&(x.currentTarget=this.findTarget(c),x.currentSubTargets=this.targets),this.fire("mouse:"+p,x),m&&m.fire("mouse"+p,x);for(var w=0;w<_.length;w++)_[w].fire("mouse"+p,x)},_finalizeCurrentTransform:function(c){var p=this._currentTransform,f=p.target,v={e:c,target:f,transform:p,action:p.action};f._scaling&&(f._scaling=!1),f.setCoords(),(p.actionPerformed||this.stateful&&f.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(c){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(c).requestRenderAll();var p=this.getPointer(c);this.freeDrawingBrush.onMouseDown(p,{e:c,pointer:p}),this._handleEvent(c,"down")},_onMouseMoveInDrawingMode:function(c){if(this._isCurrentlyDrawing){var p=this.getPointer(c);this.freeDrawingBrush.onMouseMove(p,{e:c,pointer:p})}this.setCursor(this.freeDrawingCursor),this._handleEvent(c,"move")},_onMouseUpInDrawingMode:function(c){var p=this.getPointer(c);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:c,pointer:p}),this._handleEvent(c,"up")},__onMouseDown:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"down:before");var p=this._target;if(s(c,h)){this.fireRightClick&&this._handleEvent(c,"down",h);return}if(s(c,d)){this.fireMiddleClick&&this._handleEvent(c,"down",d);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(c);return}if(this._isMainEvent(c)&&!this._currentTransform){var f=this._pointer;this._previousPointer=f;var v=this._shouldRender(p),m=this._shouldGroup(c,p);if(this._shouldClearSelection(c,p)?this.discardActiveObject(c):m&&(this._handleGrouping(c,p),p=this._activeObject),this.selection&&(!p||!p.selectable&&!p.isEditing&&p!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),p){var _=p===this._activeObject;p.selectable&&p.activeOn==="down"&&this.setActiveObject(p,c);var x=p._findTargetCorner(this.getPointer(c,!0),t.util.isTouchEvent(c));if(p.__corner=x,p===this._activeObject&&(x||!m)){this._setupCurrentTransform(c,p,_);var w=p.controls[x],f=this.getPointer(c),b=w&&w.getMouseDownHandler(c,p,w);b&&b(c,this._currentTransform,f.x,f.y)}}this._handleEvent(c,"down"),(v||m)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(c){this._resetTransformEventData(),this._pointer=this.getPointer(c,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(c)||null},_beforeTransform:function(c){var p=this._currentTransform;this.stateful&&p.target.saveState(),this.fire("before:transform",{e:c,transform:p})},__onMouseMove:function(c){this._handleEvent(c,"move:before"),this._cacheTransformEventData(c);var p,f;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(c);return}if(this._isMainEvent(c)){var v=this._groupSelector;v?(f=this._absolutePointer,v.left=f.x-v.ex,v.top=f.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(c):(p=this.findTarget(c)||null,this._setCursorFromEvent(c,p),this._fireOverOutEvents(p,c)),this._handleEvent(c,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(c,p){var f=this._hoveredTarget,v=this._hoveredTargets,m=this.targets,_=Math.max(v.length,m.length);this.fireSyntheticInOutEvents(c,p,{oldTarget:f,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var x=0;x<_;x++)this.fireSyntheticInOutEvents(m[x],p,{oldTarget:v[x],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=c,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(c,p){var f=this._draggedoverTarget,v=this._hoveredTargets,m=this.targets,_=Math.max(v.length,m.length);this.fireSyntheticInOutEvents(c,p,{oldTarget:f,evtOut:"dragleave",evtIn:"dragenter"});for(var x=0;x<_;x++)this.fireSyntheticInOutEvents(m[x],p,{oldTarget:v[x],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=c},fireSyntheticInOutEvents:function(c,p,f){var v,m,_=f.oldTarget,x,w,b=_!==c,S=f.canvasEvtIn,O=f.canvasEvtOut;b&&(v={e:p,target:c,previousTarget:_},m={e:p,target:_,nextTarget:c}),w=c&&b,x=_&&b,x&&(O&&this.fire(O,m),_.fire(f.evtOut,m)),w&&(S&&this.fire(S,v),c.fire(f.evtIn,v))},__onMouseWheel:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"wheel"),this._resetTransformEventData()},_transformObject:function(c){var p=this.getPointer(c),f=this._currentTransform;f.reset=!1,f.shiftKey=c.shiftKey,f.altKey=c[this.centeredKey],this._performTransformAction(c,f,p),f.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(c,p,f){var v=f.x,m=f.y,_=p.action,x=!1,w=p.actionHandler;w&&(x=w(c,p,v,m)),_==="drag"&&x&&(p.target.isMoving=!0,this.setCursor(p.target.moveCursor||this.moveCursor)),p.actionPerformed=p.actionPerformed||x},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(c,p){if(!p)return this.setCursor(this.defaultCursor),!1;var f=p.hoverCursor||this.hoverCursor,v=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,m=(!v||!v.contains(p))&&p._findTargetCorner(this.getPointer(c,!0));m?this.setCursor(this.getCornerCursor(m,p,c)):(p.subTargetCheck&&this.targets.concat().reverse().map(function(_){f=_.hoverCursor||f}),this.setCursor(f))},getCornerCursor:function(c,p,f){var v=p.controls[c];return v.cursorStyleHandler(f,v,p)}})}(),function(){var u=Math.min,i=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(h,d){var o=this._activeObject;return o&&this._isSelectionKeyPressed(h)&&d&&d.selectable&&this.selection&&(o!==d||o.type==="activeSelection")&&!d.onSelect({e:h})},_handleGrouping:function(h,d){var o=this._activeObject;o.__corner||d===o&&(d=this.findTarget(h,!0),!d||!d.selectable)||(o&&o.type==="activeSelection"?this._updateActiveSelection(d,h):this._createActiveSelection(d,h))},_updateActiveSelection:function(h,d){var o=this._activeObject,a=o._objects.slice(0);o.contains(h)?(o.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),o.size()===1&&this._setActiveObject(o.item(0),d)):(o.addWithUpdate(h),this._hoveredTarget=o,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(a,d)},_createActiveSelection:function(h,d){var o=this.getActiveObjects(),a=this._createGroup(h);this._hoveredTarget=a,this._setActiveObject(a,d),this._fireSelectionEvents(o,d)},_createGroup:function(h){var d=this._objects,o=d.indexOf(this._activeObject)<d.indexOf(h),a=o?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(a,{canvas:this})},_groupSelectedObjects:function(h){var d=this._collectObjects(h),o;d.length===1?this.setActiveObject(d[0],h):d.length>1&&(o=new t.ActiveSelection(d.reverse(),{canvas:this}),this.setActiveObject(o,h))},_collectObjects:function(h){for(var d=[],o,a=this._groupSelector.ex,s=this._groupSelector.ey,c=a+this._groupSelector.left,p=s+this._groupSelector.top,f=new t.Point(u(a,c),u(s,p)),v=new t.Point(i(a,c),i(s,p)),m=!this.selectionFullyContained,_=a===c&&s===p,x=this._objects.length;x--&&(o=this._objects[x],!(!(!o||!o.selectable||!o.visible)&&(m&&o.intersectsWithRect(f,v,!0)||o.isContainedWithinRect(f,v,!0)||m&&o.containsPoint(f,null,!0)||m&&o.containsPoint(v,null,!0))&&(d.push(o),_))););return d.length>1&&(d=d.filter(function(w){return!w.onSelect({e:h})})),d},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(u){u||(u={});var i=u.format||"png",h=u.quality||1,d=(u.multiplier||1)*(u.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(d,u);return t.util.toDataURL(o,i,h)},toCanvasElement:function(u,i){u=u||1,i=i||{};var h=(i.width||this.width)*u,d=(i.height||this.height)*u,o=this.getZoom(),a=this.width,s=this.height,c=o*u,p=this.viewportTransform,f=(p[4]-(i.left||0))*u,v=(p[5]-(i.top||0))*u,m=this.interactive,_=[c,0,0,c,f,v],x=this.enableRetinaScaling,w=t.util.createCanvasElement(),b=this.contextTop;return w.width=h,w.height=d,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=_,this.width=h,this.height=d,this.calcViewportBoundaries(),this.renderCanvas(w.getContext("2d"),this._objects),this.viewportTransform=p,this.width=a,this.height=s,this.calcViewportBoundaries(),this.interactive=m,this.enableRetinaScaling=x,this.contextTop=b,w}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(u,i,h){if(u){var d=typeof u=="string"?JSON.parse(u):t.util.object.clone(u),o=this,a=d.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete d.clipPath,this._enlivenObjects(d.objects,function(c){o.clear(),o._setBgOverlay(d,function(){a?o._enlivenObjects([a],function(p){o.clipPath=p[0],o.__setupCanvas.call(o,d,c,s,i)}):o.__setupCanvas.call(o,d,c,s,i)})},h),this}},__setupCanvas:function(u,i,h,d){var o=this;i.forEach(function(a,s){o.insertAt(a,s)}),this.renderOnAddRemove=h,delete u.objects,delete u.backgroundImage,delete u.overlayImage,delete u.background,delete u.overlay,this._setOptions(u),this.renderAll(),d&&d()},_setBgOverlay:function(u,i){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!u.backgroundImage&&!u.overlayImage&&!u.background&&!u.overlay){i&&i();return}var d=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",u.backgroundImage,h,d),this.__setBgOverlay("overlayImage",u.overlayImage,h,d),this.__setBgOverlay("backgroundColor",u.background,h,d),this.__setBgOverlay("overlayColor",u.overlay,h,d)},__setBgOverlay:function(u,i,h,d){var o=this;if(!i){h[u]=!0,d&&d();return}u==="backgroundImage"||u==="overlayImage"?t.util.enlivenObjects([i],function(a){o[u]=a[0],h[u]=!0,d&&d()}):this["set"+t.util.string.capitalize(u,!0)](i,function(){h[u]=!0,d&&d()})},_enlivenObjects:function(u,i,h){if(!u||u.length===0){i&&i([]);return}t.util.enlivenObjects(u,function(d){i&&i(d)},null,h)},_toDataURL:function(u,i){this.clone(function(h){i(h.toDataURL(u))})},_toDataURLWithMultiplier:function(u,i,h){this.clone(function(d){h(d.toDataURLWithMultiplier(u,i))})},clone:function(u,i){var h=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(d){d.loadFromJSON(h,function(){u&&u(d)})})},cloneWithoutData:function(u){var i=t.util.createCanvasElement();i.width=this.width,i.height=this.height;var h=new t.Canvas(i);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),u&&u(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):u&&u(h)}}),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.util.object.clone,o=i.util.toFixed,a=i.util.string.capitalize,s=i.util.degreesToRadians,c=!i.isLikelyNode,p=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:c,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(f){f&&this.setOptions(f)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(f){var v=i.perfLimitSizeTotal,m=f.width,_=f.height,x=i.maxCacheSideLimit,w=i.minCacheSideLimit;if(m<=x&&_<=x&&m*_<=v)return m<w&&(f.width=w),_<w&&(f.height=w),f;var b=m/_,S=i.util.limitDimsByArea(b,v),O=i.util.capValue,I=O(w,S.x,x),B=O(w,S.y,x);return m>I&&(f.zoomX/=m/I,f.width=I,f.capped=!0),_>B&&(f.zoomY/=_/B,f.height=B,f.capped=!0),f},_getCacheCanvasDimensions:function(){var f=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),m=v.x*f.scaleX/this.scaleX,_=v.y*f.scaleY/this.scaleY;return{width:m+p,height:_+p,zoomX:f.scaleX,zoomY:f.scaleY,x:m,y:_}},_updateCacheCanvas:function(){var f=this.canvas;if(this.noScaleCache&&f&&f._currentTransform){var v=f._currentTransform.target,m=f._currentTransform.action;if(this===v&&m.slice&&m.slice(0,5)==="scale")return!1}var _=this._cacheCanvas,x=this._limitCacheSize(this._getCacheCanvasDimensions()),w=i.minCacheSideLimit,b=x.width,S=x.height,O,I,B=x.zoomX,Q=x.zoomY,ie=b!==this.cacheWidth||S!==this.cacheHeight,le=this.zoomX!==B||this.zoomY!==Q,J=ie||le,re=0,ue=0,de=!1;if(ie){var U=this._cacheCanvas.width,C=this._cacheCanvas.height,P=b>U||S>C,A=(b<U*.9||S<C*.9)&&U>w&&C>w;de=P||A,P&&!x.capped&&(b>w||S>w)&&(re=b*.1,ue=S*.1)}return this instanceof i.Text&&this.path&&(J=!0,de=!0,re+=this.getHeightOfLine(0)*this.zoomX,ue+=this.getHeightOfLine(0)*this.zoomY),J?(de?(_.width=Math.ceil(b+re),_.height=Math.ceil(S+ue)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,_.width,_.height)),O=x.x/2,I=x.y/2,this.cacheTranslationX=Math.round(_.width/2-O)+O,this.cacheTranslationY=Math.round(_.height/2-I)+I,this.cacheWidth=b,this.cacheHeight=S,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(B,Q),this.zoomX=B,this.zoomY=Q,!0):!1},setOptions:function(f){this._setOptions(f),this._initGradient(f.fill,"fill"),this._initGradient(f.stroke,"stroke"),this._initPattern(f.fill,"fill"),this._initPattern(f.stroke,"stroke")},transform:function(f){var v=this.group&&!this.group._transformDone||this.group&&this.canvas&&f===this.canvas.contextTop,m=this.calcTransformMatrix(!v);f.transform(m[0],m[1],m[2],m[3],m[4],m[5])},toObject:function(f){var v=i.Object.NUM_FRACTION_DIGITS,m={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:o(this.left,v),top:o(this.top,v),width:o(this.width,v),height:o(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,v),scaleX:o(this.scaleX,v),scaleY:o(this.scaleY,v),angle:o(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,v),skewY:o(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(m.clipPath=this.clipPath.toObject(f),m.clipPath.inverted=this.clipPath.inverted,m.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,m,f),this.includeDefaultValues||(m=this._removeDefaultValues(m)),m},toDatalessObject:function(f){return this.toObject(f)},_removeDefaultValues:function(f){var v=i.util.getKlass(f.type).prototype,m=v.stateProperties;return m.forEach(function(_){_==="left"||_==="top"||(f[_]===v[_]&&delete f[_],Array.isArray(f[_])&&Array.isArray(v[_])&&f[_].length===0&&v[_].length===0&&delete f[_])}),f},toString:function(){return"#<fabric."+a(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var f=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(f.scaleX),scaleY:Math.abs(f.scaleY)}},getTotalObjectScaling:function(){var f=this.getObjectScaling(),v=f.scaleX,m=f.scaleY;if(this.canvas){var _=this.canvas.getZoom(),x=this.canvas.getRetinaScaling();v*=_*x,m*=_*x}return{scaleX:v,scaleY:m}},getObjectOpacity:function(){var f=this.opacity;return this.group&&(f*=this.group.getObjectOpacity()),f},_set:function(f,v){var m=f==="scaleX"||f==="scaleY",_=this[f]!==v,x=!1;return m&&(v=this._constrainScale(v)),f==="scaleX"&&v<0?(this.flipX=!this.flipX,v*=-1):f==="scaleY"&&v<0?(this.flipY=!this.flipY,v*=-1):f==="shadow"&&v&&!(v instanceof i.Shadow)?v=new i.Shadow(v):f==="dirty"&&this.group&&this.group.set("dirty",v),this[f]=v,_&&(x=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(f)>-1?(this.dirty=!0,x&&this.group.set("dirty",!0)):x&&this.stateProperties.indexOf(f)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(f){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(f.save(),this._setupCompositeOperation(f),this.drawSelectionBackground(f),this.transform(f),this._setOpacity(f),this._setShadow(f,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(f)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(f),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),f.restore())},renderCache:function(f){f=f||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,f.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(f,v){if(f.save(),v.inverted?f.globalCompositeOperation="destination-out":f.globalCompositeOperation="destination-in",v.absolutePositioned){var m=i.util.invertTransform(this.calcTransformMatrix());f.transform(m[0],m[1],m[2],m[3],m[4],m[5])}v.transform(f),f.scale(1/v.zoomX,1/v.zoomY),f.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),f.restore()},drawObject:function(f,v){var m=this.fill,_=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(f)):this._renderBackground(f),this._render(f),this._drawClipPath(f,this.clipPath),this.fill=m,this.stroke=_},_drawClipPath:function(f,v){v&&(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(f,v))},drawCacheOnCanvas:function(f){f.scale(1/this.zoomX,1/this.zoomY),f.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(f){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!f&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!f){var v=this.cacheWidth/this.zoomX,m=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-m/2,v,m)}return!0}return!1},_renderBackground:function(f){if(this.backgroundColor){var v=this._getNonTransformedDimensions();f.fillStyle=this.backgroundColor,f.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(f)}},_setOpacity:function(f){this.group&&!this.group._transformDone?f.globalAlpha=this.getObjectOpacity():f.globalAlpha*=this.opacity},_setStrokeStyles:function(f,v){var m=v.stroke;m&&(f.lineWidth=v.strokeWidth,f.lineCap=v.strokeLineCap,f.lineDashOffset=v.strokeDashOffset,f.lineJoin=v.strokeLineJoin,f.miterLimit=v.strokeMiterLimit,m.toLive?m.gradientUnits==="percentage"||m.gradientTransform||m.patternTransform?this._applyPatternForTransformedGradient(f,m):(f.strokeStyle=m.toLive(f,this),this._applyPatternGradientTransform(f,m)):f.strokeStyle=v.stroke)},_setFillStyles:function(f,v){var m=v.fill;m&&(m.toLive?(f.fillStyle=m.toLive(f,this),this._applyPatternGradientTransform(f,v.fill)):f.fillStyle=m)},_setClippingProperties:function(f){f.globalAlpha=1,f.strokeStyle="transparent",f.fillStyle="#000000"},_setLineDash:function(f,v){!v||v.length===0||(1&v.length&&v.push.apply(v,v),f.setLineDash(v))},_renderControls:function(f,v){var m=this.getViewportTransform(),_=this.calcTransformMatrix(),x,w,b;v=v||{},w=typeof v.hasBorders<"u"?v.hasBorders:this.hasBorders,b=typeof v.hasControls<"u"?v.hasControls:this.hasControls,_=i.util.multiplyTransformMatrices(m,_),x=i.util.qrDecompose(_),f.save(),f.translate(x.translateX,x.translateY),f.lineWidth=1*this.borderScaleFactor,this.group||(f.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(x.angle-=180),f.rotate(s(this.group?x.angle:this.angle)),v.forActiveSelection||this.group?w&&this.drawBordersInGroup(f,x,v):w&&this.drawBorders(f,v),b&&this.drawControls(f,v),f.restore()},_setShadow:function(f){if(this.shadow){var v=this.shadow,m=this.canvas,_,x=m&&m.viewportTransform[0]||1,w=m&&m.viewportTransform[3]||1;v.nonScaling?_={scaleX:1,scaleY:1}:_=this.getObjectScaling(),m&&m._isRetinaScaling()&&(x*=i.devicePixelRatio,w*=i.devicePixelRatio),f.shadowColor=v.color,f.shadowBlur=v.blur*i.browserShadowBlurConstant*(x+w)*(_.scaleX+_.scaleY)/4,f.shadowOffsetX=v.offsetX*x*_.scaleX,f.shadowOffsetY=v.offsetY*w*_.scaleY}},_removeShadow:function(f){this.shadow&&(f.shadowColor="",f.shadowBlur=f.shadowOffsetX=f.shadowOffsetY=0)},_applyPatternGradientTransform:function(f,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var m=v.gradientTransform||v.patternTransform,_=-this.width/2+v.offsetX||0,x=-this.height/2+v.offsetY||0;return v.gradientUnits==="percentage"?f.transform(this.width,0,0,this.height,_,x):f.transform(1,0,0,1,_,x),m&&f.transform(m[0],m[1],m[2],m[3],m[4],m[5]),{offsetX:_,offsetY:x}},_renderPaintInOrder:function(f){this.paintFirst==="stroke"?(this._renderStroke(f),this._renderFill(f)):(this._renderFill(f),this._renderStroke(f))},_render:function(){},_renderFill:function(f){this.fill&&(f.save(),this._setFillStyles(f,this),this.fillRule==="evenodd"?f.fill("evenodd"):f.fill(),f.restore())},_renderStroke:function(f){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(f),f.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();f.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&f.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(f,this.strokeDashArray),this._setStrokeStyles(f,this),f.stroke(),f.restore()}},_applyPatternForTransformedGradient:function(f,v){var m=this._limitCacheSize(this._getCacheCanvasDimensions()),_=i.util.createCanvasElement(),x,w=this.canvas.getRetinaScaling(),b=m.x/this.scaleX/w,S=m.y/this.scaleY/w;_.width=b,_.height=S,x=_.getContext("2d"),x.beginPath(),x.moveTo(0,0),x.lineTo(b,0),x.lineTo(b,S),x.lineTo(0,S),x.closePath(),x.translate(b/2,S/2),x.scale(m.zoomX/this.scaleX/w,m.zoomY/this.scaleY/w),this._applyPatternGradientTransform(x,v),x.fillStyle=v.toLive(f),x.fill(),f.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),f.scale(w*this.scaleX/m.zoomX,w*this.scaleY/m.zoomY),f.strokeStyle=x.createPattern(_,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var f=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",f.scaleX),this.set("scaleY",f.scaleY),this.angle=f.angle,this.skewX=f.skewX,this.skewY=0}},_removeTransformMatrix:function(f){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=i.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,f&&(this.scaleX*=f.scaleX,this.scaleY*=f.scaleY,this.cropX=f.cropX,this.cropY=f.cropY,v.x+=f.offsetLeft,v.y+=f.offsetTop,this.width=f.width,this.height=f.height),this.setPositionByOrigin(v,"center","center")},clone:function(f,v){var m=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(m,f):i.Object._fromObject("Object",m,f)},cloneAsImage:function(f,v){var m=this.toCanvasElement(v);return f&&f(new i.Image(m)),this},toCanvasElement:function(f){f||(f={});var v=i.util,m=v.saveObjectTransform(this),_=this.group,x=this.shadow,w=Math.abs,b=(f.multiplier||1)*(f.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,f.withoutTransform&&v.resetObjectTransform(this),f.withoutShadow&&(this.shadow=null);var S=i.util.createCanvasElement(),O=this.getBoundingRect(!0,!0),I=this.shadow,B,Q={x:0,y:0},ie,le,J;I&&(ie=I.blur,I.nonScaling?B={scaleX:1,scaleY:1}:B=this.getObjectScaling(),Q.x=2*Math.round(w(I.offsetX)+ie)*w(B.scaleX),Q.y=2*Math.round(w(I.offsetY)+ie)*w(B.scaleY)),le=O.width+Q.x,J=O.height+Q.y,S.width=Math.ceil(le),S.height=Math.ceil(J);var re=new i.StaticCanvas(S,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});f.format==="jpeg"&&(re.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(re.width/2,re.height/2),"center","center");var ue=this.canvas;re.add(this);var de=re.toCanvasElement(b||1,f);return this.shadow=x,this.set("canvas",ue),_&&(this.group=_),this.set(m).setCoords(),re._objects=[],re.dispose(),re=null,de},toDataURL:function(f){return f||(f={}),i.util.toDataURL(this.toCanvasElement(f),f.format||"png",f.quality||1)},isType:function(f){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===f},complexity:function(){return 1},toJSON:function(f){return this.toObject(f)},rotate:function(f){var v=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",f),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(f,v){v=v||this.canvas.getPointer(f);var m=new i.Point(v.x,v.y),_=this._getLeftTopCoords();return this.angle&&(m=i.util.rotatePoint(m,_,s(-this.angle))),{x:m.x-_.x,y:m.y-_.y}},_setupCompositeOperation:function(f){this.globalCompositeOperation&&(f.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),h(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(f,v,m,_){var x=i[f];v=d(v,!0),i.util.enlivenPatterns([v.fill,v.stroke],function(w){typeof w[0]<"u"&&(v.fill=w[0]),typeof w[1]<"u"&&(v.stroke=w[1]),i.util.enlivenObjectEnlivables(v,v,function(){var b=_?new x(v[_],v):new x(v);m&&m(b)})})},i.Object.__uid=0)}(e),function(){var u=t.util.degreesToRadians,i={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(d,o,a,s,c){var p=d.x,f=d.y,v,m,_;return typeof o=="string"?o=i[o]:o-=.5,typeof s=="string"?s=i[s]:s-=.5,v=s-o,typeof a=="string"?a=h[a]:a-=.5,typeof c=="string"?c=h[c]:c-=.5,m=c-a,(v||m)&&(_=this._getTransformedDimensions(),p=d.x+v*_.x,f=d.y+m*_.y),new t.Point(p,f)},translateToCenterPoint:function(d,o,a){var s=this.translateToGivenOrigin(d,o,a,"center","center");return this.angle?t.util.rotatePoint(s,d,u(this.angle)):s},translateToOriginPoint:function(d,o,a){var s=this.translateToGivenOrigin(d,"center","center",o,a);return this.angle?t.util.rotatePoint(s,d,u(this.angle)):s},getCenterPoint:function(){var d=new t.Point(this.left,this.top);return this.translateToCenterPoint(d,this.originX,this.originY)},getPointByOrigin:function(d,o){var a=this.getCenterPoint();return this.translateToOriginPoint(a,d,o)},toLocalPoint:function(d,o,a){var s=this.getCenterPoint(),c,p;return typeof o<"u"&&typeof a<"u"?c=this.translateToGivenOrigin(s,"center","center",o,a):c=new t.Point(this.left,this.top),p=new t.Point(d.x,d.y),this.angle&&(p=t.util.rotatePoint(p,s,-u(this.angle))),p.subtractEquals(c)},setPositionByOrigin:function(d,o,a){var s=this.translateToCenterPoint(d,o,a),c=this.translateToOriginPoint(s,this.originX,this.originY);this.set("left",c.x),this.set("top",c.y)},adjustPosition:function(d){var o=u(this.angle),a=this.getScaledWidth(),s=t.util.cos(o)*a,c=t.util.sin(o)*a,p,f;typeof this.originX=="string"?p=i[this.originX]:p=this.originX-.5,typeof d=="string"?f=i[d]:f=d-.5,this.left+=s*(f-p),this.top+=c*(f-p),this.setCoords(),this.originX=d},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var d=this.getCenterPoint();this.originX="center",this.originY="center",this.left=d.x,this.top=d.y},_resetOrigin:function(){var d=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=d.x,this.top=d.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function u(a){return[new t.Point(a.tl.x,a.tl.y),new t.Point(a.tr.x,a.tr.y),new t.Point(a.br.x,a.br.y),new t.Point(a.bl.x,a.bl.y)]}var i=t.util,h=i.degreesToRadians,d=i.multiplyTransformMatrices,o=i.transformPoint;i.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(a,s){return s?a?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),a?this.aCoords:this.lineCoords)},getCoords:function(a,s){return u(this._getCoords(a,s))},intersectsWithRect:function(a,s,c,p){var f=this.getCoords(c,p),v=t.Intersection.intersectPolygonRectangle(f,a,s);return v.status==="Intersection"},intersectsWithObject:function(a,s,c){var p=t.Intersection.intersectPolygonPolygon(this.getCoords(s,c),a.getCoords(s,c));return p.status==="Intersection"||a.isContainedWithinObject(this,s,c)||this.isContainedWithinObject(a,s,c)},isContainedWithinObject:function(a,s,c){for(var p=this.getCoords(s,c),f=s?a.aCoords:a.lineCoords,v=0,m=a._getImageLines(f);v<4;v++)if(!a.containsPoint(p[v],m))return!1;return!0},isContainedWithinRect:function(a,s,c,p){var f=this.getBoundingRect(c,p);return f.left>=a.x&&f.left+f.width<=s.x&&f.top>=a.y&&f.top+f.height<=s.y},containsPoint:function(a,v,c,p){var f=this._getCoords(c,p),v=v||this._getImageLines(f),m=this._findCrossPoints(a,v);return m!==0&&m%2===1},isOnScreen:function(a){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,c=this.canvas.vptCoords.br,p=this.getCoords(!0,a);return p.some(function(f){return f.x<=c.x&&f.x>=s.x&&f.y<=c.y&&f.y>=s.y})||this.intersectsWithRect(s,c,!0,a)?!0:this._containsCenterOfCanvas(s,c,a)},_containsCenterOfCanvas:function(a,s,c){var p={x:(a.x+s.x)/2,y:(a.y+s.y)/2};return!!this.containsPoint(p,null,!0,c)},isPartiallyOnScreen:function(a){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,c=this.canvas.vptCoords.br;if(this.intersectsWithRect(s,c,!0,a))return!0;var p=this.getCoords(!0,a).every(function(f){return(f.x>=c.x||f.x<=s.x)&&(f.y>=c.y||f.y<=s.y)});return p&&this._containsCenterOfCanvas(s,c,a)},_getImageLines:function(a){var s={topline:{o:a.tl,d:a.tr},rightline:{o:a.tr,d:a.br},bottomline:{o:a.br,d:a.bl},leftline:{o:a.bl,d:a.tl}};return s},_findCrossPoints:function(a,s){var c,p,f,v,m,_=0,x;for(var w in s)if(x=s[w],!(x.o.y<a.y&&x.d.y<a.y)&&!(x.o.y>=a.y&&x.d.y>=a.y)&&(x.o.x===x.d.x&&x.o.x>=a.x?m=x.o.x:(c=0,p=(x.d.y-x.o.y)/(x.d.x-x.o.x),f=a.y-c*a.x,v=x.o.y-p*x.o.x,m=-(f-v)/(c-p)),m>=a.x&&(_+=1),_===2))break;return _},getBoundingRect:function(a,s){var c=this.getCoords(a,s);return i.makeBoundingBoxFromPoints(c)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(a){return Math.abs(a)<this.minScaleLimit?a<0?-this.minScaleLimit:this.minScaleLimit:a===0?1e-4:a},scale:function(a){return this._set("scaleX",a),this._set("scaleY",a),this.setCoords()},scaleToWidth:function(a,s){var c=this.getBoundingRect(s).width/this.getScaledWidth();return this.scale(a/this.width/c)},scaleToHeight:function(a,s){var c=this.getBoundingRect(s).height/this.getScaledHeight();return this.scale(a/this.height/c)},calcLineCoords:function(){var a=this.getViewportTransform(),s=this.padding,c=h(this.angle),p=i.cos(c),f=i.sin(c),v=p*s,m=f*s,_=v+m,x=v-m,w=this.calcACoords(),b={tl:o(w.tl,a),tr:o(w.tr,a),bl:o(w.bl,a),br:o(w.br,a)};return s&&(b.tl.x-=x,b.tl.y-=_,b.tr.x+=_,b.tr.y-=x,b.bl.x-=_,b.bl.y+=x,b.br.x+=x,b.br.y+=_),b},calcOCoords:function(){var a=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),c=this.getViewportTransform(),p=d(c,s),f=d(p,a),f=d(f,[1/c[0],0,0,1/c[3],0,0]),v=this._calculateCurrentDimensions(),m={};return this.forEachControl(function(_,x,w){m[x]=_.positionHandler(v,f,w)}),m},calcACoords:function(){var a=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),c=d(s,a),p=this._getTransformedDimensions(),f=p.x/2,v=p.y/2;return{tl:o({x:-f,y:-v},c),tr:o({x:f,y:-v},c),bl:o({x:-f,y:v},c),br:o({x:f,y:v},c)}},setCoords:function(a){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),a?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var a=this.getCenterPoint();return[1,0,0,1,a.x,a.y]},transformMatrixKey:function(a){var s="_",c="";return!a&&this.group&&(c=this.group.transformMatrixKey(a)+s),c+this.top+s+this.left+s+this.scaleX+s+this.scaleY+s+this.skewX+s+this.skewY+s+this.angle+s+this.originX+s+this.originY+s+this.width+s+this.height+s+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(a){var s=this.calcOwnMatrix();if(a||!this.group)return s;var c=this.transformMatrixKey(a),p=this.matrixCache||(this.matrixCache={});return p.key===c?p.value:(this.group&&(s=d(this.group.calcTransformMatrix(!1),s)),p.key=c,p.value=s,s)},calcOwnMatrix:function(){var a=this.transformMatrixKey(!0),s=this.ownMatrixCache||(this.ownMatrixCache={});if(s.key===a)return s.value;var c=this._calcTranslateMatrix(),p={angle:this.angle,translateX:c[4],translateY:c[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return s.key=a,s.value=i.composeMatrix(p),s.value},_getNonTransformedDimensions:function(){var a=this.strokeWidth,s=this.width+a,c=this.height+a;return{x:s,y:c}},_getTransformedDimensions:function(a,s){typeof a>"u"&&(a=this.skewX),typeof s>"u"&&(s=this.skewY);var c,p,f,v=a===0&&s===0;if(this.strokeUniform?(p=this.width,f=this.height):(c=this._getNonTransformedDimensions(),p=c.x,f=c.y),v)return this._finalizeDimensions(p*this.scaleX,f*this.scaleY);var m=i.sizeAfterTransform(p,f,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:a,skewY:s});return this._finalizeDimensions(m.x,m.y)},_finalizeDimensions:function(a,s){return this.strokeUniform?{x:a+this.strokeWidth,y:s+this.strokeWidth}:{x:a,y:s}},_calculateCurrentDimensions:function(){var a=this.getViewportTransform(),s=this._getTransformedDimensions(),c=o(s,a,!0);return c.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(u){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,u):this.canvas&&this.canvas.sendBackwards(this,u),this},bringForward:function(u){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,u):this.canvas&&this.canvas.bringForward(this,u),this},moveTo:function(u){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,u):this.canvas&&this.canvas.moveTo(this,u),this}}),function(){function u(h,d){if(d){if(d.toLive)return h+": url(#SVGID_"+d.id+"); ";var o=new t.Color(d),a=h+": "+o.toRgb()+"; ",s=o.getAlpha();return s!==1&&(a+=h+"-opacity: "+s.toString()+"; "),a}else return h+": none; "}var i=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(h){var d=this.fillRule?this.fillRule:"nonzero",o=this.strokeWidth?this.strokeWidth:"0",a=this.strokeDashArray?this.strokeDashArray.join(" "):"none",s=this.strokeDashOffset?this.strokeDashOffset:"0",c=this.strokeLineCap?this.strokeLineCap:"butt",p=this.strokeLineJoin?this.strokeLineJoin:"miter",f=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",m=this.visible?"":" visibility: hidden;",_=h?"":this.getSvgFilter(),x=u("fill",this.fill),w=u("stroke",this.stroke);return[w,"stroke-width: ",o,"; ","stroke-dasharray: ",a,"; ","stroke-linecap: ",c,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",p,"; ","stroke-miterlimit: ",f,"; ",x,"fill-rule: ",d,"; ","opacity: ",v,";",_,m].join("")},getSvgSpanStyles:function(h,d){var o="; ",s=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+o:"",a=h.strokeWidth?"stroke-width: "+h.strokeWidth+o:"",s=s,c=h.fontSize?"font-size: "+h.fontSize+"px"+o:"",p=h.fontStyle?"font-style: "+h.fontStyle+o:"",f=h.fontWeight?"font-weight: "+h.fontWeight+o:"",v=h.fill?u("fill",h.fill):"",m=h.stroke?u("stroke",h.stroke):"",_=this.getSvgTextDecoration(h),x=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return _&&(_="text-decoration: "+_+o),[m,a,s,c,p,f,_,v,x,d?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(d){return h[d.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,d){var o=h?this.calcTransformMatrix():this.calcOwnMatrix(),a='transform="'+t.util.matrixToSVG(o);return a+(d||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var d=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,d),'" y="',i(-this.height/2,d),'" width="',i(this.width,d),'" height="',i(this.height,d),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,d){d=d||{};var o=d.reviver,a=d.additionalTransform||"",s=[this.getSvgTransform(!0,a),this.getSvgCommons()].join(""),c=h.indexOf("COMMON_PARTS");return h[c]=s,o?o(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,d){d=d||{};var o=d.noStyle,a=d.reviver,s=o?"":'style="'+this.getSvgStyles()+'" ',c=d.withShadow?'style="'+this.getSvgFilter()+'" ':"",p=this.clipPath,f=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=p&&p.absolutePositioned,m=this.stroke,_=this.fill,x=this.shadow,w,b=[],S,O=h.indexOf("COMMON_PARTS"),I=d.additionalTransform;return p&&(p.clipPathId="CLIPPATH_"+t.Object.__uid++,S='<clipPath id="'+p.clipPathId+`" >
`+p.toClipPathSVG(a)+`</clipPath>
`),v&&b.push("<g ",c,this.getSvgCommons(),` >
`),b.push("<g ",this.getSvgTransform(!1),v?"":c+this.getSvgCommons(),` >
`),w=[s,f,o?"":this.addPaintOrder()," ",I?'transform="'+I+'" ':""].join(""),h[O]=w,_&&_.toLive&&b.push(_.toSVG(this)),m&&m.toLive&&b.push(m.toSVG(this)),x&&b.push(x.toSVG(this)),p&&b.push(S),b.push(h.join("")),b.push(`</g>
`),v&&b.push(`</g>
`),a?a(b.join("")):b.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var u=t.util.object.extend,i="stateProperties";function h(o,a,s){var c={},p=!0;s.forEach(function(f){c[f]=o[f]}),u(o[a],c,p)}function d(o,a,s){if(o===a)return!0;if(Array.isArray(o)){if(!Array.isArray(a)||o.length!==a.length)return!1;for(var c=0,p=o.length;c<p;c++)if(!d(o[c],a[c]))return!1;return!0}else if(o&&typeof o=="object"){var f=Object.keys(o),v;if(!a||typeof a!="object"||!s&&f.length!==Object.keys(a).length)return!1;for(var c=0,p=f.length;c<p;c++)if(v=f[c],!(v==="canvas"||v==="group")&&!d(o[v],a[v]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(o){o=o||i;var a="_"+o;return Object.keys(this[a]).length<this[o].length?!0:!d(this[a],this,!0)},saveState:function(o){var a=o&&o.propertySet||i,s="_"+a;return this[s]?(h(this,s,this[a]),o&&o.stateProperties&&h(this,s,o.stateProperties),this):this.setupState(o)},setupState:function(o){o=o||{};var a=o.propertySet||i;return o.propertySet=a,this["_"+a]={},this.saveState(o),this}})}(),function(){var u=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(i,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var d=i.x,o=i.y,a,s,c=Object.keys(this.oCoords),p=c.length-1,f;for(this.__corner=0;p>=0;p--)if(f=c[p],!!this.isControlVisible(f)&&(s=this._getImageLines(h?this.oCoords[f].touchCorner:this.oCoords[f].corner),a=this._findCrossPoints({x:d,y:o},s),a!==0&&a%2===1))return this.__corner=f,f;return!1},forEachControl:function(i){for(var h in this.controls)i(this.controls[h],h,this)},_setCornerCoords:function(){var i=this.oCoords;for(var h in i){var d=this.controls[h];i[h].corner=d.calcCornerCoords(this.angle,this.cornerSize,i[h].x,i[h].y,!1),i[h].touchCorner=d.calcCornerCoords(this.angle,this.touchCornerSize,i[h].x,i[h].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var h=this.getCenterPoint(),d=this._calculateCurrentDimensions(),o=this.canvas.viewportTransform;return i.translate(h.x,h.y),i.scale(1/o[0],1/o[3]),i.rotate(u(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-d.x/2,-d.y/2,d.x,d.y),i.restore(),this},drawBorders:function(i,h){h=h||{};var d=this._calculateCurrentDimensions(),o=this.borderScaleFactor,a=d.x+o,s=d.y+o,c=typeof h.hasControls<"u"?h.hasControls:this.hasControls,p=!1;return i.save(),i.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeRect(-a/2,-s/2,a,s),c&&(i.beginPath(),this.forEachControl(function(f,v,m){f.withConnection&&f.getVisibility(m,v)&&(p=!0,i.moveTo(f.x*a,f.y*s),i.lineTo(f.x*a+f.offsetX,f.y*s+f.offsetY))}),p&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,h,d){d=d||{};var o=t.util.sizeAfterTransform(this.width,this.height,h),a=this.strokeWidth,s=this.strokeUniform,c=this.borderScaleFactor,p=o.x+a*(s?this.canvas.getZoom():h.scaleX)+c,f=o.y+a*(s?this.canvas.getZoom():h.scaleY)+c;return i.save(),this._setLineDash(i,d.borderDashArray||this.borderDashArray),i.strokeStyle=d.borderColor||this.borderColor,i.strokeRect(-p/2,-f/2,p,f),i.restore(),this},drawControls:function(i,h){h=h||{},i.save();var d=this.canvas.getRetinaScaling(),o,a;return i.setTransform(d,0,0,d,0,0),i.strokeStyle=i.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(o=this.group.calcTransformMatrix()),this.forEachControl(function(s,c,p){a=p.oCoords[c],s.getVisibility(p,c)&&(o&&(a=t.util.transformPoint(a,o)),s.render(i,a.x,a.y,h,p))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=h,this},setControlsVisibility:function(i){i||(i={});for(var h in i)this.setControlVisible(h,i[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(u,i){i=i||{};var h=function(){},d=i.onComplete||h,o=i.onChange||h,a=this;return t.util.animate({target:this,startValue:u.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(s){u.set("left",s),a.requestRenderAll(),o()},onComplete:function(){u.setCoords(),d()}})},fxCenterObjectV:function(u,i){i=i||{};var h=function(){},d=i.onComplete||h,o=i.onChange||h,a=this;return t.util.animate({target:this,startValue:u.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(s){u.set("top",s),a.requestRenderAll(),o()},onComplete:function(){u.setCoords(),d()}})},fxRemove:function(u,i){i=i||{};var h=function(){},d=i.onComplete||h,o=i.onChange||h,a=this;return t.util.animate({target:this,startValue:u.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(s){u.set("opacity",s),a.requestRenderAll(),o()},onComplete:function(){a.remove(u),d()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var u=[],i,h,d=[];for(i in arguments[0])u.push(i);for(var o=0,a=u.length;o<a;o++)i=u[o],h=o!==a-1,d.push(this._animate(i,arguments[0][i],arguments[1],h));return d}else return this._animate.apply(this,arguments)},_animate:function(u,i,h,d){var o=this,a;i=i.toString(),h?h=t.util.object.clone(h):h={},~u.indexOf(".")&&(a=u.split("."));var s=o.colorProperties.indexOf(u)>-1||a&&o.colorProperties.indexOf(a[1])>-1,c=a?this.get(a[0])[a[1]]:this.get(u);"from"in h||(h.from=c),s||(~i.indexOf("=")?i=c+parseFloat(i.replace("=","")):i=parseFloat(i));var p={target:this,startValue:h.from,endValue:i,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(f,v,m){return h.abort.call(o,f,v,m)},onChange:function(f,v,m){a?o[a[0]][a[1]]=f:o.set(u,f),!d&&h.onChange&&h.onChange(f,v,m)},onComplete:function(f,v,m){d||(o.setCoords(),h.onComplete&&h.onComplete(f,v,m))}};return s?t.util.animateColor(p.startValue,p.endValue,p.duration,p):t.util.animate(p)}}),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(s,c){s||(s=[0,0,0,0]),this.callSuper("initialize",c),this.set("x1",s[0]),this.set("y1",s[1]),this.set("x2",s[2]),this.set("y2",s[3]),this._setWidthHeight(c)},_setWidthHeight:function(s){s||(s={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in s?s.left:this._getLeftToOriginX(),this.top="top"in s?s.top:this._getTopToOriginY()},_set:function(s,c){return this.callSuper("_set",s,c),typeof o[s]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:a({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:a({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(s){s.beginPath();var c=this.calcLinePoints();s.moveTo(c.x1,c.y1),s.lineTo(c.x2,c.y2),s.lineWidth=this.strokeWidth;var p=s.strokeStyle;s.strokeStyle=this.stroke||s.fillStyle,this.stroke&&this._renderStroke(s),s.strokeStyle=p},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(s){return h(this.callSuper("toObject",s),this.calcLinePoints())},_getNonTransformedDimensions:function(){var s=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(s.y-=this.strokeWidth),this.height===0&&(s.x-=this.strokeWidth)),s},calcLinePoints:function(){var s=this.x1<=this.x2?-1:1,c=this.y1<=this.y2?-1:1,p=s*this.width*.5,f=c*this.height*.5,v=s*this.width*-.5,m=c*this.height*-.5;return{x1:p,x2:v,y1:f,y2:m}},_toSVG:function(){var s=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',s.x1,'" y1="',s.y1,'" x2="',s.x2,'" y2="',s.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(s,c,p){p=p||{};var f=i.parseAttributes(s,i.Line.ATTRIBUTE_NAMES),v=[f.x1||0,f.y1||0,f.x2||0,f.y2||0];c(new i.Line(v,h(f,p)))},i.Line.fromObject=function(s,c){function p(v){delete v.points,c&&c(v)}var f=d(s,!0);f.points=[s.x1,s.y1,s.x2,s.y2],i.Object._fromObject("Line",f,p,"points")};function a(s,c){var p=s.origin,f=s.axis1,v=s.axis2,m=s.dimension,_=c.nearest,x=c.center,w=c.farthest;return function(){switch(this.get(p)){case _:return Math.min(this.get(f),this.get(v));case x:return Math.min(this.get(f),this.get(v))+.5*this.get(m);case w:return Math.max(this.get(f),this.get(v))}}}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(o,a){return this.callSuper("_set",o,a),o==="radius"&&this.setRadius(a),this},toObject:function(o){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(o))},_toSVG:function(){var o,a=0,s=0,c=(this.endAngle-this.startAngle)%360;if(c===0)o=["<circle ","COMMON_PARTS",'cx="'+a+'" cy="'+s+'" ','r="',this.radius,`" />
`];else{var p=h(this.startAngle),f=h(this.endAngle),v=this.radius,m=i.util.cos(p)*v,_=i.util.sin(p)*v,x=i.util.cos(f)*v,w=i.util.sin(f)*v,b=c>180?"1":"0";o=['<path d="M '+m+" "+_," A "+v+" "+v," 0 ",+b+" 1"," "+x+" "+w,'" ',"COMMON_PARTS",` />
`]}return o},_render:function(o){o.beginPath(),o.arc(0,0,this.radius,h(this.startAngle),h(this.endAngle),!1),this._renderPaintInOrder(o)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(o){return this.radius=o,this.set("width",o*2).set("height",o*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(o,a){var s=i.parseAttributes(o,i.Circle.ATTRIBUTE_NAMES);if(!d(s))throw new Error("value of `r` attribute is required and can not be negative");s.left=(s.left||0)-s.radius,s.top=(s.top||0)-s.radius,a(new i.Circle(s))};function d(o){return"radius"in o&&o.radius>=0}i.Circle.fromObject=function(o,a){i.Object._fromObject("Circle",o,a)}}(e),function(u){var i=u.fabric||(u.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(h){var d=this.width/2,o=this.height/2;h.beginPath(),h.moveTo(-d,o),h.lineTo(0,-o),h.lineTo(d,o),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,d=this.height/2,o=[-h+" "+d,"0 "+-d,h+" "+d].join(",");return["<polygon ","COMMON_PARTS",'points="',o,'" />']}}),i.Triangle.fromObject=function(h,d){return i.Object._fromObject("Triangle",h,d)}}(e),function(u){var i=u.fabric||(u.fabric={}),h=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this.set("rx",d&&d.rx||0),this.set("ry",d&&d.ry||0)},_set:function(d,o){switch(this.callSuper("_set",d,o),d){case"rx":this.rx=o,this.set("width",o*2);break;case"ry":this.ry=o,this.set("height",o*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(d){d.beginPath(),d.save(),d.transform(1,0,0,this.ry/this.rx,0,0),d.arc(0,0,this.rx,0,h,!1),d.restore(),this._renderPaintInOrder(d)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(d,o){var a=i.parseAttributes(d,i.Ellipse.ATTRIBUTE_NAMES);a.left=(a.left||0)-a.rx,a.top=(a.top||0)-a.ry,o(new i.Ellipse(a))},i.Ellipse.fromObject=function(d,o){i.Object._fromObject("Ellipse",d,o)}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(d){var o=this.rx?Math.min(this.rx,this.width/2):0,a=this.ry?Math.min(this.ry,this.height/2):0,s=this.width,c=this.height,p=-this.width/2,f=-this.height/2,v=o!==0||a!==0,m=1-.5522847498;d.beginPath(),d.moveTo(p+o,f),d.lineTo(p+s-o,f),v&&d.bezierCurveTo(p+s-m*o,f,p+s,f+m*a,p+s,f+a),d.lineTo(p+s,f+c-a),v&&d.bezierCurveTo(p+s,f+c-m*a,p+s-m*o,f+c,p+s-o,f+c),d.lineTo(p+o,f+c),v&&d.bezierCurveTo(p+m*o,f+c,p,f+c-m*a,p,f+c-a),d.lineTo(p,f+a),v&&d.bezierCurveTo(p,f+m*a,p+m*o,f,p+o,f),d.closePath(),this._renderPaintInOrder(d)},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){var d=-this.width/2,o=-this.height/2;return["<rect ","COMMON_PARTS",'x="',d,'" y="',o,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(d,o,a){if(!d)return o(null);a=a||{};var s=i.parseAttributes(d,i.Rect.ATTRIBUTE_NAMES);s.left=s.left||0,s.top=s.top||0,s.height=s.height||0,s.width=s.width||0;var c=new i.Rect(h(a?i.util.object.clone(a):{},s));c.visible=c.visible&&c.width>0&&c.height>0,o(c)},i.Rect.fromObject=function(d,o){return i.Object._fromObject("Rect",d,o)}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.util.array.min,o=i.util.array.max,a=i.util.toFixed,s=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(c,p){p=p||{},this.points=c||[],this.callSuper("initialize",p),this._setPositionDimensions(p)},_projectStrokeOnPoints:function(){return s(this.points,this,!0)},_setPositionDimensions:function(c){var p=this._calcDimensions(c),f,v=this.exactBoundingBox?this.strokeWidth:0;this.width=p.width-v,this.height=p.height-v,c.fromSVG||(f=this.translateToGivenOrigin({x:p.left-this.strokeWidth/2+v/2,y:p.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof c.left>"u"&&(this.left=c.fromSVG?p.left:f.x),typeof c.top>"u"&&(this.top=c.fromSVG?p.top:f.y),this.pathOffset={x:p.left+this.width/2+v/2,y:p.top+this.height/2+v/2}},_calcDimensions:function(){var c=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,p=d(c,"x")||0,f=d(c,"y")||0,v=o(c,"x")||0,m=o(c,"y")||0,_=v-p,x=m-f;return{left:p,top:f,width:_,height:x}},toObject:function(c){return h(this.callSuper("toObject",c),{points:this.points.concat()})},_toSVG:function(){for(var c=[],p=this.pathOffset.x,f=this.pathOffset.y,v=i.Object.NUM_FRACTION_DIGITS,m=0,_=this.points.length;m<_;m++)c.push(a(this.points[m].x-p,v),",",a(this.points[m].y-f,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',c.join(""),`" />
`]},commonRender:function(c){var p,f=this.points.length,v=this.pathOffset.x,m=this.pathOffset.y;if(!f||isNaN(this.points[f-1].y))return!1;c.beginPath(),c.moveTo(this.points[0].x-v,this.points[0].y-m);for(var _=0;_<f;_++)p=this.points[_],c.lineTo(p.x-v,p.y-m);return!0},_render:function(c){this.commonRender(c)&&this._renderPaintInOrder(c)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(c){return function(p,f,v){if(!p)return f(null);v||(v={});var m=i.parsePointsAttribute(p.getAttribute("points")),_=i.parseAttributes(p,i[c].ATTRIBUTE_NAMES);_.fromSVG=!0,f(new i[c](m,h(_,v)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(c,p){return i.Object._fromObject("Polyline",c,p,"points")}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return h(this.points,this)},_render:function(d){this.commonRender(d)&&(d.closePath(),this._renderPaintInOrder(d))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(d,o){i.Object._fromObject("Polygon",d,o,"points")}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.array.min,d=i.util.array.max,o=i.util.object.extend,a=i.util.object.clone,s=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(c,p){p=a(p||{}),delete p.path,this.callSuper("initialize",p),this._setPath(c||[],p)},_setPath:function(c,p){this.path=i.util.makePathSimpler(Array.isArray(c)?c:i.util.parsePath(c)),i.Polyline.prototype._setPositionDimensions.call(this,p||{})},_renderPathCommands:function(c){var p,f=0,v=0,m=0,_=0,x=0,w=0,b=-this.pathOffset.x,S=-this.pathOffset.y;c.beginPath();for(var O=0,I=this.path.length;O<I;++O)switch(p=this.path[O],p[0]){case"L":m=p[1],_=p[2],c.lineTo(m+b,_+S);break;case"M":m=p[1],_=p[2],f=m,v=_,c.moveTo(m+b,_+S);break;case"C":m=p[5],_=p[6],x=p[3],w=p[4],c.bezierCurveTo(p[1]+b,p[2]+S,x+b,w+S,m+b,_+S);break;case"Q":c.quadraticCurveTo(p[1]+b,p[2]+S,p[3]+b,p[4]+S),m=p[3],_=p[4],x=p[1],w=p[2];break;case"z":case"Z":m=f,_=v,c.closePath();break}},_render:function(c){this._renderPathCommands(c),this._renderPaintInOrder(c)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(c){return o(this.callSuper("toObject",c),{path:this.path.map(function(p){return p.slice()})})},toDatalessObject:function(c){var p=this.toObject(["sourcePath"].concat(c));return p.sourcePath&&delete p.path,p},_toSVG:function(){var c=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',c,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var c=i.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,c)+", "+s(-this.pathOffset.y,c)+")"},toClipPathSVG:function(c){var p=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:c,additionalTransform:p})},toSVG:function(c){var p=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,additionalTransform:p})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var c=[],p=[],f,v=0,m=0,_=0,x=0,w,b=0,S=this.path.length;b<S;++b){switch(f=this.path[b],f[0]){case"L":_=f[1],x=f[2],w=[];break;case"M":_=f[1],x=f[2],v=_,m=x,w=[];break;case"C":w=i.util.getBoundsOfCurve(_,x,f[1],f[2],f[3],f[4],f[5],f[6]),_=f[5],x=f[6];break;case"Q":w=i.util.getBoundsOfCurve(_,x,f[1],f[2],f[1],f[2],f[3],f[4]),_=f[3],x=f[4];break;case"z":case"Z":_=v,x=m;break}w.forEach(function(J){c.push(J.x),p.push(J.y)}),c.push(_),p.push(x)}var O=h(c)||0,I=h(p)||0,B=d(c)||0,Q=d(p)||0,ie=B-O,le=Q-I;return{left:O,top:I,width:ie,height:le}}}),i.Path.fromObject=function(c,p){if(typeof c.sourcePath=="string"){var f=c.sourcePath;i.loadSVGFromURL(f,function(v){var m=v[0];m.setOptions(c),c.clipPath?i.util.enlivenObjects([c.clipPath],function(_){m.clipPath=_[0],p&&p(m)}):p&&p(m)})}else i.Object._fromObject("Path",c,p,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(c,p,f){var v=i.parseAttributes(c,i.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,p(new i.Path(v.d,o(v,f)))}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.array.min,d=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(o,a,s){a=a||{},this._objects=[],s&&this.callSuper("initialize",a),this._objects=o||[];for(var c=this._objects.length;c--;)this._objects[c].group=this;if(s)this._updateObjectsACoords();else{var p=a&&a.centerPoint;a.originX!==void 0&&(this.originX=a.originX),a.originY!==void 0&&(this.originY=a.originY),p||this._calcBounds(),this._updateObjectsCoords(p),delete a.centerPoint,this.callSuper("initialize",a)}this.setCoords()},_updateObjectsACoords:function(){for(var o=!0,a=this._objects.length;a--;)this._objects[a].setCoords(o)},_updateObjectsCoords:function(a){for(var a=a||this.getCenterPoint(),s=this._objects.length;s--;)this._updateObjectCoords(this._objects[s],a)},_updateObjectCoords:function(o,a){var s=o.left,c=o.top,p=!0;o.set({left:s-a.x,top:c-a.y}),o.group=this,o.setCoords(p)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(o){var a=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),o&&(a&&i.util.removeTransformFromObject(o,this.group.calcTransformMatrix()),this._objects.push(o),o.group=this,o._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,a?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(o){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(o),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(o){this.dirty=!0,o.group=this,o._set("canvas",this.canvas)},_onObjectRemoved:function(o){this.dirty=!0,delete o.group},_set:function(o,a){var s=this._objects.length;if(this.useSetOnGroup)for(;s--;)this._objects[s].setOnGroup(o,a);if(o==="canvas")for(;s--;)this._objects[s]._set(o,a);i.Object.prototype._set.call(this,o,a)},toObject:function(o){var a=this.includeDefaultValues,s=this._objects.filter(function(p){return!p.excludeFromExport}).map(function(p){var f=p.includeDefaultValues;p.includeDefaultValues=a;var v=p.toObject(o);return p.includeDefaultValues=f,v}),c=i.Object.prototype.toObject.call(this,o);return c.objects=s,c},toDatalessObject:function(o){var a,s=this.sourcePath;if(s)a=s;else{var c=this.includeDefaultValues;a=this._objects.map(function(f){var v=f.includeDefaultValues;f.includeDefaultValues=c;var m=f.toDatalessObject(o);return f.includeDefaultValues=v,m})}var p=i.Object.prototype.toDatalessObject.call(this,o);return p.objects=a,p},render:function(o){this._transformDone=!0,this.callSuper("render",o),this._transformDone=!1},shouldCache:function(){var o=i.Object.prototype.shouldCache.call(this);if(o){for(var a=0,s=this._objects.length;a<s;a++)if(this._objects[a].willDrawShadow())return this.ownCaching=!1,!1}return o},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var o=0,a=this._objects.length;o<a;o++)if(this._objects[o].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(o){for(var a=0,s=this._objects.length;a<s;a++)this._objects[a].render(o);this._drawClipPath(o,this.clipPath)},isCacheDirty:function(o){if(this.callSuper("isCacheDirty",o))return!0;if(!this.statefullCache)return!1;for(var a=0,s=this._objects.length;a<s;a++)if(this._objects[a].isCacheDirty(!0)){if(this._cacheCanvas){var c=this.cacheWidth/this.zoomX,p=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-c/2,-p/2,c,p)}return!0}return!1},_restoreObjectsState:function(){var o=this.calcOwnMatrix();return this._objects.forEach(function(a){i.util.addTransformToObject(a,o),delete a.group,a.setCoords()}),this},destroy:function(){return this._objects.forEach(function(o){o.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(o){o.dispose&&o.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var o=this._objects,a=this.canvas;this._objects=[];var s=this.toObject();delete s.objects;var c=new i.ActiveSelection([]);return c.set(s),c.type="activeSelection",a.remove(this),o.forEach(function(p){p.group=c,p.dirty=!0,a.add(p)}),c.canvas=a,c._objects=o,a._activeObject=c,c.setCoords(),c}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var o=!0;return this.forEachObject(function(a){a.setCoords(o)}),this},_calcBounds:function(o){for(var a=[],s=[],c,p,f,v=["tr","br","bl","tl"],m=0,_=this._objects.length,x,w=v.length;m<_;++m){for(c=this._objects[m],f=c.calcACoords(),x=0;x<w;x++)p=v[x],a.push(f[p].x),s.push(f[p].y);c.aCoords=f}this._getBounds(a,s,o)},_getBounds:function(o,a,s){var c=new i.Point(h(o),h(a)),p=new i.Point(d(o),d(a)),f=c.y||0,v=c.x||0,m=p.x-c.x||0,_=p.y-c.y||0;this.width=m,this.height=_,s||this.setPositionByOrigin({x:v,y:f},"left","top")},_toSVG:function(o){for(var a=["<g ","COMMON_PARTS",` >
`],s=0,c=this._objects.length;s<c;s++)a.push("		",this._objects[s].toSVG(o));return a.push(`</g>
`),a},getSvgStyles:function(){var o=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",a=this.visible?"":" visibility: hidden;";return[o,this.getSvgFilter(),a].join("")},toClipPathSVG:function(o){for(var a=[],s=0,c=this._objects.length;s<c;s++)a.push("	",this._objects[s].toClipPathSVG(o));return this._createBaseClipPathSVGMarkup(a,{reviver:o})}}),i.Group.fromObject=function(o,a){var s=o.objects,c=i.util.object.clone(o,!0);if(delete c.objects,typeof s=="string"){i.loadSVGFromURL(s,function(p){var f=i.util.groupSVGElements(p,o,s),v=c.clipPath;delete c.clipPath,f.set(c),v?i.util.enlivenObjects([v],function(m){f.clipPath=m[0],a&&a(f)}):a&&a(f)});return}i.util.enlivenObjects(s,function(p){i.util.enlivenObjectEnlivables(o,c,function(){a&&a(new i.Group(p,c,!0))})})})}(e),function(u){var i=u.fabric||(u.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(h,d){d=d||{},this._objects=h||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;d.originX&&(this.originX=d.originX),d.originY&&(this.originY=d.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,d),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var d=i.Object.prototype.toObject.call(this),o=new i.Group([]);if(delete d.type,o.set(d),h.forEach(function(s){s.canvas.remove(s),s.group=o}),o._objects=h,!this.canvas)return o;var a=this.canvas;return a.add(o),a._activeObject=o,o.setCoords(),o},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,d,o){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,d),o=o||{},typeof o.hasControls>"u"&&(o.hasControls=!1),o.forActiveSelection=!0;for(var a=0,s=this._objects.length;a<s;a++)this._objects[a]._renderControls(h,o);h.restore()}}),i.ActiveSelection.fromObject=function(h,d){i.util.enlivenObjects(h.objects,function(o){delete h.objects,d&&d(new i.ActiveSelection(o,h,!0))})})}(e),function(u){var i=t.util.object.extend;if(u.fabric||(u.fabric={}),u.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,d){d||(d={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",d),this._initElement(h,d)},getElement:function(){return this._element||{}},setElement:function(h,d){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(d),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var d=t.filterBackend;d&&d.evictCachesForKey&&d.evictCachesForKey(h)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(h){t.util.cleanUpJsdomNode(this[h]),this[h]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var d=this.width/2,o=this.height/2;h.beginPath(),h.moveTo(-d,-o),h.lineTo(d,-o),h.lineTo(d,o),h.lineTo(-d,o),h.lineTo(-d,-o),h.closePath()}},toObject:function(h){var d=[];this.filters.forEach(function(a){a&&d.push(a.toObject())});var o=i(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:d});return this.resizeFilter&&(o.resizeFilter=this.resizeFilter.toObject()),o},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],d=[],o,a=this._element,s=-this.width/2,c=-this.height/2,p="",f="";if(!a)return[];if(this.hasCrop()){var v=t.Object.__uid++;h.push('<clipPath id="imageCrop_'+v+`">
`,'	<rect x="'+s+'" y="'+c+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),p=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(f='" image-rendering="optimizeSpeed'),d.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',s-this.cropX,'" y="',c-this.cropY,'" width="',a.width||a.naturalWidth,'" height="',a.height||a.height,f,'"',p,`></image>
`),this.stroke||this.strokeDashArray){var m=this.fill;this.fill=null,o=["	<rect ",'x="',s,'" y="',c,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=m}return this.paintFirst!=="fill"?h=h.concat(o,d):h=h.concat(d,o),h},getSrc:function(h){var d=h?this._element:this._originalElement;return d?d.toDataURL?d.toDataURL():this.srcFromAttribute?d.getAttribute("src"):d.src:this.src||""},setSrc:function(h,d,o){return t.util.loadImage(h,function(a,s){this.setElement(a,o),this._setWidthHeight(),d&&d(this,s)},this,o&&o.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,d=this.minimumScaleTrigger,o=this.getTotalObjectScaling(),a=o.scaleX,s=o.scaleY,c=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||a>d&&s>d){this._element=c,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=a,this._lastScaleY=s;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var p=t.util.createCanvasElement(),f=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=c.width,m=c.height;p.width=v,p.height=m,this._element=p,this._lastScaleX=h.scaleX=a,this._lastScaleY=h.scaleY=s,t.filterBackend.applyFilters([h],c,v,m,this._element,f),this._filterScalingX=p.width/this._originalElement.width,this._filterScalingY=p.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(c){return c&&!c.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var d=this._originalElement,o=d.naturalWidth||d.width,a=d.naturalHeight||d.height;if(this._element===this._originalElement){var s=t.util.createCanvasElement();s.width=o,s.height=a,this._element=s,this._filteredEl=s}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,o,a),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(h,this._originalElement,o,a,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){t.util.setImageSmoothing(h,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var d=this._element;if(d){var o=this._filterScalingX,a=this._filterScalingY,s=this.width,c=this.height,p=Math.min,f=Math.max,v=f(this.cropX,0),m=f(this.cropY,0),_=d.naturalWidth||d.width,x=d.naturalHeight||d.height,w=v*o,b=m*a,S=p(s*o,_-w),O=p(c*a,x-b),I=-s/2,B=-c/2,Q=p(s,_/o-v),ie=p(c,x/a-m);d&&h.drawImage(d,w,b,S,O,I,B,Q,ie)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,d){this.setElement(t.util.getById(h),d),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,d){h&&h.length?t.util.enlivenObjects(h,function(o){d&&d(o)},"fabric.Image.filters"):d&&d()},_setWidthHeight:function(h){h||(h={});var d=this.getElement();this.width=h.width||d.naturalWidth||d.width||0,this.height=h.height||d.naturalHeight||d.height||0},parsePreserveAspectRatioAttribute:function(){var h=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),d=this._element.width,o=this._element.height,a=1,s=1,c=0,p=0,f=0,v=0,m,_=this.width,x=this.height,w={width:_,height:x};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(a=s=t.util.findScaleToFit(this._element,w),m=(_-d*a)/2,h.alignX==="Min"&&(c=-m),h.alignX==="Max"&&(c=m),m=(x-o*s)/2,h.alignY==="Min"&&(p=-m),h.alignY==="Max"&&(p=m)),h.meetOrSlice==="slice"&&(a=s=t.util.findScaleToCover(this._element,w),m=d-_/a,h.alignX==="Mid"&&(f=m/2),h.alignX==="Max"&&(f=m),m=o-x/s,h.alignY==="Mid"&&(v=m/2),h.alignY==="Max"&&(v=m),d=_/a,o=x/s)):(a=_/d,s=x/o),{width:d,height:o,scaleX:a,scaleY:s,offsetLeft:c,offsetTop:p,cropX:f,cropY:v}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(h,d){var o=t.util.object.clone(h);t.util.loadImage(o.src,function(a,s){if(s){d&&d(null,!0);return}t.Image.prototype._initFilters.call(o,o.filters,function(c){o.filters=c||[],t.Image.prototype._initFilters.call(o,[o.resizeFilter],function(p){o.resizeFilter=p[0],t.util.enlivenObjectEnlivables(o,o,function(){var f=new t.Image(a,o);d(f,!1)})})})},null,o.crossOrigin)},t.Image.fromURL=function(h,d,o){t.util.loadImage(h,function(a,s){d&&d(new t.Image(a,o),s)},null,o&&o.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(h,d,o){var a=t.parseAttributes(h,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(a["xlink:href"],d,i(o?t.util.object.clone(o):{},a))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var u=this.angle%360;return u>0?Math.round((u-1)/90)*90:Math.round(u/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(u){u=u||{};var i=function(){},h=u.onComplete||i,d=u.onChange||i,o=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(a){o.rotate(a),d()},onComplete:function(){o.setCoords(),h()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(u){return u.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(u){return u.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function u(h,d){var o="precision "+d+` float;
void main(){}`,a=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(a,o),h.compileShader(a),!!h.getShaderParameter(a,h.COMPILE_STATUS)}t.isWebglSupported=function(h){if(t.isLikelyNode)return!1;h=h||t.WebglFilterBackend.prototype.tileSize;var d=document.createElement("canvas"),o=d.getContext("webgl")||d.getContext("experimental-webgl"),a=!1;if(o){t.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),a=t.maxTextureSize>=h;for(var s=["highp","mediump","lowp"],c=0;c<3;c++)if(u(o,s[c])){t.webGlPrecision=s[c];break}}return this.isSupported=a,a},t.WebglFilterBackend=i;function i(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(h,d){this.dispose(),this.createWebGLCanvas(h,d),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,d)},chooseFastestCopyGLTo2DMethod:function(h,d){var o=typeof window.performance<"u",a;try{new ImageData(1,1),a=!0}catch{a=!1}var s=typeof ArrayBuffer<"u",c=typeof Uint8ClampedArray<"u";if(o&&a&&s&&c){var p=t.util.createCanvasElement(),f=new ArrayBuffer(h*d*4);if(t.forceGLPutImageData){this.imageBuffer=f,this.copyGLTo2D=y;return}var v={imageBuffer:f,destinationWidth:h,destinationHeight:d,targetCanvas:p},m,_,x;p.width=h,p.height=d,m=window.performance.now(),g.call(v,this.gl,v),_=window.performance.now()-m,m=window.performance.now(),y.call(v,this.gl,v),x=window.performance.now()-m,_>x?(this.imageBuffer=f,this.copyGLTo2D=y):this.copyGLTo2D=g}},createWebGLCanvas:function(h,d){var o=t.util.createCanvasElement();o.width=h,o.height=d;var a={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},s=o.getContext("webgl",a);s||(s=o.getContext("experimental-webgl",a)),s&&(s.clearColor(0,0,0,0),this.canvas=o,this.gl=s)},applyFilters:function(h,d,o,a,s,c){var p=this.gl,f;c&&(f=this.getCachedTexture(c,d));var v={originalWidth:d.width||d.originalWidth,originalHeight:d.height||d.originalHeight,sourceWidth:o,sourceHeight:a,destinationWidth:o,destinationHeight:a,context:p,sourceTexture:this.createTexture(p,o,a,!f&&d),targetTexture:this.createTexture(p,o,a),originalTexture:f||this.createTexture(p,o,a,!f&&d),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},m=p.createFramebuffer();return p.bindFramebuffer(p.FRAMEBUFFER,m),h.forEach(function(_){_&&_.applyTo(v)}),l(v),this.copyGLTo2D(p,v),p.bindTexture(p.TEXTURE_2D,null),p.deleteTexture(v.sourceTexture),p.deleteTexture(v.targetTexture),p.deleteFramebuffer(m),s.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,d,o,a,s){var c=h.createTexture();return h.bindTexture(h.TEXTURE_2D,c),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,s||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,s||h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),a?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,a):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,d,o,0,h.RGBA,h.UNSIGNED_BYTE,null),c},getCachedTexture:function(h,d){if(this.textureCache[h])return this.textureCache[h];var o=this.createTexture(this.gl,d.width,d.height,d);return this.textureCache[h]=o,o},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:g,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,d={renderer:"",vendor:""};if(!h)return d;var o=h.getExtension("WEBGL_debug_renderer_info");if(o){var a=h.getParameter(o.UNMASKED_RENDERER_WEBGL),s=h.getParameter(o.UNMASKED_VENDOR_WEBGL);a&&(d.renderer=a.toLowerCase()),s&&(d.vendor=s.toLowerCase())}return this.gpuInfo=d,d}}}();function l(u){var i=u.targetCanvas,h=i.width,d=i.height,o=u.destinationWidth,a=u.destinationHeight;(h!==o||d!==a)&&(i.width=o,i.height=a)}function g(u,i){var h=u.canvas,d=i.targetCanvas,o=d.getContext("2d");o.translate(0,d.height),o.scale(1,-1);var a=h.height-d.height;o.drawImage(h,0,a,d.width,d.height,0,0,d.width,d.height)}function y(u,i){var h=i.targetCanvas,d=h.getContext("2d"),o=i.destinationWidth,a=i.destinationHeight,s=o*a*4,c=new Uint8Array(this.imageBuffer,0,s),p=new Uint8ClampedArray(this.imageBuffer,0,s);u.readPixels(0,0,o,a,u.RGBA,u.UNSIGNED_BYTE,c);var f=new ImageData(p,o,a);d.putImageData(f,0,0)}(function(){var u=function(){};t.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:u,dispose:u,clearWebGLCaches:u,resources:{},applyFilters:function(h,d,o,a,s){var c=s.getContext("2d");c.drawImage(d,0,0,o,a);var p=c.getImageData(0,0,o,a),f=c.getImageData(0,0,o,a),v={sourceWidth:o,sourceHeight:a,imageData:p,originalEl:d,originalImageData:f,canvasEl:s,ctx:c,filterBackend:this};return h.forEach(function(m){m.applyTo(v)}),(v.imageData.width!==o||v.imageData.height!==a)&&(s.width=v.imageData.width,s.height=v.imageData.height),c.putImageData(v.imageData,0,0),v}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(u){u&&this.setOptions(u)},setOptions:function(u){for(var i in u)this[i]=u[i]},createProgram:function(u,i,h){i=i||this.fragmentSource,h=h||this.vertexSource,t.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var d=u.createShader(u.VERTEX_SHADER);if(u.shaderSource(d,h),u.compileShader(d),!u.getShaderParameter(d,u.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+u.getShaderInfoLog(d));var o=u.createShader(u.FRAGMENT_SHADER);if(u.shaderSource(o,i),u.compileShader(o),!u.getShaderParameter(o,u.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+u.getShaderInfoLog(o));var a=u.createProgram();if(u.attachShader(a,d),u.attachShader(a,o),u.linkProgram(a),!u.getProgramParameter(a,u.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+u.getProgramInfoLog(a));var s=this.getAttributeLocations(u,a),c=this.getUniformLocations(u,a)||{};return c.uStepW=u.getUniformLocation(a,"uStepW"),c.uStepH=u.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:s,uniformLocations:c}},getAttributeLocations:function(u,i){return{aPosition:u.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(u,i,h){var d=i.aPosition,o=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,o),u.enableVertexAttribArray(d),u.vertexAttribPointer(d,2,u.FLOAT,!1,0,0),u.bufferData(u.ARRAY_BUFFER,h,u.STATIC_DRAW)},_setupFrameBuffer:function(u){var i=u.context,h,d;u.passes>1?(h=u.destinationWidth,d=u.destinationHeight,(u.sourceWidth!==h||u.sourceHeight!==d)&&(i.deleteTexture(u.targetTexture),u.targetTexture=u.filterBackend.createTexture(i,h,d)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,u.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(u){u.passes--,u.pass++;var i=u.targetTexture;u.targetTexture=u.sourceTexture,u.sourceTexture=i},isNeutralState:function(){var u=this.mainParameter,i=t.Image.filters[this.type].prototype;if(u)if(Array.isArray(i[u])){for(var h=i[u].length;h--;)if(this[u][h]!==i[u][h])return!1;return!0}else return i[u]===this[u];else return!1},applyTo:function(u){u.webgl?(this._setupFrameBuffer(u),this.applyToWebGL(u),this._swapTextures(u)):this.applyTo2d(u)},retrieveShader:function(u){return u.programCache.hasOwnProperty(this.type)||(u.programCache[this.type]=this.createProgram(u.context)),u.programCache[this.type]},applyToWebGL:function(u){var i=u.context,h=this.retrieveShader(u);u.pass===0&&u.originalTexture?i.bindTexture(i.TEXTURE_2D,u.originalTexture):i.bindTexture(i.TEXTURE_2D,u.sourceTexture),i.useProgram(h.program),this.sendAttributeData(i,h.attributeLocations,u.aPosition),i.uniform1f(h.uniformLocations.uStepW,1/u.sourceWidth),i.uniform1f(h.uniformLocations.uStepH,1/u.sourceHeight),this.sendUniformData(i,h.uniformLocations),i.viewport(0,0,u.destinationWidth,u.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(u,i,h){u.activeTexture(h),u.bindTexture(u.TEXTURE_2D,i),u.activeTexture(u.TEXTURE0)},unbindAdditionalTexture:function(u,i){u.activeTexture(i),u.bindTexture(u.TEXTURE_2D,null),u.activeTexture(u.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(u){this[this.mainParameter]=u},sendUniformData:function(){},createHelpLayer:function(u){if(!u.helpLayer){var i=document.createElement("canvas");i.width=u.sourceWidth,i.height=u.sourceHeight,u.helpLayer=i}},toObject:function(){var u={type:this.type},i=this.mainParameter;return i&&(u[i]=this[i]),u},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(u,i){var h=new t.Image.filters[u.type](u);return i&&i(h),h},function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.ColorMatrix=d(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(o){this.callSuper("initialize",o),this.matrix=this.matrix.slice(0)},applyTo2d:function(o){var a=o.imageData,s=a.data,c=s.length,p=this.matrix,f,v,m,_,x,w=this.colorsOnly;for(x=0;x<c;x+=4)f=s[x],v=s[x+1],m=s[x+2],w?(s[x]=f*p[0]+v*p[1]+m*p[2]+p[4]*255,s[x+1]=f*p[5]+v*p[6]+m*p[7]+p[9]*255,s[x+2]=f*p[10]+v*p[11]+m*p[12]+p[14]*255):(_=s[x+3],s[x]=f*p[0]+v*p[1]+m*p[2]+_*p[3]+p[4]*255,s[x+1]=f*p[5]+v*p[6]+m*p[7]+_*p[8]+p[9]*255,s[x+2]=f*p[10]+v*p[11]+m*p[12]+_*p[13]+p[14]*255,s[x+3]=f*p[15]+v*p[16]+m*p[17]+_*p[18]+p[19]*255)},getUniformLocations:function(o,a){return{uColorMatrix:o.getUniformLocation(a,"uColorMatrix"),uConstants:o.getUniformLocation(a,"uConstants")}},sendUniformData:function(o,a){var s=this.matrix,c=[s[0],s[1],s[2],s[3],s[5],s[6],s[7],s[8],s[10],s[11],s[12],s[13],s[15],s[16],s[17],s[18]],p=[s[4],s[9],s[14],s[19]];o.uniformMatrix4fv(a.uColorMatrix,!1,c),o.uniform4fv(a.uConstants,p)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Brightness=d(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(o){if(this.brightness!==0){var a=o.imageData,s=a.data,c,p=s.length,f=Math.round(this.brightness*255);for(c=0;c<p;c+=4)s[c]=s[c]+f,s[c+1]=s[c+1]+f,s[c+2]=s[c+2]+f}},getUniformLocations:function(o,a){return{uBrightness:o.getUniformLocation(a,"uBrightness")}},sendUniformData:function(o,a){o.uniform1f(a.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.Image.filters,o=i.util.createClass;d.Convolute=o(d.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(a){var s=Math.sqrt(this.matrix.length),c=this.type+"_"+s+"_"+(this.opaque?1:0),p=this.fragmentSource[c];return a.programCache.hasOwnProperty(c)||(a.programCache[c]=this.createProgram(a.context,p)),a.programCache[c]},applyTo2d:function(a){var s=a.imageData,c=s.data,p=this.matrix,f=Math.round(Math.sqrt(p.length)),v=Math.floor(f/2),m=s.width,_=s.height,x=a.ctx.createImageData(m,_),w=x.data,b=this.opaque?1:0,S,O,I,B,Q,ie,le,J,re,ue,de,U,C;for(de=0;de<_;de++)for(ue=0;ue<m;ue++){for(Q=(de*m+ue)*4,S=0,O=0,I=0,B=0,C=0;C<f;C++)for(U=0;U<f;U++)le=de+C-v,ie=ue+U-v,!(le<0||le>=_||ie<0||ie>=m)&&(J=(le*m+ie)*4,re=p[C*f+U],S+=c[J]*re,O+=c[J+1]*re,I+=c[J+2]*re,b||(B+=c[J+3]*re));w[Q]=S,w[Q+1]=O,w[Q+2]=I,b?w[Q+3]=c[Q+3]:w[Q+3]=B}a.imageData=x},getUniformLocations:function(a,s){return{uMatrix:a.getUniformLocation(s,"uMatrix"),uOpaque:a.getUniformLocation(s,"uOpaque"),uHalfSize:a.getUniformLocation(s,"uHalfSize"),uSize:a.getUniformLocation(s,"uSize")}},sendUniformData:function(a,s){a.uniform1fv(s.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Grayscale=d(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(o){var a=o.imageData,s=a.data,c,p=s.length,f,v=this.mode;for(c=0;c<p;c+=4)v==="average"?f=(s[c]+s[c+1]+s[c+2])/3:v==="lightness"?f=(Math.min(s[c],s[c+1],s[c+2])+Math.max(s[c],s[c+1],s[c+2]))/2:v==="luminosity"&&(f=.21*s[c]+.72*s[c+1]+.07*s[c+2]),s[c]=f,s[c+1]=f,s[c+2]=f},retrieveShader:function(o){var a=this.type+"_"+this.mode;if(!o.programCache.hasOwnProperty(a)){var s=this.fragmentSource[this.mode];o.programCache[a]=this.createProgram(o.context,s)}return o.programCache[a]},getUniformLocations:function(o,a){return{uMode:o.getUniformLocation(a,"uMode")}},sendUniformData:function(o,a){var s=1;o.uniform1i(a.uMode,s)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Invert=d(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(o){var a=o.imageData,s=a.data,c,p=s.length;for(c=0;c<p;c+=4)s[c]=255-s[c],s[c+1]=255-s[c+1],s[c+2]=255-s[c+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(o,a){return{uInvert:o.getUniformLocation(a,"uInvert")}},sendUniformData:function(o,a){o.uniform1i(a.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.Image.filters,o=i.util.createClass;d.Noise=o(d.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(a){if(this.noise!==0){var s=a.imageData,c=s.data,p,f=c.length,v=this.noise,m;for(p=0,f=c.length;p<f;p+=4)m=(.5-Math.random())*v,c[p]+=m,c[p+1]+=m,c[p+2]+=m}},getUniformLocations:function(a,s){return{uNoise:a.getUniformLocation(s,"uNoise"),uSeed:a.getUniformLocation(s,"uSeed")}},sendUniformData:function(a,s){a.uniform1f(s.uNoise,this.noise/255),a.uniform1f(s.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Pixelate=d(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(o){var a=o.imageData,s=a.data,c=a.height,p=a.width,f,v,m,_,x,w,b,S,O,I,B;for(v=0;v<c;v+=this.blocksize)for(m=0;m<p;m+=this.blocksize)for(f=v*4*p+m*4,_=s[f],x=s[f+1],w=s[f+2],b=s[f+3],I=Math.min(v+this.blocksize,c),B=Math.min(m+this.blocksize,p),S=v;S<I;S++)for(O=m;O<B;O++)f=S*4*p+O*4,s[f]=_,s[f+1]=x,s[f+2]=w,s[f+3]=b},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(o,a){return{uBlocksize:o.getUniformLocation(a,"uBlocksize"),uStepW:o.getUniformLocation(a,"uStepW"),uStepH:o.getUniformLocation(a,"uStepH")}},sendUniformData:function(o,a){o.uniform1f(a.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.Image.filters,o=i.util.createClass;d.RemoveColor=o(d.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(a){var s=a.imageData,c=s.data,p,f=this.distance*255,v,m,_,x=new i.Color(this.color).getSource(),w=[x[0]-f,x[1]-f,x[2]-f],b=[x[0]+f,x[1]+f,x[2]+f];for(p=0;p<c.length;p+=4)v=c[p],m=c[p+1],_=c[p+2],v>w[0]&&m>w[1]&&_>w[2]&&v<b[0]&&m<b[1]&&_<b[2]&&(c[p+3]=0)},getUniformLocations:function(a,s){return{uLow:a.getUniformLocation(s,"uLow"),uHigh:a.getUniformLocation(s,"uHigh")}},sendUniformData:function(a,s){var c=new i.Color(this.color).getSource(),p=parseFloat(this.distance),f=[0+c[0]/255-p,0+c[1]/255-p,0+c[2]/255-p,1],v=[c[0]/255+p,c[1]/255+p,c[2]/255+p,1];a.uniform4fv(s.uLow,f),a.uniform4fv(s.uHigh,v)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var a in o)h[a]=d(h.ColorMatrix,{type:a,matrix:o[a],mainParameter:!1,colorsOnly:!0}),i.Image.filters[a].fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric,h=i.Image.filters,d=i.util.createClass;h.BlendColor=d(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(o){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[o]+`}
}`},retrieveShader:function(o){var a=this.type+"_"+this.mode,s;return o.programCache.hasOwnProperty(a)||(s=this.buildSource(this.mode),o.programCache[a]=this.createProgram(o.context,s)),o.programCache[a]},applyTo2d:function(o){var a=o.imageData,s=a.data,c=s.length,p,f,v,m,_,x,w,b=1-this.alpha;w=new i.Color(this.color).getSource(),p=w[0]*this.alpha,f=w[1]*this.alpha,v=w[2]*this.alpha;for(var S=0;S<c;S+=4)switch(m=s[S],_=s[S+1],x=s[S+2],this.mode){case"multiply":s[S]=m*p/255,s[S+1]=_*f/255,s[S+2]=x*v/255;break;case"screen":s[S]=255-(255-m)*(255-p)/255,s[S+1]=255-(255-_)*(255-f)/255,s[S+2]=255-(255-x)*(255-v)/255;break;case"add":s[S]=m+p,s[S+1]=_+f,s[S+2]=x+v;break;case"diff":case"difference":s[S]=Math.abs(m-p),s[S+1]=Math.abs(_-f),s[S+2]=Math.abs(x-v);break;case"subtract":s[S]=m-p,s[S+1]=_-f,s[S+2]=x-v;break;case"darken":s[S]=Math.min(m,p),s[S+1]=Math.min(_,f),s[S+2]=Math.min(x,v);break;case"lighten":s[S]=Math.max(m,p),s[S+1]=Math.max(_,f),s[S+2]=Math.max(x,v);break;case"overlay":s[S]=p<128?2*m*p/255:255-2*(255-m)*(255-p)/255,s[S+1]=f<128?2*_*f/255:255-2*(255-_)*(255-f)/255,s[S+2]=v<128?2*x*v/255:255-2*(255-x)*(255-v)/255;break;case"exclusion":s[S]=p+m-2*p*m/255,s[S+1]=f+_-2*f*_/255,s[S+2]=v+x-2*v*x/255;break;case"tint":s[S]=p+m*b,s[S+1]=f+_*b,s[S+2]=v+x*b}},getUniformLocations:function(o,a){return{uColor:o.getUniformLocation(a,"uColor")}},sendUniformData:function(o,a){var s=new i.Color(this.color).getSource();s[0]=this.alpha*s[0]/255,s[1]=this.alpha*s[1]/255,s[2]=this.alpha*s[2]/255,s[3]=this.alpha,o.uniform4fv(a.uColor,s)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric,h=i.Image.filters,d=i.util.createClass;h.BlendImage=d(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(o){var a=this.type+"_"+this.mode,s=this.fragmentSource[this.mode];return o.programCache.hasOwnProperty(a)||(o.programCache[a]=this.createProgram(o.context,s)),o.programCache[a]},applyToWebGL:function(o){var a=o.context,s=this.createTexture(o.filterBackend,this.image);this.bindAdditionalTexture(a,s,a.TEXTURE1),this.callSuper("applyToWebGL",o),this.unbindAdditionalTexture(a,a.TEXTURE1)},createTexture:function(o,a){return o.getCachedTexture(a.cacheKey,a._element)},calculateMatrix:function(){var o=this.image,a=o._element.width,s=o._element.height;return[1/o.scaleX,0,0,0,1/o.scaleY,0,-o.left/a,-o.top/s,1]},applyTo2d:function(o){var a=o.imageData,s=o.filterBackend.resources,c=a.data,p=c.length,f=a.width,v=a.height,m,_,x,w,b,S,O,I,B,Q,ie=this.image,le;s.blendImage||(s.blendImage=i.util.createCanvasElement()),B=s.blendImage,Q=B.getContext("2d"),B.width!==f||B.height!==v?(B.width=f,B.height=v):Q.clearRect(0,0,f,v),Q.setTransform(ie.scaleX,0,0,ie.scaleY,ie.left,ie.top),Q.drawImage(ie._element,0,0,f,v),le=Q.getImageData(0,0,f,v).data;for(var J=0;J<p;J+=4)switch(b=c[J],S=c[J+1],O=c[J+2],I=c[J+3],m=le[J],_=le[J+1],x=le[J+2],w=le[J+3],this.mode){case"multiply":c[J]=b*m/255,c[J+1]=S*_/255,c[J+2]=O*x/255,c[J+3]=I*w/255;break;case"mask":c[J+3]=w;break}},getUniformLocations:function(o,a){return{uTransformMatrix:o.getUniformLocation(a,"uTransformMatrix"),uImage:o.getUniformLocation(a,"uImage")}},sendUniformData:function(o,a){var s=this.calculateMatrix();o.uniform1i(a.uImage,1),o.uniformMatrix3fv(a.uTransformMatrix,!1,s)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(o,a){i.Image.fromObject(o.image,function(s){var c=i.util.object.clone(o);c.image=s,a(new i.Image.filters.BlendImage(c))})}}(e),function(u){var i=u.fabric||(u.fabric={}),h=Math.pow,d=Math.floor,o=Math.sqrt,a=Math.abs,s=Math.round,c=Math.sin,p=Math.ceil,f=i.Image.filters,v=i.util.createClass;f.Resize=v(f.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(m,_){return{uDelta:m.getUniformLocation(_,"uDelta"),uTaps:m.getUniformLocation(_,"uTaps")}},sendUniformData:function(m,_){m.uniform2fv(_.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),m.uniform1fv(_.uTaps,this.taps)},retrieveShader:function(m){var _=this.getFilterWindow(),x=this.type+"_"+_;if(!m.programCache.hasOwnProperty(x)){var w=this.generateShader(_);m.programCache[x]=this.createProgram(m.context,w)}return m.programCache[x]},getFilterWindow:function(){var m=this.tempScale;return Math.ceil(this.lanczosLobes/m)},getTaps:function(){for(var m=this.lanczosCreate(this.lanczosLobes),_=this.tempScale,x=this.getFilterWindow(),w=new Array(x),b=1;b<=x;b++)w[b-1]=m(b*_);return w},generateShader:function(w){for(var _=new Array(w),x=this.fragmentSourceTOP,w,b=1;b<=w;b++)_[b-1]=b+".0 * uDelta";return x+="uniform float uTaps["+w+`];
`,x+=`void main() {
`,x+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,x+=`  float sum = 1.0;
`,_.forEach(function(S,O){x+="  color += texture2D(uTexture, vTexCoord + "+S+") * uTaps["+O+`];
`,x+="  color += texture2D(uTexture, vTexCoord - "+S+") * uTaps["+O+`];
`,x+="  sum += 2.0 * uTaps["+O+`];
`}),x+=`  gl_FragColor = color / sum;
`,x+="}",x},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(m){m.webgl?(m.passes++,this.width=m.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=m.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),m.destinationWidth=this.dW,this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m),m.sourceWidth=m.destinationWidth,this.height=m.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),m.destinationHeight=this.dH,this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m),m.sourceHeight=m.destinationHeight):this.applyTo2d(m)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(m){return function(_){if(_>=m||_<=-m)return 0;if(_<11920929e-14&&_>-11920929e-14)return 1;_*=Math.PI;var x=_/m;return c(_)/_*c(x)/x}},applyTo2d:function(m){var _=m.imageData,x=this.scaleX,w=this.scaleY;this.rcpScaleX=1/x,this.rcpScaleY=1/w;var b=_.width,S=_.height,O=s(b*x),I=s(S*w),B;this.resizeType==="sliceHack"?B=this.sliceByTwo(m,b,S,O,I):this.resizeType==="hermite"?B=this.hermiteFastResize(m,b,S,O,I):this.resizeType==="bilinear"?B=this.bilinearFiltering(m,b,S,O,I):this.resizeType==="lanczos"&&(B=this.lanczosResize(m,b,S,O,I)),m.imageData=B},sliceByTwo:function(m,_,x,w,b){var S=m.imageData,O=.5,I=!1,B=!1,Q=_*O,ie=x*O,le=i.filterBackend.resources,J,re,ue=0,de=0,U=_,C=0;for(le.sliceByTwo||(le.sliceByTwo=document.createElement("canvas")),J=le.sliceByTwo,(J.width<_*1.5||J.height<x)&&(J.width=_*1.5,J.height=x),re=J.getContext("2d"),re.clearRect(0,0,_*1.5,x),re.putImageData(S,0,0),w=d(w),b=d(b);!I||!B;)_=Q,x=ie,w<d(Q*O)?Q=d(Q*O):(Q=w,I=!0),b<d(ie*O)?ie=d(ie*O):(ie=b,B=!0),re.drawImage(J,ue,de,_,x,U,C,Q,ie),ue=U,de=C,C+=ie;return re.getImageData(ue,de,w,b)},lanczosResize:function(m,_,x,w,b){function S(A){var M,N,k,T,F,$,X,z,K,Z,ae;for(C.x=(A+.5)*ie,P.x=d(C.x),M=0;M<b;M++){for(C.y=(M+.5)*le,P.y=d(C.y),F=0,$=0,X=0,z=0,K=0,N=P.x-ue;N<=P.x+ue;N++)if(!(N<0||N>=_)){Z=d(1e3*a(N-C.x)),U[Z]||(U[Z]={});for(var H=P.y-de;H<=P.y+de;H++)H<0||H>=x||(ae=d(1e3*a(H-C.y)),U[Z][ae]||(U[Z][ae]=Q(o(h(Z*J,2)+h(ae*re,2))/1e3)),k=U[Z][ae],k>0&&(T=(H*_+N)*4,F+=k,$+=k*O[T],X+=k*O[T+1],z+=k*O[T+2],K+=k*O[T+3]))}T=(M*w+A)*4,B[T]=$/F,B[T+1]=X/F,B[T+2]=z/F,B[T+3]=K/F}return++A<w?S(A):I}var O=m.imageData.data,I=m.ctx.createImageData(w,b),B=I.data,Q=this.lanczosCreate(this.lanczosLobes),ie=this.rcpScaleX,le=this.rcpScaleY,J=2/this.rcpScaleX,re=2/this.rcpScaleY,ue=p(ie*this.lanczosLobes/2),de=p(le*this.lanczosLobes/2),U={},C={},P={};return S(0)},bilinearFiltering:function(m,_,x,w,b){var S,O,I,B,Q,ie,le,J,re,ue,de,U,C=0,P,A=this.rcpScaleX,M=this.rcpScaleY,N=4*(_-1),k=m.imageData,T=k.data,F=m.ctx.createImageData(w,b),$=F.data;for(le=0;le<b;le++)for(J=0;J<w;J++)for(Q=d(A*J),ie=d(M*le),re=A*J-Q,ue=M*le-ie,P=4*(ie*_+Q),de=0;de<4;de++)S=T[P+de],O=T[P+4+de],I=T[P+N+de],B=T[P+N+4+de],U=S*(1-re)*(1-ue)+O*re*(1-ue)+I*ue*(1-re)+B*re*ue,$[C++]=U;return F},hermiteFastResize:function(m,_,x,w,b){for(var S=this.rcpScaleX,O=this.rcpScaleY,I=p(S/2),B=p(O/2),Q=m.imageData,ie=Q.data,le=m.ctx.createImageData(w,b),J=le.data,re=0;re<b;re++)for(var ue=0;ue<w;ue++){for(var de=(ue+re*w)*4,U=0,C=0,P=0,A=0,M=0,N=0,k=0,T=(re+.5)*O,F=d(re*O);F<(re+1)*O;F++)for(var $=a(T-(F+.5))/B,X=(ue+.5)*S,z=$*$,K=d(ue*S);K<(ue+1)*S;K++){var Z=a(X-(K+.5))/I,ae=o(z+Z*Z);ae>1&&ae<-1||(U=2*ae*ae*ae-3*ae*ae+1,U>0&&(Z=4*(K+F*_),k+=U*ie[Z+3],P+=U,ie[Z+3]<255&&(U=U*ie[Z+3]/250),A+=U*ie[Z],M+=U*ie[Z+1],N+=U*ie[Z+2],C+=U))}J[de]=A/C,J[de+1]=M/C,J[de+2]=N/C,J[de+3]=k/P}return le},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Contrast=d(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(o){if(this.contrast!==0){var a=o.imageData,s,p,c=a.data,p=c.length,f=Math.floor(this.contrast*255),v=259*(f+255)/(255*(259-f));for(s=0;s<p;s+=4)c[s]=v*(c[s]-128)+128,c[s+1]=v*(c[s+1]-128)+128,c[s+2]=v*(c[s+2]-128)+128}},getUniformLocations:function(o,a){return{uContrast:o.getUniformLocation(a,"uContrast")}},sendUniformData:function(o,a){o.uniform1f(a.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Saturation=d(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(o){if(this.saturation!==0){var a=o.imageData,s=a.data,c=s.length,p=-this.saturation,f,v;for(f=0;f<c;f+=4)v=Math.max(s[f],s[f+1],s[f+2]),s[f]+=v!==s[f]?(v-s[f])*p:0,s[f+1]+=v!==s[f+1]?(v-s[f+1])*p:0,s[f+2]+=v!==s[f+2]?(v-s[f+2])*p:0}},getUniformLocations:function(o,a){return{uSaturation:o.getUniformLocation(a,"uSaturation")}},sendUniformData:function(o,a){o.uniform1f(a.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Vibrance=d(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(o){if(this.vibrance!==0){var a=o.imageData,s=a.data,c=s.length,p=-this.vibrance,f,v,m,_;for(f=0;f<c;f+=4)v=Math.max(s[f],s[f+1],s[f+2]),m=(s[f]+s[f+1]+s[f+2])/3,_=Math.abs(v-m)*2/255*p,s[f]+=v!==s[f]?(v-s[f])*_:0,s[f+1]+=v!==s[f+1]?(v-s[f+1])*_:0,s[f+2]+=v!==s[f+2]?(v-s[f+2])*_:0}},getUniformLocations:function(o,a){return{uVibrance:o.getUniformLocation(a,"uVibrance")}},sendUniformData:function(o,a){o.uniform1f(a.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Blur=d(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(o){o.webgl?(this.aspectRatio=o.sourceWidth/o.sourceHeight,o.passes++,this._setupFrameBuffer(o),this.horizontal=!0,this.applyToWebGL(o),this._swapTextures(o),this._setupFrameBuffer(o),this.horizontal=!1,this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},applyTo2d:function(o){o.imageData=this.simpleBlur(o)},simpleBlur:function(o){var a=o.filterBackend.resources,s,c,p=o.imageData.width,f=o.imageData.height;a.blurLayer1||(a.blurLayer1=i.util.createCanvasElement(),a.blurLayer2=i.util.createCanvasElement()),s=a.blurLayer1,c=a.blurLayer2,(s.width!==p||s.height!==f)&&(c.width=s.width=p,c.height=s.height=f);var v=s.getContext("2d"),m=c.getContext("2d"),_=15,x,w,b,S,O=this.blur*.06*.5;for(v.putImageData(o.imageData,0,0),m.clearRect(0,0,p,f),S=-_;S<=_;S++)x=(Math.random()-.5)/4,w=S/_,b=O*w*p+x,m.globalAlpha=1-Math.abs(w),m.drawImage(s,b,x),v.drawImage(c,0,0),m.globalAlpha=1,m.clearRect(0,0,c.width,c.height);for(S=-_;S<=_;S++)x=(Math.random()-.5)/4,w=S/_,b=O*w*f+x,m.globalAlpha=1-Math.abs(w),m.drawImage(s,x,b),v.drawImage(c,0,0),m.globalAlpha=1,m.clearRect(0,0,c.width,c.height);o.ctx.drawImage(s,0,0);var I=o.ctx.getImageData(0,0,s.width,s.height);return v.globalAlpha=1,v.clearRect(0,0,s.width,s.height),I},getUniformLocations:function(o,a){return{delta:o.getUniformLocation(a,"uDelta")}},sendUniformData:function(o,a){var s=this.chooseRightDelta();o.uniform2fv(a.delta,s)},chooseRightDelta:function(){var o=1,a=[0,0],s;return this.horizontal?this.aspectRatio>1&&(o=1/this.aspectRatio):this.aspectRatio<1&&(o=this.aspectRatio),s=o*this.blur*.12,this.horizontal?a[0]=s:a[1]=s,a}}),h.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Gamma=d(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(o){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,o)},applyTo2d:function(o){var a=o.imageData,s=a.data,c=this.gamma,p=s.length,f=1/c[0],v=1/c[1],m=1/c[2],_;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),_=0,p=256;_<p;_++)this.rVals[_]=Math.pow(_/255,f)*255,this.gVals[_]=Math.pow(_/255,v)*255,this.bVals[_]=Math.pow(_/255,m)*255;for(_=0,p=s.length;_<p;_+=4)s[_]=this.rVals[s[_]],s[_+1]=this.gVals[s[_+1]],s[_+2]=this.bVals[s[_+2]]},getUniformLocations:function(o,a){return{uGamma:o.getUniformLocation(a,"uGamma")}},sendUniformData:function(o,a){o.uniform3fv(a.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Composed=d(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(o){this.callSuper("initialize",o),this.subFilters=this.subFilters.slice(0)},applyTo:function(o){o.passes+=this.subFilters.length-1,this.subFilters.forEach(function(a){a.applyTo(o)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(o){return o.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(o){return!o.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(o,a){var s=o.subFilters||[],c=s.map(function(f){return new i.Image.filters[f.type](f)}),p=new i.Image.filters.Composed({subFilters:c});return a&&a(p),p}}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.HueRotation=d(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var o=this.rotation*Math.PI,a=i.util.cos(o),s=i.util.sin(o),c=1/3,p=Math.sqrt(c)*s,f=1-a;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=a+f/3,this.matrix[1]=c*f-p,this.matrix[2]=c*f+p,this.matrix[5]=c*f+p,this.matrix[6]=a+c*f,this.matrix[7]=c*f-p,this.matrix[10]=c*f-p,this.matrix[11]=c*f+p,this.matrix[12]=a+c*f},isNeutralState:function(o){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,o)},applyTo:function(o){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,o)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var d="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(d),cacheProperties:i.Object.prototype.cacheProperties.concat(d),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(o,a){this.styles=a?a.styles||{}:{},this.text=o,this.__skipDimension=!0,this.callSuper("initialize",a),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var o=this.path;o&&(o.segmentsInfo=i.util.getPathSegmentsInfo(o.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var o=this._splitTextIntoLines(this.text);return this.textLines=o.lines,this._textLines=o.graphemeLines,this._unwrappedTextLines=o._unwrappedLines,this._text=o.graphemeText,o},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var o,a,s,c,p,f,v,m=0,_=this._textLines.length;m<_;m++)if(!(this.textAlign!=="justify"&&(m===_-1||this.isEndOfWrapping(m)))&&(c=0,p=this._textLines[m],a=this.getLineWidth(m),a<this.width&&(v=this.textLines[m].match(this._reSpacesAndTabs)))){s=v.length,o=(this.width-a)/s;for(var x=0,w=p.length;x<=w;x++)f=this.__charBounds[m][x],this._reSpaceAndTab.test(p[x])?(f.width+=o,f.kernedWidth+=o,f.left+=c,c+=o):f.left+=c}},isEndOfWrapping:function(o){return o===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var o=this.callSuper("_getCacheCanvasDimensions"),a=this.fontSize;return o.width+=a*o.zoomX,o.height+=a*o.zoomY,o},_render:function(o){var a=this.path;a&&!a.isNotVisible()&&a._render(o),this._setTextStyles(o),this._renderTextLinesBackground(o),this._renderTextDecoration(o,"underline"),this._renderText(o),this._renderTextDecoration(o,"overline"),this._renderTextDecoration(o,"linethrough")},_renderText:function(o){this.paintFirst==="stroke"?(this._renderTextStroke(o),this._renderTextFill(o)):(this._renderTextFill(o),this._renderTextStroke(o))},_setTextStyles:function(o,a,s){if(o.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":o.textBaseline="middle";break;case"ascender":o.textBaseline="top";break;case"descender":o.textBaseline="bottom";break}o.font=this._getFontDeclaration(a,s)},calcTextWidth:function(){for(var o=this.getLineWidth(0),a=1,s=this._textLines.length;a<s;a++){var c=this.getLineWidth(a);c>o&&(o=c)}return o},_renderTextLine:function(o,a,s,c,p,f){this._renderChars(o,a,s,c,p,f)},_renderTextLinesBackground:function(o){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var a,s,c=o.fillStyle,p,f,v=this._getLeftOffset(),m=this._getTopOffset(),_=0,x=0,w,b,S=this.path,O,I=0,B=this._textLines.length;I<B;I++){if(a=this.getHeightOfLine(I),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",I)){m+=a;continue}p=this._textLines[I],s=this._getLineLeftOffset(I),x=0,_=0,f=this.getValueOfPropertyAt(I,0,"textBackgroundColor");for(var Q=0,ie=p.length;Q<ie;Q++)w=this.__charBounds[I][Q],b=this.getValueOfPropertyAt(I,Q,"textBackgroundColor"),S?(o.save(),o.translate(w.renderLeft,w.renderTop),o.rotate(w.angle),o.fillStyle=b,b&&o.fillRect(-w.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),w.width,a/this.lineHeight),o.restore()):b!==f?(O=v+s+_,this.direction==="rtl"&&(O=this.width-O-x),o.fillStyle=f,f&&o.fillRect(O,m,x,a/this.lineHeight),_=w.left,x=w.width,f=b):x+=w.kernedWidth;b&&!S&&(O=v+s+_,this.direction==="rtl"&&(O=this.width-O-x),o.fillStyle=b,o.fillRect(O,m,x,a/this.lineHeight)),m+=a}o.fillStyle=c,this._removeShadow(o)}},getFontCache:function(o){var a=o.fontFamily.toLowerCase();i.charWidthsCache[a]||(i.charWidthsCache[a]={});var s=i.charWidthsCache[a],c=o.fontStyle.toLowerCase()+"_"+(o.fontWeight+"").toLowerCase();return s[c]||(s[c]={}),s[c]},_measureChar:function(o,a,s,c){var p=this.getFontCache(a),f=this._getFontDeclaration(a),v=this._getFontDeclaration(c),m=s+o,_=f===v,x,w,b,S=a.fontSize/this.CACHE_FONT_SIZE,O;if(s&&p[s]!==void 0&&(b=p[s]),p[o]!==void 0&&(O=x=p[o]),_&&p[m]!==void 0&&(w=p[m],O=w-b),x===void 0||b===void 0||w===void 0){var I=this.getMeasuringContext();this._setTextStyles(I,a,!0)}return x===void 0&&(O=x=I.measureText(o).width,p[o]=x),b===void 0&&_&&s&&(b=I.measureText(s).width,p[s]=b),_&&w===void 0&&(w=I.measureText(m).width,p[m]=w,O=w-b),{width:x*S,kernedWidth:O*S}},getHeightOfChar:function(o,a){return this.getValueOfPropertyAt(o,a,"fontSize")},measureLine:function(o){var a=this._measureLine(o);return this.charSpacing!==0&&(a.width-=this._getWidthOfCharSpacing()),a.width<0&&(a.width=0),a},_measureLine:function(o){var a=0,s,c,p=this._textLines[o],f,v,m=0,_=new Array(p.length),x=0,w,b,S=this.path,O=this.pathSide==="right";for(this.__charBounds[o]=_,s=0;s<p.length;s++)c=p[s],v=this._getGraphemeBox(c,o,s,f),_[s]=v,a+=v.kernedWidth,f=c;if(_[s]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},S){switch(b=S.segmentsInfo[S.segmentsInfo.length-1].length,w=i.util.getPointOnPath(S.path,0,S.segmentsInfo),w.x+=S.pathOffset.x,w.y+=S.pathOffset.y,this.textAlign){case"left":x=O?b-a:0;break;case"center":x=(b-a)/2;break;case"right":x=O?0:b-a;break}for(x+=this.pathStartOffset*(O?-1:1),s=O?p.length-1:0;O?s>=0:s<p.length;O?s--:s++)v=_[s],x>b?x%=b:x<0&&(x+=b),this._setGraphemeOnPath(x,v,w),x+=v.kernedWidth}return{width:a,numOfSpaces:m}},_setGraphemeOnPath:function(o,a,s){var c=o+a.kernedWidth/2,p=this.path,f=i.util.getPointOnPath(p.path,c,p.segmentsInfo);a.renderLeft=f.x-s.x,a.renderTop=f.y-s.y,a.angle=f.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(o,a,s,c,p){var f=this.getCompleteStyleDeclaration(a,s),v=c?this.getCompleteStyleDeclaration(a,s-1):{},m=this._measureChar(o,f,c,v),_=m.kernedWidth,x=m.width,w;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),x+=w,_+=w);var b={width:x,left:0,height:f.fontSize,kernedWidth:_,deltaY:f.deltaY};if(s>0&&!p){var S=this.__charBounds[a][s-1];b.left=S.left+S.width+m.kernedWidth-m.width}return b},getHeightOfLine:function(o){if(this.__lineHeights[o])return this.__lineHeights[o];for(var a=this._textLines[o],s=this.getHeightOfChar(o,0),c=1,p=a.length;c<p;c++)s=Math.max(this.getHeightOfChar(o,c),s);return this.__lineHeights[o]=s*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var o,a=0,s=0,c=this._textLines.length;s<c;s++)o=this.getHeightOfLine(s),a+=s===c-1?o/this.lineHeight:o;return a},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(o,a){o.save();for(var s=0,c=this._getLeftOffset(),p=this._getTopOffset(),f=0,v=this._textLines.length;f<v;f++){var m=this.getHeightOfLine(f),_=m/this.lineHeight,x=this._getLineLeftOffset(f);this._renderTextLine(a,o,this._textLines[f],c+x,p+s+_,f),s+=m}o.restore()},_renderTextFill:function(o){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(o,"fillText")},_renderTextStroke:function(o){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this._setLineDash(o,this.strokeDashArray),o.beginPath(),this._renderTextCommon(o,"strokeText"),o.closePath(),o.restore())},_renderChars:function(o,a,s,c,p,f){var v=this.getHeightOfLine(f),m=this.textAlign.indexOf("justify")!==-1,_,x,w="",b,S=0,O,I=this.path,B=!m&&this.charSpacing===0&&this.isEmptyStyles(f)&&!I,Q=this.direction==="ltr",ie=this.direction==="ltr"?1:-1,le,J=a.canvas.getAttribute("dir");if(a.save(),J!==this.direction&&(a.canvas.setAttribute("dir",Q?"ltr":"rtl"),a.direction=Q?"ltr":"rtl",a.textAlign=Q?"left":"right"),p-=v*this._fontSizeFraction/this.lineHeight,B){this._renderChar(o,a,f,0,s.join(""),c,p,v),a.restore();return}for(var re=0,ue=s.length-1;re<=ue;re++)O=re===ue||this.charSpacing||I,w+=s[re],b=this.__charBounds[f][re],S===0?(c+=ie*(b.kernedWidth-b.width),S+=b.width):S+=b.kernedWidth,m&&!O&&this._reSpaceAndTab.test(s[re])&&(O=!0),O||(_=_||this.getCompleteStyleDeclaration(f,re),x=this.getCompleteStyleDeclaration(f,re+1),O=i.util.hasStyleChanged(_,x,!1)),O&&(I?(a.save(),a.translate(b.renderLeft,b.renderTop),a.rotate(b.angle),this._renderChar(o,a,f,re,w,-S/2,0,v),a.restore()):(le=c,this._renderChar(o,a,f,re,w,le,p,v)),w="",_=x,c+=ie*S,S=0);a.restore()},_applyPatternGradientTransformText:function(o){var a=i.util.createCanvasElement(),s,c=this.width+this.strokeWidth,p=this.height+this.strokeWidth;return a.width=c,a.height=p,s=a.getContext("2d"),s.beginPath(),s.moveTo(0,0),s.lineTo(c,0),s.lineTo(c,p),s.lineTo(0,p),s.closePath(),s.translate(c/2,p/2),s.fillStyle=o.toLive(s),this._applyPatternGradientTransform(s,o),s.fill(),s.createPattern(a,"no-repeat")},handleFiller:function(o,a,s){var c,p;return s.toLive?s.gradientUnits==="percentage"||s.gradientTransform||s.patternTransform?(c=-this.width/2,p=-this.height/2,o.translate(c,p),o[a]=this._applyPatternGradientTransformText(s),{offsetX:c,offsetY:p}):(o[a]=s.toLive(o,this),this._applyPatternGradientTransform(o,s)):(o[a]=s,{offsetX:0,offsetY:0})},_setStrokeStyles:function(o,a){return o.lineWidth=a.strokeWidth,o.lineCap=this.strokeLineCap,o.lineDashOffset=this.strokeDashOffset,o.lineJoin=this.strokeLineJoin,o.miterLimit=this.strokeMiterLimit,this.handleFiller(o,"strokeStyle",a.stroke)},_setFillStyles:function(o,a){return this.handleFiller(o,"fillStyle",a.fill)},_renderChar:function(o,a,s,c,p,f,v){var m=this._getStyleDeclaration(s,c),_=this.getCompleteStyleDeclaration(s,c),x=o==="fillText"&&_.fill,w=o==="strokeText"&&_.stroke&&_.strokeWidth,b,S;!w&&!x||(a.save(),x&&(b=this._setFillStyles(a,_)),w&&(S=this._setStrokeStyles(a,_)),a.font=this._getFontDeclaration(_),m&&m.textBackgroundColor&&this._removeShadow(a),m&&m.deltaY&&(v+=m.deltaY),x&&a.fillText(p,f-b.offsetX,v-b.offsetY),w&&a.strokeText(p,f-S.offsetX,v-S.offsetY),a.restore())},setSuperscript:function(o,a){return this._setScript(o,a,this.superscript)},setSubscript:function(o,a){return this._setScript(o,a,this.subscript)},_setScript:function(o,a,s){var c=this.get2DCursorLocation(o,!0),p=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"fontSize"),f=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"deltaY"),v={fontSize:p*s.size,deltaY:f+p*s.baseline};return this.setSelectionStyles(v,o,a),this},_getLineLeftOffset:function(o){var a=this.getLineWidth(o),s=this.width-a,c=this.textAlign,p=this.direction,v,f=0,v=this.isEndOfWrapping(o);return c==="justify"||c==="justify-center"&&!v||c==="justify-right"&&!v||c==="justify-left"&&!v?0:(c==="center"&&(f=s/2),c==="right"&&(f=s),c==="justify-center"&&(f=s/2),c==="justify-right"&&(f=s),p==="rtl"&&(f-=s),f)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var o=this._forceClearCache;return o||(o=this.hasStateChanged("_dimensionAffectingProps")),o&&(this.dirty=!0,this._forceClearCache=!1),o},getLineWidth:function(o){if(this.__lineWidths[o]!==void 0)return this.__lineWidths[o];var a=this.measureLine(o),s=a.width;return this.__lineWidths[o]=s,s},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(o,a,s){var c=this._getStyleDeclaration(o,a);return c&&typeof c[s]<"u"?c[s]:this[s]},_renderTextDecoration:function(o,a){if(!(!this[a]&&!this.styleHas(a))){for(var s,c,p,f,v,m,_,x,w=this._getLeftOffset(),b=this._getTopOffset(),S,O,I,B,Q,ie,le,J,re=this.path,ue=this._getWidthOfCharSpacing(),de=this.offsets[a],U=0,C=this._textLines.length;U<C;U++){if(s=this.getHeightOfLine(U),!this[a]&&!this.styleHas(a,U)){b+=s;continue}_=this._textLines[U],ie=s/this.lineHeight,f=this._getLineLeftOffset(U),O=0,I=0,x=this.getValueOfPropertyAt(U,0,a),J=this.getValueOfPropertyAt(U,0,"fill"),S=b+ie*(1-this._fontSizeFraction),c=this.getHeightOfChar(U,0),v=this.getValueOfPropertyAt(U,0,"deltaY");for(var P=0,A=_.length;P<A;P++)if(B=this.__charBounds[U][P],Q=this.getValueOfPropertyAt(U,P,a),le=this.getValueOfPropertyAt(U,P,"fill"),p=this.getHeightOfChar(U,P),m=this.getValueOfPropertyAt(U,P,"deltaY"),re&&Q&&le)o.save(),o.fillStyle=J,o.translate(B.renderLeft,B.renderTop),o.rotate(B.angle),o.fillRect(-B.kernedWidth/2,de*p+m,B.kernedWidth,this.fontSize/15),o.restore();else if((Q!==x||le!==J||p!==c||m!==v)&&I>0){var M=w+f+O;this.direction==="rtl"&&(M=this.width-M-I),x&&J&&(o.fillStyle=J,o.fillRect(M,S+de*c+v,I,this.fontSize/15)),O=B.left,I=B.width,x=Q,J=le,c=p,v=m}else I+=B.kernedWidth;var M=w+f+O;this.direction==="rtl"&&(M=this.width-M-I),o.fillStyle=le,Q&&le&&o.fillRect(M,S+de*c+v,I-ue,this.fontSize/15),b+=s}this._removeShadow(o)}},_getFontDeclaration:function(o,a){var s=o||this,c=this.fontFamily,p=i.Text.genericFonts.indexOf(c.toLowerCase())>-1,f=c===void 0||c.indexOf("'")>-1||c.indexOf(",")>-1||c.indexOf('"')>-1||p?s.fontFamily:'"'+s.fontFamily+'"';return[i.isLikelyNode?s.fontWeight:s.fontStyle,i.isLikelyNode?s.fontStyle:s.fontWeight,a?this.CACHE_FONT_SIZE+"px":s.fontSize+"px",f].join(" ")},render:function(o){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",o)))},_splitTextIntoLines:function(o){for(var a=o.split(this._reNewline),s=new Array(a.length),c=[`
`],p=[],f=0;f<a.length;f++)s[f]=i.util.string.graphemeSplit(a[f]),p=p.concat(s[f],c);return p.pop(),{_unwrappedLines:s,lines:a,graphemeText:p,graphemeLines:s}},toObject:function(o){var a=d.concat(o),s=this.callSuper("toObject",a);return s.styles=i.util.stylesToArray(this.styles,this.text),s.path&&(s.path=this.path.toObject()),s},set:function(o,a){this.callSuper("set",o,a);var s=!1,c=!1;if(typeof o=="object")for(var p in o)p==="path"&&this.setPathInfo(),s=s||this._dimensionAffectingProps.indexOf(p)!==-1,c=c||p==="path";else s=this._dimensionAffectingProps.indexOf(o)!==-1,c=o==="path";return c&&this.setPathInfo(),s&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(o,a,s){if(!o)return a(null);var c=i.parseAttributes(o,i.Text.ATTRIBUTE_NAMES),p=c.textAnchor||"left";if(s=i.util.object.extend(s?h(s):{},c),s.top=s.top||0,s.left=s.left||0,c.textDecoration){var f=c.textDecoration;f.indexOf("underline")!==-1&&(s.underline=!0),f.indexOf("overline")!==-1&&(s.overline=!0),f.indexOf("line-through")!==-1&&(s.linethrough=!0),delete s.textDecoration}"dx"in c&&(s.left+=c.dx),"dy"in c&&(s.top+=c.dy),"fontSize"in s||(s.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in o?v=o.textContent:"firstChild"in o&&o.firstChild!==null&&"data"in o.firstChild&&o.firstChild.data!==null&&(v=o.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var m=s.strokeWidth;s.strokeWidth=0;var _=new i.Text(v,s),x=_.getScaledHeight()/_.height,w=(_.height+_.strokeWidth)*_.lineHeight-_.height,b=w*x,S=_.getScaledHeight()+b,O=0;p==="center"&&(O=_.getScaledWidth()/2),p==="right"&&(O=_.getScaledWidth()),_.set({left:_.left-O,top:_.top-(S-_.fontSize*(.07+_._fontSizeFraction))/_.lineHeight,strokeWidth:typeof m<"u"?m:1}),a(_)},i.Text.fromObject=function(o,a){var s=h(o),c=o.path;return delete s.path,i.Object._fromObject("Text",s,function(p){p.styles=i.util.stylesFromArray(o.styles,o.text),c?i.Object._fromObject("Path",c,function(f){p.set("path",f),a(p)},"path"):a(p)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(u){if(!this.styles||typeof u<"u"&&!this.styles[u])return!0;var i=typeof u>"u"?this.styles:{line:this.styles[u]};for(var h in i)for(var d in i[h])for(var o in i[h][d])return!1;return!0},styleHas:function(u,i){if(!this.styles||!u||u===""||typeof i<"u"&&!this.styles[i])return!1;var h=typeof i>"u"?this.styles:{0:this.styles[i]};for(var d in h)for(var o in h[d])if(typeof h[d][o][u]<"u")return!0;return!1},cleanStyle:function(u){if(!this.styles||!u||u==="")return!1;var i=this.styles,h=0,d,o,a=!0,s=0,c;for(var p in i){d=0;for(var f in i[p]){var c=i[p][f],v=c.hasOwnProperty(u);h++,v?(o?c[u]!==o&&(a=!1):o=c[u],c[u]===this[u]&&delete c[u]):a=!1,Object.keys(c).length!==0?d++:delete i[p][f]}d===0&&delete i[p]}for(var m=0;m<this._textLines.length;m++)s+=this._textLines[m].length;a&&h===s&&(this[u]=o,this.removeStyle(u))},removeStyle:function(u){if(!(!this.styles||!u||u==="")){var i=this.styles,h,d,o;for(d in i){h=i[d];for(o in h)delete h[o][u],Object.keys(h[o]).length===0&&delete h[o];Object.keys(h).length===0&&delete i[d]}}},_extendStyles:function(u,i){var h=this.get2DCursorLocation(u);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),i)},get2DCursorLocation:function(u,i){typeof u>"u"&&(u=this.selectionStart);for(var h=i?this._unwrappedTextLines:this._textLines,d=h.length,o=0;o<d;o++){if(u<=h[o].length)return{lineIndex:o,charIndex:u};u-=h[o].length+this.missingNewlineOffset(o)}return{lineIndex:o-1,charIndex:h[o-1].length<u?h[o-1].length:u}},getSelectionStyles:function(u,i,h){typeof u>"u"&&(u=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||u);for(var d=[],o=u;o<i;o++)d.push(this.getStyleAtPosition(o,h));return d},getStyleAtPosition:function(u,i){var h=this.get2DCursorLocation(u),d=i?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return d||{}},setSelectionStyles:function(u,i,h){typeof i>"u"&&(i=this.selectionStart||0),typeof h>"u"&&(h=this.selectionEnd||i);for(var d=i;d<h;d++)this._extendStyles(d,u);return this._forceClearCache=!0,this},_getStyleDeclaration:function(u,i){var h=this.styles&&this.styles[u];return h?h[i]:null},getCompleteStyleDeclaration:function(u,i){for(var h=this._getStyleDeclaration(u,i)||{},d={},o,a=0;a<this._styleProperties.length;a++)o=this._styleProperties[a],d[o]=typeof h[o]>"u"?this[o]:h[o];return d},_setStyleDeclaration:function(u,i,h){this.styles[u][i]=h},_deleteStyleDeclaration:function(u,i){delete this.styles[u][i]},_getLineStyle:function(u){return!!this.styles[u]},_setLineStyle:function(u){this.styles[u]={}},_deleteLineStyle:function(u){delete this.styles[u]}})}(),function(){function u(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,h){this.callSuper("initialize",i,h),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,h){this[i]!==h&&(this._fireSelectionChanged(),this[i]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,d=this.canvas.viewportTransform;h.save(),h.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this.transform(h),this._clearTextArea(h),i||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,h):this.renderSelection(i,h),h.restore()}},_clearTextArea:function(i){var h=this.width+4,d=this.height+4;i.clearRect(-h/2,-d/2,h,d)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var h=this._getLeftOffset(),d=this._getTopOffset(),o=this._getCursorBoundariesOffsets(i);return{left:h,top:d,leftOffset:o.left,topOffset:o.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,d,o,a=0,s=0,c,p=this.get2DCursorLocation(i);o=p.charIndex,d=p.lineIndex;for(var f=0;f<d;f++)a+=this.getHeightOfLine(f);h=this._getLineLeftOffset(d);var v=this.__charBounds[d][o];return v&&(s=v.left),this.charSpacing!==0&&o===this._textLines[d].length&&(s-=this._getWidthOfCharSpacing()),c={top:a,left:h+(s>0?s:0)},this.direction==="rtl"&&(c.left*=-1),this.cursorOffsetCache=c,this.cursorOffsetCache},renderCursor:function(i,h){var d=this.get2DCursorLocation(),o=d.lineIndex,a=d.charIndex>0?d.charIndex-1:0,s=this.getValueOfPropertyAt(o,a,"fontSize"),c=this.scaleX*this.canvas.getZoom(),p=this.cursorWidth/c,f=i.topOffset,v=this.getValueOfPropertyAt(o,a,"deltaY");f+=(1-this._fontSizeFraction)*this.getHeightOfLine(o)/this.lineHeight-s*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(o,a,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(i.left+i.leftOffset-p/2,f+i.top+v,p,s)},renderSelection:function(i,h){for(var d=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,o=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,a=this.textAlign.indexOf("justify")!==-1,s=this.get2DCursorLocation(d),c=this.get2DCursorLocation(o),p=s.lineIndex,f=c.lineIndex,v=s.charIndex<0?0:s.charIndex,m=c.charIndex<0?0:c.charIndex,_=p;_<=f;_++){var x=this._getLineLeftOffset(_)||0,w=this.getHeightOfLine(_),b=0,S=0,O=0;if(_===p&&(S=this.__charBounds[p][v].left),_>=p&&_<f)O=a&&!this.isEndOfWrapping(_)?this.width:this.getLineWidth(_)||5;else if(_===f)if(m===0)O=this.__charBounds[f][m].left;else{var I=this._getWidthOfCharSpacing();O=this.__charBounds[f][m-1].left+this.__charBounds[f][m-1].width-I}b=w,(this.lineHeight<1||_===f&&this.lineHeight>1)&&(w/=this.lineHeight);var B=i.left+x+S,Q=O-S,ie=w,le=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",ie=1,le=w):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(B=this.width-B-Q),h.fillRect(B,i.top+i.topOffset+le,Q,ie),i.topOffset+=b}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),h=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:h}}}),t.IText.fromObject=function(i,h){var d=t.util.stylesFromArray(i.styles,i.text),o=Object.assign({},i,{styles:d});if(u(o),o.styles)for(var a in o.styles)for(var s in o.styles[a])u(o.styles[a][s]);t.Object._fromObject("IText",o,h,"text")}}(),function(){var u=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var h=i.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,i._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var h=i.canvas;h&&(h._iTextInstances=h._iTextInstances||[],t.util.removeFromArray(h._iTextInstances,i),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,i._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,h,d,o){var a;return a={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",h,{duration:d,onComplete:function(){a.isAborted||i[o]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return a.isAborted}}),a},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var h=this,d=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},d)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var h=0,d=i-1;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)h++,d--;for(;/\S/.test(this._text[d])&&d>-1;)h++,d--;return i-h},findWordBoundaryRight:function(i){var h=0,d=i;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)h++,d++;for(;/\S/.test(this._text[d])&&d<this._text.length;)h++,d++;return i+h},findLineBoundaryLeft:function(i){for(var h=0,d=i-1;!/\n/.test(this._text[d])&&d>-1;)h++,d--;return i-h},findLineBoundaryRight:function(i){for(var h=0,d=i;!/\n/.test(this._text[d])&&d<this._text.length;)h++,d++;return i+h},searchWordBoundary:function(i,h){for(var d=this._text,o=this._reSpace.test(d[i])?i-1:i,a=d[o],s=t.reNonWord;!s.test(a)&&o>0&&o<d.length;)o+=h,a=d[o];return s.test(a)&&(o+=h===1?0:1),o},selectWord:function(i){i=i||this.selectionStart;var h=this.searchWordBoundary(i,-1),d=this.searchWordBoundary(i,1);this.selectionStart=h,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var h=this.findLineBoundaryLeft(i),d=this.findLineBoundaryRight(i);return this.selectionStart=h,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var h=this.getSelectionStartFromPointer(i.e),d=this.selectionStart,o=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||d===o)&&(d===h||o===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==d||this.selectionEnd!==o)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,h,d){var o=d.slice(0,i),a=t.util.string.graphemeSplit(o).length;if(i===h)return{selectionStart:a,selectionEnd:a};var s=d.slice(i,h),c=t.util.string.graphemeSplit(s).length;return{selectionStart:a,selectionEnd:a+c}},fromGraphemeToStringSelection:function(i,h,d){var o=d.slice(0,i),a=o.join("").length;if(i===h)return{selectionStart:a,selectionEnd:a};var s=d.slice(i,h),c=s.join("").length;return{selectionStart:a,selectionEnd:a+c}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(i),d=this.get2DCursorLocation(i),o=d.lineIndex,a=d.charIndex,s=this.getValueOfPropertyAt(o,a,"fontSize")*this.lineHeight,c=h.leftOffset,p=this.calcTransformMatrix(),f={x:h.left+c,y:h.top+h.topOffset+s},v=this.canvas.getRetinaScaling(),m=this.canvas.upperCanvasEl,_=m.width/v,x=m.height/v,w=_-s,b=x-s,S=m.clientWidth/_,O=m.clientHeight/x;return f=t.util.transformPoint(f,p),f=t.util.transformPoint(f,this.canvas.viewportTransform),f.x*=S,f.y*=O,f.x<0&&(f.x=0),f.x>w&&(f.x=w),f.y<0&&(f.y=0),f.y>b&&(f.y=b),f.x+=this.canvas._offset.left,f.y+=this.canvas._offset.top,{left:f.x+"px",top:f.y+"px",fontSize:s+"px",charHeight:s}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,h){var d=this.get2DCursorLocation(i,!0),o=this.get2DCursorLocation(h,!0),a=d.lineIndex,s=d.charIndex,c=o.lineIndex,p=o.charIndex,f,v;if(a!==c){if(this.styles[a])for(f=s;f<this._unwrappedTextLines[a].length;f++)delete this.styles[a][f];if(this.styles[c])for(f=p;f<this._unwrappedTextLines[c].length;f++)v=this.styles[c][f],v&&(this.styles[a]||(this.styles[a]={}),this.styles[a][s+f-p]=v);for(f=a+1;f<=c;f++)delete this.styles[f];this.shiftLineStyles(c,a-c)}else if(this.styles[a]){v=this.styles[a];var m=p-s,_,x;for(f=s;f<p;f++)delete v[f];for(x in this.styles[a])_=parseInt(x,10),_>=p&&(v[_-m]=v[x],delete v[x])}},shiftLineStyles:function(i,h){var d=u(this.styles);for(var o in this.styles){var a=parseInt(o,10);a>i&&(this.styles[a+h]=d[a],d[a-h]||delete this.styles[a])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,h,d,o){var a,s={},c=!1,p=this._unwrappedTextLines[i].length===h;d||(d=1),this.shiftLineStyles(i,d),this.styles[i]&&(a=this.styles[i][h===0?h:h-1]);for(var f in this.styles[i]){var v=parseInt(f,10);v>=h&&(c=!0,s[v-h]=this.styles[i][f],p&&h===0||delete this.styles[i][f])}var m=!1;for(c&&!p&&(this.styles[i+d]=s,m=!0),m&&d--;d>0;)o&&o[d-1]?this.styles[i+d]={0:u(o[d-1])}:a?this.styles[i+d]={0:u(a)}:delete this.styles[i+d],d--;this._forceClearCache=!0},insertCharStyleObject:function(i,h,d,o){this.styles||(this.styles={});var a=this.styles[i],s=a?u(a):{};d||(d=1);for(var c in s){var p=parseInt(c,10);p>=h&&(a[p+d]=s[p],s[p-d]||delete a[p])}if(this._forceClearCache=!0,o){for(;d--;)Object.keys(o[d]).length&&(this.styles[i]||(this.styles[i]={}),this.styles[i][h+d]=u(o[d]));return}if(a)for(var f=a[h?h-1:1];f&&d--;)this.styles[i][h+d]=u(f)},insertNewStyleBlock:function(i,h,d){for(var o=this.get2DCursorLocation(h,!0),a=[0],s=0,c=0;c<i.length;c++)i[c]===`
`?(s++,a[s]=0):a[s]++;a[0]>0&&(this.insertCharStyleObject(o.lineIndex,o.charIndex,a[0],d),d=d&&d.slice(a[0]+1)),s&&this.insertNewlineStyleObject(o.lineIndex,o.charIndex+a[0],s);for(var c=1;c<s;c++)a[c]>0?this.insertCharStyleObject(o.lineIndex+c,0,a[c],d):d&&this.styles[o.lineIndex+c]&&d[0]&&(this.styles[o.lineIndex+c][0]=d[0]),d=d&&d.slice(a[c]+1);a[c]>0&&this.insertCharStyleObject(o.lineIndex+c,0,a[c],d)},setSelectionStartEndWithShift:function(i,h,d){d<=i?(h===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=d):d>i&&d<h?this._selectionDirection==="right"?this.selectionEnd=d:this.selectionStart=d:(h===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=d)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(u){if(this.canvas){this.__newClickTime=+new Date;var i=u.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",u),this._stopEvent(u.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(u){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===u.x&&this.__lastPointer.y===u.y},_stopEvent:function(u){u.preventDefault&&u.preventDefault(),u.stopPropagation&&u.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(u){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(u.e))},tripleClickHandler:function(u){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(u.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(u){!this.canvas||!this.editable||u.e.button&&u.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(u.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(u){!this.canvas||!this.editable||u.e.button&&u.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(u){if(this.__isMousedown=!1,!(!this.editable||this.group||u.transform&&u.transform.actionPerformed||u.e.button&&u.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(u.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(u){var i=this.getSelectionStartFromPointer(u),h=this.selectionStart,d=this.selectionEnd;u.shiftKey?this.setSelectionStartEndWithShift(h,d,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(u){for(var i=this.getLocalPointer(u),h=0,d=0,o=0,a=0,s=0,c,p,f=0,v=this._textLines.length;f<v&&o<=i.y;f++)o+=this.getHeightOfLine(f)*this.scaleY,s=f,f>0&&(a+=this._textLines[f-1].length+this.missingNewlineOffset(f-1));c=this._getLineLeftOffset(s),d=c*this.scaleX,p=this._textLines[s],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+d);for(var m=0,_=p.length;m<_&&(h=d,d+=this.__charBounds[s][m].kernedWidth*this.scaleX,d<=i.x);m++)a++;return this._getNewSelectionStartFromOffset(i,h,d,a,_)},_getNewSelectionStartFromOffset:function(u,i,h,d,o){var a=u.x-i,s=h-u.x,c=s>a||s<0?0:1,p=d+c;return this.flipX&&(p=o-p),p>this._text.length&&(p=this._text.length),p}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var u=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+u.top+"; left: "+u.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+u.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(u){if(this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(u.keyCode in i)this[i[u.keyCode]](u);else if(u.keyCode in this.ctrlKeysMapDown&&(u.ctrlKey||u.metaKey))this[this.ctrlKeysMapDown[u.keyCode]](u);else return;u.stopImmediatePropagation(),u.preventDefault(),u.keyCode>=33&&u.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(u){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(u.keyCode in this.ctrlKeysMapUp&&(u.ctrlKey||u.metaKey))this[this.ctrlKeysMapUp[u.keyCode]](u);else return;u.stopImmediatePropagation(),u.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(u){var i=this.fromPaste;if(this.fromPaste=!1,u&&u.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,d=this._text.length,o=h.length,a,s,c=o-d,p=this.selectionStart,f=this.selectionEnd,v=p!==f,m,_,x;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),b=p>w.selectionStart;v?(a=this._text.slice(p,f),c+=f-p):o<d&&(b?a=this._text.slice(f+c,f):a=this._text.slice(p,p-c)),s=h.slice(w.selectionEnd-c,w.selectionEnd),a&&a.length&&(s.length&&(m=this.getSelectionStyles(p,p+1,!1),m=s.map(function(){return m[0]})),v?(_=p,x=f):b?(_=f-a.length,x=f):(_=f,x=f+a.length),this.removeStyleFromTo(_,x)),s.length&&(i&&s.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(m=t.copiedTextStyle),this.insertNewStyleBlock(s,p,m)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(u){this.compositionStart=u.target.selectionStart,this.compositionEnd=u.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(u){return u&&u.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(u,i){var h=this._getLineLeftOffset(u),d;return i>0&&(d=this.__charBounds[u][i-1],h+=d.left+d.width),h},getDownCursorOffset:function(u,i){var h=this._getSelectionForOffset(u,i),d=this.get2DCursorLocation(h),o=d.lineIndex;if(o===this._textLines.length-1||u.metaKey||u.keyCode===34)return this._text.length-h;var a=d.charIndex,s=this._getWidthBeforeCursor(o,a),c=this._getIndexOnLine(o+1,s),p=this._textLines[o].slice(a);return p.length+c+1+this.missingNewlineOffset(o)},_getSelectionForOffset:function(u,i){return u.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(u,i){var h=this._getSelectionForOffset(u,i),d=this.get2DCursorLocation(h),o=d.lineIndex;if(o===0||u.metaKey||u.keyCode===33)return-h;var a=d.charIndex,s=this._getWidthBeforeCursor(o,a),c=this._getIndexOnLine(o-1,s),p=this._textLines[o].slice(0,a),f=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+c-p.length+(1-f)},_getIndexOnLine:function(u,i){for(var h=this._textLines[u],d=this._getLineLeftOffset(u),o=d,a=0,s,c,p=0,f=h.length;p<f;p++)if(s=this.__charBounds[u][p].width,o+=s,o>i){c=!0;var v=o-s,m=o,_=Math.abs(v-i),x=Math.abs(m-i);a=x<_?p:p-1;break}return c||(a=h.length-1),a},moveCursorDown:function(u){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",u)},moveCursorUp:function(u){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",u)},_moveCursorUpOrDown:function(u,i){var h="get"+u+"CursorOffset",d=this[h](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(d):this.moveCursorWithoutShift(d),d!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(u){var i=this._selectionDirection==="left"?this.selectionStart+u:this.selectionEnd+u;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),u!==0},moveCursorWithoutShift:function(u){return u<0?(this.selectionStart+=u,this.selectionEnd=this.selectionStart):(this.selectionEnd+=u,this.selectionStart=this.selectionEnd),u!==0},moveCursorLeft:function(u){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",u)},_move:function(u,i,h){var d;if(u.altKey)d=this["findWordBoundary"+h](this[i]);else if(u.metaKey||u.keyCode===35||u.keyCode===36)d=this["findLineBoundary"+h](this[i]);else return this[i]+=h==="Left"?-1:1,!0;if(typeof d<"u"&&this[i]!==d)return this[i]=d,!0},_moveLeft:function(u,i){return this._move(u,i,"Left")},_moveRight:function(u,i){return this._move(u,i,"Right")},moveCursorLeftWithoutShift:function(u){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(u,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(u){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(u,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(u,"selectionStart")},moveCursorRight:function(u){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",u)},_moveCursorLeftOrRight:function(u,i){var h="moveCursor"+u+"With";this._currentCursorOpacity=1,i.shiftKey?h+="Shift":h+="outShift",this[h](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(u){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(u,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(u,"selectionEnd")},moveCursorRightWithoutShift:function(u){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(u,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(u,i){typeof i>"u"&&(i=u+1),this.removeStyleFromTo(u,i),this._text.splice(u,i-u),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(u,i,h,d){typeof d>"u"&&(d=h),d>h&&this.removeStyleFromTo(h,d);var o=t.util.string.graphemeSplit(u);this.insertNewStyleBlock(o,h,i),this._text=[].concat(this._text.slice(0,h),o,this._text.slice(d)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var u=t.util.toFixed,i=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),d=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(d)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var d=!0,o=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",o?'text-decoration="'+o+'" ':"",'style="',this.getSvgStyles(d),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,d){var o=[],a=[],s=h,c;this._setSVGBg(a);for(var p=0,f=this._textLines.length;p<f;p++)c=this._getLineLeftOffset(p),(this.textBackgroundColor||this.styleHas("textBackgroundColor",p))&&this._setSVGTextLineBg(a,p,d+c,s),this._setSVGTextLineText(o,p,d+c,s),s+=this.getHeightOfLine(p);return{textSpans:o,textBgRects:a}},_createTextCharSpan:function(h,d,o,a){var s=h!==h.trim()||h.match(i),c=this.getSvgSpanStyles(d,s),p=c?'style="'+c+'"':"",f=d.deltaY,v="",m=t.Object.NUM_FRACTION_DIGITS;return f&&(v=' dy="'+u(f,m)+'" '),['<tspan x="',u(o,m),'" y="',u(a,m),'" ',v,p,">",t.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,d,o,a){var s=this.getHeightOfLine(d),c=this.textAlign.indexOf("justify")!==-1,p,f,v="",m,_,x=0,w=this._textLines[d],b;a+=s*(1-this._fontSizeFraction)/this.lineHeight;for(var S=0,O=w.length-1;S<=O;S++)b=S===O||this.charSpacing,v+=w[S],m=this.__charBounds[d][S],x===0?(o+=m.kernedWidth-m.width,x+=m.width):x+=m.kernedWidth,c&&!b&&this._reSpaceAndTab.test(w[S])&&(b=!0),b||(p=p||this.getCompleteStyleDeclaration(d,S),f=this.getCompleteStyleDeclaration(d,S+1),b=t.util.hasStyleChanged(p,f,!0)),b&&(_=this._getStyleDeclaration(d,S)||{},h.push(this._createTextCharSpan(v,_,o,a)),v="",p=f,o+=x,x=0)},_pushTextBgRect:function(h,d,o,a,s,c){var p=t.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(d),' x="',u(o,p),'" y="',u(a,p),'" width="',u(s,p),'" height="',u(c,p),`"></rect>
`)},_setSVGTextLineBg:function(h,d,o,a){for(var s=this._textLines[d],c=this.getHeightOfLine(d)/this.lineHeight,p=0,f=0,v,m,_=this.getValueOfPropertyAt(d,0,"textBackgroundColor"),x=0,w=s.length;x<w;x++)v=this.__charBounds[d][x],m=this.getValueOfPropertyAt(d,x,"textBackgroundColor"),m!==_?(_&&this._pushTextBgRect(h,_,o+f,a,p,c),f=v.left,p=v.width,_=m):p+=v.kernedWidth;m&&this._pushTextBgRect(h,m,o+f,a,p,c)},_getFillAttributes:function(h){var d=h&&typeof h=="string"?new t.Color(h):"";return!d||!d.getSource()||d.getAlpha()===1?'fill="'+h+'"':'opacity="'+d.getAlpha()+'" fill="'+d.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var d=0,o=0,a=0;a<h;a++)d+=this.getHeightOfLine(a);return o=this.getHeightOfLine(a),{lineTop:d,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var d=t.Object.prototype.getSvgStyles.call(this,h);return d+" white-space: pre;"}})}(),function(u){var i=u.fabric||(u.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var d=0,o=0,a=0,s={},c=0;c<h.graphemeLines.length;c++)h.graphemeText[a]===`
`&&c>0?(o=0,a++,d++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[a])&&c>0&&(o++,a++),s[c]={line:d,offset:o},a+=h.graphemeLines[c].length,o+=h.graphemeLines[c].length;return s},styleHas:function(h,d){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[d];o&&(d=o.line)}return i.Text.prototype.styleHas.call(this,h,d)},isEmptyStyles:function(h){if(!this.styles)return!0;var d=0,o=h+1,a,s,c=!1,p=this._styleMap[h],f=this._styleMap[h+1];p&&(h=p.line,d=p.offset),f&&(o=f.line,c=o===h,a=f.offset),s=typeof h>"u"?this.styles:{line:this.styles[h]};for(var v in s)for(var m in s[v])if(m>=d&&(!c||m<a))for(var _ in s[v][m])return!1;return!0},_getStyleDeclaration:function(h,d){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[h];if(!o)return null;h=o.line,d=o.offset+d}return this.callSuper("_getStyleDeclaration",h,d)},_setStyleDeclaration:function(h,d,o){var a=this._styleMap[h];h=a.line,d=a.offset+d,this.styles[h][d]=o},_deleteStyleDeclaration:function(h,d){var o=this._styleMap[h];h=o.line,d=o.offset+d,delete this.styles[h][d]},_getLineStyle:function(h){var d=this._styleMap[h];return!!this.styles[d.line]},_setLineStyle:function(h){var d=this._styleMap[h];this.styles[d.line]={}},_wrapText:function(h,d){var o=[],a;for(this.isWrapping=!0,a=0;a<h.length;a++)o=o.concat(this._wrapLine(h[a],a,d));return this.isWrapping=!1,o},_measureWord:function(h,d,o){var a=0,s,c=!0;o=o||0;for(var p=0,f=h.length;p<f;p++){var v=this._getGraphemeBox(h[p],d,p+o,s,c);a+=v.kernedWidth,s=h[p]}return a},_wrapLine:function(h,d,o,B){var s=0,c=this.splitByGrapheme,p=[],f=[],v=c?i.util.string.graphemeSplit(h):h.split(this._wordJoiners),m="",_=0,x=c?"":" ",w=0,b=0,S=0,O=!0,I=this._getWidthOfCharSpacing(),B=B||0;v.length===0&&v.push([]),o-=B;for(var Q=0;Q<v.length;Q++)m=c?v[Q]:i.util.string.graphemeSplit(v[Q]),w=this._measureWord(m,d,_),_+=m.length,s+=b+w-I,s>o&&!O?(p.push(f),f=[],s=w,O=!0):s+=I,!O&&!c&&f.push(x),f=f.concat(m),b=c?0:this._measureWord([x],d,_),_++,O=!1,w>S&&(S=w);return Q&&p.push(f),S+B>this.dynamicMinWidth&&(this.dynamicMinWidth=S-I+B),p},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var d=i.Text.prototype._splitTextIntoLines.call(this,h),o=this._wrapText(d.lines,this.width),a=new Array(o.length),s=0;s<o.length;s++)a[s]=o[s].join("");return d.lines=a,d.graphemeLines=o,d},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var d in this._styleMap)this._textLines[d]&&(h[this._styleMap[d].line]=1);for(var d in this.styles)h[d]||delete this.styles[d]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),i.Textbox.fromObject=function(h,d){var o=i.util.stylesFromArray(h.styles,h.text),a=Object.assign({},h,{styles:o});return i.Object._fromObject("Textbox",a,d,"text")}}(e),function(){var u=t.controlsUtils,i=u.scaleSkewCursorStyleHandler,h=u.scaleCursorStyleHandler,d=u.scalingEqually,o=u.scalingYOrSkewingX,a=u.scalingXOrSkewingY,s=u.scaleOrSkewActionName,c=t.Object.prototype.controls;if(c.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:a,getActionName:s}),c.mr=new t.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:a,getActionName:s}),c.mb=new t.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:o,getActionName:s}),c.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:o,getActionName:s}),c.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:d}),c.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:d}),c.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:d}),c.br=new t.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:d}),c.mtr=new t.Control({x:0,y:-.5,actionHandler:u.rotationWithSnapping,cursorStyleHandler:u.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var p=t.Textbox.prototype.controls={};p.mtr=c.mtr,p.tr=c.tr,p.br=c.br,p.tl=c.tl,p.bl=c.bl,p.mt=c.mt,p.mb=c.mb,p.mr=new t.Control({x:.5,y:0,actionHandler:u.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),p.ml=new t.Control({x:-.5,y:0,actionHandler:u.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(ar);const c_=({className:e,onReady:t})=>{const r=ne.useRef(null),n=ne.useRef(null),l=ne.useRef(0),g=ne.useRef(0);return ne.useEffect(()=>{const y=new ar.fabric.Canvas(r.current,{preserveObjectStacking:!0}),u=()=>{var c,p;(!l.current||!g.current)&&(l.current=y.getWidth(),g.current=y.getHeight());const h=l.current,d=g.current,o=((c=n.current)==null?void 0:c.clientWidth)||0,a=((p=n.current)==null?void 0:p.clientHeight)||0,s=Math.min(o/h,a/d);y.setDimensions({width:h*s,height:d*s}),y.setZoom(s),y.renderAll()};return(()=>{var h,d;y.setHeight(((h=n.current)==null?void 0:h.clientHeight)||0),y.setWidth(((d=n.current)==null?void 0:d.clientWidth)||0),y.renderAll()})(),window.addEventListener("resize",u,!1),t&&t(y),()=>{y.dispose(),window.removeEventListener("resize",u)}},[]),Se("div",{ref:n,className:e,children:Se("canvas",{ref:r})})},h_=({options:e,activeOption:t,handleChange:r,titleText:n})=>{const l=g=>{r(g.target.value)};return Bt("fieldset",{children:[Se("h2",{className:"text-white mb-1",children:n}),e==null?void 0:e.map((g,y)=>Bt("div",{className:"flex items-center mb-2",children:[Se("input",{type:"radio",name:"Layout",value:g,className:"h-4 w-4 border-gray-300 focus:ring-2 focus:ring-blue-300","aria-labelledby":`${g}-${y}`,"aria-describedby":`${g}-${y}`,checked:t===g,onChange:l}),Se("label",{htmlFor:`${g}-${y}`,className:"text-sm font-medium text-white ml-2 block",children:g})]},`${g}-${y}`))]})};var Ot={},Ra={},f_=typeof Wa=="object"&&Wa&&Wa.Object===Object&&Wa,Gv=f_,d_=Gv,p_=typeof self=="object"&&self&&self.Object===Object&&self,g_=d_||p_||Function("return this")(),Qt=g_,v_=Qt,m_=v_.Symbol,La=m_,jf=La,Yv=Object.prototype,y_=Yv.hasOwnProperty,__=Yv.toString,ji=jf?jf.toStringTag:void 0;function x_(e){var t=y_.call(e,ji),r=e[ji];try{e[ji]=void 0;var n=!0}catch{}var l=__.call(e);return n&&(t?e[ji]=r:delete e[ji]),l}var w_=x_,b_=Object.prototype,C_=b_.toString;function S_(e){return C_.call(e)}var T_=S_,If=La,E_=w_,O_=T_,P_="[object Null]",k_="[object Undefined]",Bf=If?If.toStringTag:void 0;function A_(e){return e==null?e===void 0?k_:P_:Bf&&Bf in Object(e)?E_(e):O_(e)}var fn=A_,M_=Array.isArray,Ut=M_;function D_(e){return e!=null&&typeof e=="object"}var hr=D_,F_=fn,R_=Ut,L_=hr,$_="[object String]";function j_(e){return typeof e=="string"||!R_(e)&&L_(e)&&F_(e)==$_}var I_=j_;function B_(e){return function(t,r,n){for(var l=-1,g=Object(t),y=n(t),u=y.length;u--;){var i=y[e?u:++l];if(r(g[i],i,g)===!1)break}return t}}var N_=B_,z_=N_,H_=z_(),U_=H_;function W_(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var X_=W_,G_=fn,Y_=hr,V_="[object Arguments]";function K_(e){return Y_(e)&&G_(e)==V_}var q_=K_,Nf=q_,Q_=hr,Vv=Object.prototype,J_=Vv.hasOwnProperty,Z_=Vv.propertyIsEnumerable,ex=Nf(function(){return arguments}())?Nf:function(e){return Q_(e)&&J_.call(e,"callee")&&!Z_.call(e,"callee")},Kv=ex,hi={},tx={get exports(){return hi},set exports(e){hi=e}};function rx(){return!1}var nx=rx;(function(e,t){var r=Qt,n=nx,l=t&&!t.nodeType&&t,g=l&&!0&&e&&!e.nodeType&&e,y=g&&g.exports===l,u=y?r.Buffer:void 0,i=u?u.isBuffer:void 0,h=i||n;e.exports=h})(tx,hi);var ix=9007199254740991,ax=/^(?:0|[1-9]\d*)$/;function ox(e,t){var r=typeof e;return t=t??ix,!!t&&(r=="number"||r!="symbol"&&ax.test(e))&&e>-1&&e%1==0&&e<t}var qv=ox,sx=9007199254740991;function lx(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=sx}var Dc=lx,ux=fn,cx=Dc,hx=hr,fx="[object Arguments]",dx="[object Array]",px="[object Boolean]",gx="[object Date]",vx="[object Error]",mx="[object Function]",yx="[object Map]",_x="[object Number]",xx="[object Object]",wx="[object RegExp]",bx="[object Set]",Cx="[object String]",Sx="[object WeakMap]",Tx="[object ArrayBuffer]",Ex="[object DataView]",Ox="[object Float32Array]",Px="[object Float64Array]",kx="[object Int8Array]",Ax="[object Int16Array]",Mx="[object Int32Array]",Dx="[object Uint8Array]",Fx="[object Uint8ClampedArray]",Rx="[object Uint16Array]",Lx="[object Uint32Array]",ke={};ke[Ox]=ke[Px]=ke[kx]=ke[Ax]=ke[Mx]=ke[Dx]=ke[Fx]=ke[Rx]=ke[Lx]=!0;ke[fx]=ke[dx]=ke[Tx]=ke[px]=ke[Ex]=ke[gx]=ke[vx]=ke[mx]=ke[yx]=ke[_x]=ke[xx]=ke[wx]=ke[bx]=ke[Cx]=ke[Sx]=!1;function $x(e){return hx(e)&&cx(e.length)&&!!ke[ux(e)]}var jx=$x;function Ix(e){return function(t){return e(t)}}var Fc=Ix,fi={},Bx={get exports(){return fi},set exports(e){fi=e}};(function(e,t){var r=Gv,n=t&&!t.nodeType&&t,l=n&&!0&&e&&!e.nodeType&&e,g=l&&l.exports===n,y=g&&r.process,u=function(){try{var i=l&&l.require&&l.require("util").types;return i||y&&y.binding&&y.binding("util")}catch{}}();e.exports=u})(Bx,fi);var Nx=jx,zx=Fc,zf=fi,Hf=zf&&zf.isTypedArray,Hx=Hf?zx(Hf):Nx,Qv=Hx,Ux=X_,Wx=Kv,Xx=Ut,Gx=hi,Yx=qv,Vx=Qv,Kx=Object.prototype,qx=Kx.hasOwnProperty;function Qx(e,t){var r=Xx(e),n=!r&&Wx(e),l=!r&&!n&&Gx(e),g=!r&&!n&&!l&&Vx(e),y=r||n||l||g,u=y?Ux(e.length,String):[],i=u.length;for(var h in e)(t||qx.call(e,h))&&!(y&&(h=="length"||l&&(h=="offset"||h=="parent")||g&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Yx(h,i)))&&u.push(h);return u}var Jv=Qx,Jx=Object.prototype;function Zx(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Jx;return e===r}var Rc=Zx;function ew(e,t){return function(r){return e(t(r))}}var Zv=ew,tw=Zv,rw=tw(Object.keys,Object),nw=rw,iw=Rc,aw=nw,ow=Object.prototype,sw=ow.hasOwnProperty;function lw(e){if(!iw(e))return aw(e);var t=[];for(var r in Object(e))sw.call(e,r)&&r!="constructor"&&t.push(r);return t}var uw=lw;function cw(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var vi=cw,hw=fn,fw=vi,dw="[object AsyncFunction]",pw="[object Function]",gw="[object GeneratorFunction]",vw="[object Proxy]";function mw(e){if(!fw(e))return!1;var t=hw(e);return t==pw||t==gw||t==dw||t==vw}var e0=mw,yw=e0,_w=Dc;function xw(e){return e!=null&&_w(e.length)&&!yw(e)}var bs=xw,ww=Jv,bw=uw,Cw=bs;function Sw(e){return Cw(e)?ww(e):bw(e)}var $a=Sw,Tw=U_,Ew=$a;function Ow(e,t){return e&&Tw(e,t,Ew)}var t0=Ow;function Pw(e){return e}var r0=Pw,kw=r0;function Aw(e){return typeof e=="function"?e:kw}var Mw=Aw,Dw=t0,Fw=Mw;function Rw(e,t){return e&&Dw(e,Fw(t))}var Lc=Rw,Lw=Zv,$w=Lw(Object.getPrototypeOf,Object),$c=$w,jw=fn,Iw=$c,Bw=hr,Nw="[object Object]",zw=Function.prototype,Hw=Object.prototype,n0=zw.toString,Uw=Hw.hasOwnProperty,Ww=n0.call(Object);function Xw(e){if(!Bw(e)||jw(e)!=Nw)return!1;var t=Iw(e);if(t===null)return!0;var r=Uw.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&n0.call(r)==Ww}var Gw=Xw;function Yw(e,t){for(var r=-1,n=e==null?0:e.length,l=Array(n);++r<n;)l[r]=t(e[r],r,e);return l}var i0=Yw;function Vw(){this.__data__=[],this.size=0}var Kw=Vw;function qw(e,t){return e===t||e!==e&&t!==t}var jc=qw,Qw=jc;function Jw(e,t){for(var r=e.length;r--;)if(Qw(e[r][0],t))return r;return-1}var Cs=Jw,Zw=Cs,eb=Array.prototype,tb=eb.splice;function rb(e){var t=this.__data__,r=Zw(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():tb.call(t,r,1),--this.size,!0}var nb=rb,ib=Cs;function ab(e){var t=this.__data__,r=ib(t,e);return r<0?void 0:t[r][1]}var ob=ab,sb=Cs;function lb(e){return sb(this.__data__,e)>-1}var ub=lb,cb=Cs;function hb(e,t){var r=this.__data__,n=cb(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var fb=hb,db=Kw,pb=nb,gb=ob,vb=ub,mb=fb;function mi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mi.prototype.clear=db;mi.prototype.delete=pb;mi.prototype.get=gb;mi.prototype.has=vb;mi.prototype.set=mb;var Ss=mi,yb=Ss;function _b(){this.__data__=new yb,this.size=0}var xb=_b;function wb(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var bb=wb;function Cb(e){return this.__data__.get(e)}var Sb=Cb;function Tb(e){return this.__data__.has(e)}var Eb=Tb,Ob=Qt,Pb=Ob["__core-js_shared__"],kb=Pb,pl=kb,Uf=function(){var e=/[^.]+$/.exec(pl&&pl.keys&&pl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ab(e){return!!Uf&&Uf in e}var Mb=Ab,Db=Function.prototype,Fb=Db.toString;function Rb(e){if(e!=null){try{return Fb.call(e)}catch{}try{return e+""}catch{}}return""}var a0=Rb,Lb=e0,$b=Mb,jb=vi,Ib=a0,Bb=/[\\^$.*+?()[\]{}|]/g,Nb=/^\[object .+?Constructor\]$/,zb=Function.prototype,Hb=Object.prototype,Ub=zb.toString,Wb=Hb.hasOwnProperty,Xb=RegExp("^"+Ub.call(Wb).replace(Bb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Gb(e){if(!jb(e)||$b(e))return!1;var t=Lb(e)?Xb:Nb;return t.test(Ib(e))}var Yb=Gb;function Vb(e,t){return e==null?void 0:e[t]}var Kb=Vb,qb=Yb,Qb=Kb;function Jb(e,t){var r=Qb(e,t);return qb(r)?r:void 0}var dn=Jb,Zb=dn,eC=Qt,tC=Zb(eC,"Map"),Ic=tC,rC=dn,nC=rC(Object,"create"),Ts=nC,Wf=Ts;function iC(){this.__data__=Wf?Wf(null):{},this.size=0}var aC=iC;function oC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var sC=oC,lC=Ts,uC="__lodash_hash_undefined__",cC=Object.prototype,hC=cC.hasOwnProperty;function fC(e){var t=this.__data__;if(lC){var r=t[e];return r===uC?void 0:r}return hC.call(t,e)?t[e]:void 0}var dC=fC,pC=Ts,gC=Object.prototype,vC=gC.hasOwnProperty;function mC(e){var t=this.__data__;return pC?t[e]!==void 0:vC.call(t,e)}var yC=mC,_C=Ts,xC="__lodash_hash_undefined__";function wC(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_C&&t===void 0?xC:t,this}var bC=wC,CC=aC,SC=sC,TC=dC,EC=yC,OC=bC;function yi(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yi.prototype.clear=CC;yi.prototype.delete=SC;yi.prototype.get=TC;yi.prototype.has=EC;yi.prototype.set=OC;var PC=yi,Xf=PC,kC=Ss,AC=Ic;function MC(){this.size=0,this.__data__={hash:new Xf,map:new(AC||kC),string:new Xf}}var DC=MC;function FC(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var RC=FC,LC=RC;function $C(e,t){var r=e.__data__;return LC(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Es=$C,jC=Es;function IC(e){var t=jC(this,e).delete(e);return this.size-=t?1:0,t}var BC=IC,NC=Es;function zC(e){return NC(this,e).get(e)}var HC=zC,UC=Es;function WC(e){return UC(this,e).has(e)}var XC=WC,GC=Es;function YC(e,t){var r=GC(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var VC=YC,KC=DC,qC=BC,QC=HC,JC=XC,ZC=VC;function _i(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_i.prototype.clear=KC;_i.prototype.delete=qC;_i.prototype.get=QC;_i.prototype.has=JC;_i.prototype.set=ZC;var Bc=_i,eS=Ss,tS=Ic,rS=Bc,nS=200;function iS(e,t){var r=this.__data__;if(r instanceof eS){var n=r.__data__;if(!tS||n.length<nS-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new rS(n)}return r.set(e,t),this.size=r.size,this}var aS=iS,oS=Ss,sS=xb,lS=bb,uS=Sb,cS=Eb,hS=aS;function xi(e){var t=this.__data__=new oS(e);this.size=t.size}xi.prototype.clear=sS;xi.prototype.delete=lS;xi.prototype.get=uS;xi.prototype.has=cS;xi.prototype.set=hS;var Nc=xi,fS="__lodash_hash_undefined__";function dS(e){return this.__data__.set(e,fS),this}var pS=dS;function gS(e){return this.__data__.has(e)}var vS=gS,mS=Bc,yS=pS,_S=vS;function Qo(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new mS;++t<r;)this.add(e[t])}Qo.prototype.add=Qo.prototype.push=yS;Qo.prototype.has=_S;var xS=Qo;function wS(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var bS=wS;function CS(e,t){return e.has(t)}var SS=CS,TS=xS,ES=bS,OS=SS,PS=1,kS=2;function AS(e,t,r,n,l,g){var y=r&PS,u=e.length,i=t.length;if(u!=i&&!(y&&i>u))return!1;var h=g.get(e),d=g.get(t);if(h&&d)return h==t&&d==e;var o=-1,a=!0,s=r&kS?new TS:void 0;for(g.set(e,t),g.set(t,e);++o<u;){var c=e[o],p=t[o];if(n)var f=y?n(p,c,o,t,e,g):n(c,p,o,e,t,g);if(f!==void 0){if(f)continue;a=!1;break}if(s){if(!ES(t,function(v,m){if(!OS(s,m)&&(c===v||l(c,v,r,n,g)))return s.push(m)})){a=!1;break}}else if(!(c===p||l(c,p,r,n,g))){a=!1;break}}return g.delete(e),g.delete(t),a}var o0=AS,MS=Qt,DS=MS.Uint8Array,s0=DS;function FS(e){var t=-1,r=Array(e.size);return e.forEach(function(n,l){r[++t]=[l,n]}),r}var RS=FS;function LS(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var $S=LS,Gf=La,Yf=s0,jS=jc,IS=o0,BS=RS,NS=$S,zS=1,HS=2,US="[object Boolean]",WS="[object Date]",XS="[object Error]",GS="[object Map]",YS="[object Number]",VS="[object RegExp]",KS="[object Set]",qS="[object String]",QS="[object Symbol]",JS="[object ArrayBuffer]",ZS="[object DataView]",Vf=Gf?Gf.prototype:void 0,gl=Vf?Vf.valueOf:void 0;function e2(e,t,r,n,l,g,y){switch(r){case ZS:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case JS:return!(e.byteLength!=t.byteLength||!g(new Yf(e),new Yf(t)));case US:case WS:case YS:return jS(+e,+t);case XS:return e.name==t.name&&e.message==t.message;case VS:case qS:return e==t+"";case GS:var u=BS;case KS:var i=n&zS;if(u||(u=NS),e.size!=t.size&&!i)return!1;var h=y.get(e);if(h)return h==t;n|=HS,y.set(e,t);var d=IS(u(e),u(t),n,l,g,y);return y.delete(e),d;case QS:if(gl)return gl.call(e)==gl.call(t)}return!1}var t2=e2;function r2(e,t){for(var r=-1,n=t.length,l=e.length;++r<n;)e[l+r]=t[r];return e}var l0=r2,n2=l0,i2=Ut;function a2(e,t,r){var n=t(e);return i2(e)?n:n2(n,r(e))}var u0=a2;function o2(e,t){for(var r=-1,n=e==null?0:e.length,l=0,g=[];++r<n;){var y=e[r];t(y,r,e)&&(g[l++]=y)}return g}var s2=o2;function l2(){return[]}var c0=l2,u2=s2,c2=c0,h2=Object.prototype,f2=h2.propertyIsEnumerable,Kf=Object.getOwnPropertySymbols,d2=Kf?function(e){return e==null?[]:(e=Object(e),u2(Kf(e),function(t){return f2.call(e,t)}))}:c2,zc=d2,p2=u0,g2=zc,v2=$a;function m2(e){return p2(e,v2,g2)}var h0=m2,qf=h0,y2=1,_2=Object.prototype,x2=_2.hasOwnProperty;function w2(e,t,r,n,l,g){var y=r&y2,u=qf(e),i=u.length,h=qf(t),d=h.length;if(i!=d&&!y)return!1;for(var o=i;o--;){var a=u[o];if(!(y?a in t:x2.call(t,a)))return!1}var s=g.get(e),c=g.get(t);if(s&&c)return s==t&&c==e;var p=!0;g.set(e,t),g.set(t,e);for(var f=y;++o<i;){a=u[o];var v=e[a],m=t[a];if(n)var _=y?n(m,v,a,t,e,g):n(v,m,a,e,t,g);if(!(_===void 0?v===m||l(v,m,r,n,g):_)){p=!1;break}f||(f=a=="constructor")}if(p&&!f){var x=e.constructor,w=t.constructor;x!=w&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof w=="function"&&w instanceof w)&&(p=!1)}return g.delete(e),g.delete(t),p}var b2=w2,C2=dn,S2=Qt,T2=C2(S2,"DataView"),E2=T2,O2=dn,P2=Qt,k2=O2(P2,"Promise"),A2=k2,M2=dn,D2=Qt,F2=M2(D2,"Set"),R2=F2,L2=dn,$2=Qt,j2=L2($2,"WeakMap"),I2=j2,Su=E2,Tu=Ic,Eu=A2,Ou=R2,Pu=I2,f0=fn,wi=a0,Qf="[object Map]",B2="[object Object]",Jf="[object Promise]",Zf="[object Set]",ed="[object WeakMap]",td="[object DataView]",N2=wi(Su),z2=wi(Tu),H2=wi(Eu),U2=wi(Ou),W2=wi(Pu),Yr=f0;(Su&&Yr(new Su(new ArrayBuffer(1)))!=td||Tu&&Yr(new Tu)!=Qf||Eu&&Yr(Eu.resolve())!=Jf||Ou&&Yr(new Ou)!=Zf||Pu&&Yr(new Pu)!=ed)&&(Yr=function(e){var t=f0(e),r=t==B2?e.constructor:void 0,n=r?wi(r):"";if(n)switch(n){case N2:return td;case z2:return Qf;case H2:return Jf;case U2:return Zf;case W2:return ed}return t});var Os=Yr,vl=Nc,X2=o0,G2=t2,Y2=b2,rd=Os,nd=Ut,id=hi,V2=Qv,K2=1,ad="[object Arguments]",od="[object Array]",lo="[object Object]",q2=Object.prototype,sd=q2.hasOwnProperty;function Q2(e,t,r,n,l,g){var y=nd(e),u=nd(t),i=y?od:rd(e),h=u?od:rd(t);i=i==ad?lo:i,h=h==ad?lo:h;var d=i==lo,o=h==lo,a=i==h;if(a&&id(e)){if(!id(t))return!1;y=!0,d=!1}if(a&&!d)return g||(g=new vl),y||V2(e)?X2(e,t,r,n,l,g):G2(e,t,i,r,n,l,g);if(!(r&K2)){var s=d&&sd.call(e,"__wrapped__"),c=o&&sd.call(t,"__wrapped__");if(s||c){var p=s?e.value():e,f=c?t.value():t;return g||(g=new vl),l(p,f,r,n,g)}}return a?(g||(g=new vl),Y2(e,t,r,n,l,g)):!1}var J2=Q2,Z2=J2,ld=hr;function d0(e,t,r,n,l){return e===t?!0:e==null||t==null||!ld(e)&&!ld(t)?e!==e&&t!==t:Z2(e,t,r,n,d0,l)}var p0=d0,eT=Nc,tT=p0,rT=1,nT=2;function iT(e,t,r,n){var l=r.length,g=l,y=!n;if(e==null)return!g;for(e=Object(e);l--;){var u=r[l];if(y&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++l<g;){u=r[l];var i=u[0],h=e[i],d=u[1];if(y&&u[2]){if(h===void 0&&!(i in e))return!1}else{var o=new eT;if(n)var a=n(h,d,i,e,t,o);if(!(a===void 0?tT(d,h,rT|nT,n,o):a))return!1}}return!0}var aT=iT,oT=vi;function sT(e){return e===e&&!oT(e)}var g0=sT,lT=g0,uT=$a;function cT(e){for(var t=uT(e),r=t.length;r--;){var n=t[r],l=e[n];t[r]=[n,l,lT(l)]}return t}var hT=cT;function fT(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var v0=fT,dT=aT,pT=hT,gT=v0;function vT(e){var t=pT(e);return t.length==1&&t[0][2]?gT(t[0][0],t[0][1]):function(r){return r===e||dT(r,e,t)}}var mT=vT,yT=fn,_T=hr,xT="[object Symbol]";function wT(e){return typeof e=="symbol"||_T(e)&&yT(e)==xT}var Hc=wT,bT=Ut,CT=Hc,ST=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TT=/^\w*$/;function ET(e,t){if(bT(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||CT(e)?!0:TT.test(e)||!ST.test(e)||t!=null&&e in Object(t)}var Uc=ET,m0=Bc,OT="Expected a function";function Wc(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(OT);var r=function(){var n=arguments,l=t?t.apply(this,n):n[0],g=r.cache;if(g.has(l))return g.get(l);var y=e.apply(this,n);return r.cache=g.set(l,y)||g,y};return r.cache=new(Wc.Cache||m0),r}Wc.Cache=m0;var PT=Wc,kT=PT,AT=500;function MT(e){var t=kT(e,function(n){return r.size===AT&&r.clear(),n}),r=t.cache;return t}var DT=MT,FT=DT,RT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,LT=/\\(\\)?/g,$T=FT(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(RT,function(r,n,l,g){t.push(l?g.replace(LT,"$1"):n||r)}),t}),jT=$T,ud=La,IT=i0,BT=Ut,NT=Hc,zT=1/0,cd=ud?ud.prototype:void 0,hd=cd?cd.toString:void 0;function y0(e){if(typeof e=="string")return e;if(BT(e))return IT(e,y0)+"";if(NT(e))return hd?hd.call(e):"";var t=e+"";return t=="0"&&1/e==-zT?"-0":t}var HT=y0,UT=HT;function WT(e){return e==null?"":UT(e)}var XT=WT,GT=Ut,YT=Uc,VT=jT,KT=XT;function qT(e,t){return GT(e)?e:YT(e,t)?[e]:VT(KT(e))}var _0=qT,QT=Hc,JT=1/0;function ZT(e){if(typeof e=="string"||QT(e))return e;var t=e+"";return t=="0"&&1/e==-JT?"-0":t}var Ps=ZT,eE=_0,tE=Ps;function rE(e,t){t=eE(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[tE(t[r++])];return r&&r==n?e:void 0}var x0=rE,nE=x0;function iE(e,t,r){var n=e==null?void 0:nE(e,t);return n===void 0?r:n}var aE=iE;function oE(e,t){return e!=null&&t in Object(e)}var sE=oE,lE=_0,uE=Kv,cE=Ut,hE=qv,fE=Dc,dE=Ps;function pE(e,t,r){t=lE(t,e);for(var n=-1,l=t.length,g=!1;++n<l;){var y=dE(t[n]);if(!(g=e!=null&&r(e,y)))break;e=e[y]}return g||++n!=l?g:(l=e==null?0:e.length,!!l&&fE(l)&&hE(y,l)&&(cE(e)||uE(e)))}var gE=pE,vE=sE,mE=gE;function yE(e,t){return e!=null&&mE(e,t,vE)}var _E=yE,xE=p0,wE=aE,bE=_E,CE=Uc,SE=g0,TE=v0,EE=Ps,OE=1,PE=2;function kE(e,t){return CE(e)&&SE(t)?TE(EE(e),t):function(r){var n=wE(r,e);return n===void 0&&n===t?bE(r,e):xE(t,n,OE|PE)}}var AE=kE;function ME(e){return function(t){return t==null?void 0:t[e]}}var DE=ME,FE=x0;function RE(e){return function(t){return FE(t,e)}}var LE=RE,$E=DE,jE=LE,IE=Uc,BE=Ps;function NE(e){return IE(e)?$E(BE(e)):jE(e)}var zE=NE,HE=mT,UE=AE,WE=r0,XE=Ut,GE=zE;function YE(e){return typeof e=="function"?e:e==null?WE:typeof e=="object"?XE(e)?UE(e[0],e[1]):HE(e):GE(e)}var VE=YE,KE=bs;function qE(e,t){return function(r,n){if(r==null)return r;if(!KE(r))return e(r,n);for(var l=r.length,g=t?l:-1,y=Object(r);(t?g--:++g<l)&&n(y[g],g,y)!==!1;);return r}}var QE=qE,JE=t0,ZE=QE,eO=ZE(JE),tO=eO,rO=tO,nO=bs;function iO(e,t){var r=-1,n=nO(e)?Array(e.length):[];return rO(e,function(l,g,y){n[++r]=t(l,g,y)}),n}var aO=iO,oO=i0,sO=VE,lO=aO,uO=Ut;function cO(e,t){var r=uO(e)?oO:lO;return r(e,sO(t))}var hO=cO;Object.defineProperty(Ra,"__esModule",{value:!0});Ra.flattenNames=void 0;var fO=I_,dO=ks(fO),pO=Lc,gO=ks(pO),vO=Gw,mO=ks(vO),yO=hO,_O=ks(yO);function ks(e){return e&&e.__esModule?e:{default:e}}var xO=Ra.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[];return(0,_O.default)(t,function(n){Array.isArray(n)?e(n).map(function(l){return r.push(l)}):(0,mO.default)(n)?(0,gO.default)(n,function(l,g){l===!0&&r.push(g),r.push(g+"-"+l)}):(0,dO.default)(n)&&r.push(n)}),r};Ra.default=xO;var ja={};function wO(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var bO=wO,CO=dn,SO=function(){try{var e=CO(Object,"defineProperty");return e({},"",{}),e}catch{}}(),TO=SO,fd=TO;function EO(e,t,r){t=="__proto__"&&fd?fd(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var w0=EO,OO=w0,PO=jc,kO=Object.prototype,AO=kO.hasOwnProperty;function MO(e,t,r){var n=e[t];(!(AO.call(e,t)&&PO(n,r))||r===void 0&&!(t in e))&&OO(e,t,r)}var b0=MO,DO=b0,FO=w0;function RO(e,t,r,n){var l=!r;r||(r={});for(var g=-1,y=t.length;++g<y;){var u=t[g],i=n?n(r[u],e[u],u,r,e):void 0;i===void 0&&(i=e[u]),l?FO(r,u,i):DO(r,u,i)}return r}var As=RO,LO=As,$O=$a;function jO(e,t){return e&&LO(t,$O(t),e)}var IO=jO;function BO(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var NO=BO,zO=vi,HO=Rc,UO=NO,WO=Object.prototype,XO=WO.hasOwnProperty;function GO(e){if(!zO(e))return UO(e);var t=HO(e),r=[];for(var n in e)n=="constructor"&&(t||!XO.call(e,n))||r.push(n);return r}var YO=GO,VO=Jv,KO=YO,qO=bs;function QO(e){return qO(e)?VO(e,!0):KO(e)}var Xc=QO,JO=As,ZO=Xc;function eP(e,t){return e&&JO(t,ZO(t),e)}var tP=eP,Jo={},rP={get exports(){return Jo},set exports(e){Jo=e}};(function(e,t){var r=Qt,n=t&&!t.nodeType&&t,l=n&&!0&&e&&!e.nodeType&&e,g=l&&l.exports===n,y=g?r.Buffer:void 0,u=y?y.allocUnsafe:void 0;function i(h,d){if(d)return h.slice();var o=h.length,a=u?u(o):new h.constructor(o);return h.copy(a),a}e.exports=i})(rP,Jo);function nP(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var iP=nP,aP=As,oP=zc;function sP(e,t){return aP(e,oP(e),t)}var lP=sP,uP=l0,cP=$c,hP=zc,fP=c0,dP=Object.getOwnPropertySymbols,pP=dP?function(e){for(var t=[];e;)uP(t,hP(e)),e=cP(e);return t}:fP,C0=pP,gP=As,vP=C0;function mP(e,t){return gP(e,vP(e),t)}var yP=mP,_P=u0,xP=C0,wP=Xc;function bP(e){return _P(e,wP,xP)}var CP=bP,SP=Object.prototype,TP=SP.hasOwnProperty;function EP(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&TP.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var OP=EP,dd=s0;function PP(e){var t=new e.constructor(e.byteLength);return new dd(t).set(new dd(e)),t}var Gc=PP,kP=Gc;function AP(e,t){var r=t?kP(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var MP=AP,DP=/\w*$/;function FP(e){var t=new e.constructor(e.source,DP.exec(e));return t.lastIndex=e.lastIndex,t}var RP=FP,pd=La,gd=pd?pd.prototype:void 0,vd=gd?gd.valueOf:void 0;function LP(e){return vd?Object(vd.call(e)):{}}var $P=LP,jP=Gc;function IP(e,t){var r=t?jP(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var BP=IP,NP=Gc,zP=MP,HP=RP,UP=$P,WP=BP,XP="[object Boolean]",GP="[object Date]",YP="[object Map]",VP="[object Number]",KP="[object RegExp]",qP="[object Set]",QP="[object String]",JP="[object Symbol]",ZP="[object ArrayBuffer]",ek="[object DataView]",tk="[object Float32Array]",rk="[object Float64Array]",nk="[object Int8Array]",ik="[object Int16Array]",ak="[object Int32Array]",ok="[object Uint8Array]",sk="[object Uint8ClampedArray]",lk="[object Uint16Array]",uk="[object Uint32Array]";function ck(e,t,r){var n=e.constructor;switch(t){case ZP:return NP(e);case XP:case GP:return new n(+e);case ek:return zP(e,r);case tk:case rk:case nk:case ik:case ak:case ok:case sk:case lk:case uk:return WP(e,r);case YP:return new n;case VP:case QP:return new n(e);case KP:return HP(e);case qP:return new n;case JP:return UP(e)}}var hk=ck,fk=vi,md=Object.create,dk=function(){function e(){}return function(t){if(!fk(t))return{};if(md)return md(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),pk=dk,gk=pk,vk=$c,mk=Rc;function yk(e){return typeof e.constructor=="function"&&!mk(e)?gk(vk(e)):{}}var _k=yk,xk=Os,wk=hr,bk="[object Map]";function Ck(e){return wk(e)&&xk(e)==bk}var Sk=Ck,Tk=Sk,Ek=Fc,yd=fi,_d=yd&&yd.isMap,Ok=_d?Ek(_d):Tk,Pk=Ok,kk=Os,Ak=hr,Mk="[object Set]";function Dk(e){return Ak(e)&&kk(e)==Mk}var Fk=Dk,Rk=Fk,Lk=Fc,xd=fi,wd=xd&&xd.isSet,$k=wd?Lk(wd):Rk,jk=$k,Ik=Nc,Bk=bO,Nk=b0,zk=IO,Hk=tP,Uk=Jo,Wk=iP,Xk=lP,Gk=yP,Yk=h0,Vk=CP,Kk=Os,qk=OP,Qk=hk,Jk=_k,Zk=Ut,eA=hi,tA=Pk,rA=vi,nA=jk,iA=$a,aA=Xc,oA=1,sA=2,lA=4,S0="[object Arguments]",uA="[object Array]",cA="[object Boolean]",hA="[object Date]",fA="[object Error]",T0="[object Function]",dA="[object GeneratorFunction]",pA="[object Map]",gA="[object Number]",E0="[object Object]",vA="[object RegExp]",mA="[object Set]",yA="[object String]",_A="[object Symbol]",xA="[object WeakMap]",wA="[object ArrayBuffer]",bA="[object DataView]",CA="[object Float32Array]",SA="[object Float64Array]",TA="[object Int8Array]",EA="[object Int16Array]",OA="[object Int32Array]",PA="[object Uint8Array]",kA="[object Uint8ClampedArray]",AA="[object Uint16Array]",MA="[object Uint32Array]",Ee={};Ee[S0]=Ee[uA]=Ee[wA]=Ee[bA]=Ee[cA]=Ee[hA]=Ee[CA]=Ee[SA]=Ee[TA]=Ee[EA]=Ee[OA]=Ee[pA]=Ee[gA]=Ee[E0]=Ee[vA]=Ee[mA]=Ee[yA]=Ee[_A]=Ee[PA]=Ee[kA]=Ee[AA]=Ee[MA]=!0;Ee[fA]=Ee[T0]=Ee[xA]=!1;function To(e,t,r,n,l,g){var y,u=t&oA,i=t&sA,h=t&lA;if(r&&(y=l?r(e,n,l,g):r(e)),y!==void 0)return y;if(!rA(e))return e;var d=Zk(e);if(d){if(y=qk(e),!u)return Wk(e,y)}else{var o=Kk(e),a=o==T0||o==dA;if(eA(e))return Uk(e,u);if(o==E0||o==S0||a&&!l){if(y=i||a?{}:Jk(e),!u)return i?Gk(e,Hk(y,e)):Xk(e,zk(y,e))}else{if(!Ee[o])return l?e:{};y=Qk(e,o,u)}}g||(g=new Ik);var s=g.get(e);if(s)return s;g.set(e,y),nA(e)?e.forEach(function(f){y.add(To(f,t,r,f,e,g))}):tA(e)&&e.forEach(function(f,v){y.set(v,To(f,t,r,v,e,g))});var c=h?i?Vk:Yk:i?aA:iA,p=d?void 0:c(e);return Bk(p||e,function(f,v){p&&(v=f,f=e[v]),Nk(y,v,To(f,t,r,v,e,g))}),y}var DA=To,FA=DA,RA=1,LA=4;function $A(e){return FA(e,RA|LA)}var jA=$A;Object.defineProperty(ja,"__esModule",{value:!0});ja.mergeClasses=void 0;var IA=Lc,BA=O0(IA),NA=jA,zA=O0(NA),HA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function O0(e){return e&&e.__esModule?e:{default:e}}var UA=ja.mergeClasses=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=t.default&&(0,zA.default)(t.default)||{};return r.map(function(l){var g=t[l];return g&&(0,BA.default)(g,function(y,u){n[u]||(n[u]={}),n[u]=HA({},n[u],g[u])}),l}),n};ja.default=UA;var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.autoprefix=void 0;var WA=Lc,bd=GA(WA),XA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function GA(e){return e&&e.__esModule?e:{default:e}}var YA={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var r=t&&t.split(" ");return{position:"absolute",top:r&&r[0],right:r&&r[1],bottom:r&&r[2],left:r&&r[3]}},extend:function(t,r){var n=r[t];return n||{extend:t}}},VA=Ia.autoprefix=function(t){var r={};return(0,bd.default)(t,function(n,l){var g={};(0,bd.default)(n,function(y,u){var i=YA[u];i?g=XA({},g,i(y)):g[u]=y}),r[l]=g}),r};Ia.default=VA;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.hover=void 0;var KA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qA=ne,ml=QA(qA);function QA(e){return e&&e.__esModule?e:{default:e}}function JA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ZA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var eM=Ba.hover=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){ZA(l,n);function l(){var g,y,u,i;JA(this,l);for(var h=arguments.length,d=Array(h),o=0;o<h;o++)d[o]=arguments[o];return i=(y=(u=Cd(this,(g=l.__proto__||Object.getPrototypeOf(l)).call.apply(g,[this].concat(d))),u),u.state={hover:!1},u.handleMouseOver=function(){return u.setState({hover:!0})},u.handleMouseOut=function(){return u.setState({hover:!1})},u.render=function(){return ml.default.createElement(r,{onMouseOver:u.handleMouseOver,onMouseOut:u.handleMouseOut},ml.default.createElement(t,KA({},u.props,u.state)))},y),Cd(u,i)}return l}(ml.default.Component)};Ba.default=eM;var Na={};Object.defineProperty(Na,"__esModule",{value:!0});Na.active=void 0;var tM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rM=ne,yl=nM(rM);function nM(e){return e&&e.__esModule?e:{default:e}}function iM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function aM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var oM=Na.active=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){aM(l,n);function l(){var g,y,u,i;iM(this,l);for(var h=arguments.length,d=Array(h),o=0;o<h;o++)d[o]=arguments[o];return i=(y=(u=Sd(this,(g=l.__proto__||Object.getPrototypeOf(l)).call.apply(g,[this].concat(d))),u),u.state={active:!1},u.handleMouseDown=function(){return u.setState({active:!0})},u.handleMouseUp=function(){return u.setState({active:!1})},u.render=function(){return yl.default.createElement(r,{onMouseDown:u.handleMouseDown,onMouseUp:u.handleMouseUp},yl.default.createElement(t,tM({},u.props,u.state)))},y),Sd(u,i)}return l}(yl.default.Component)};Na.default=oM;var Yc={};Object.defineProperty(Yc,"__esModule",{value:!0});var sM=function(t,r){var n={},l=function(y){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n[y]=u};return t===0&&l("first-child"),t===r-1&&l("last-child"),(t===0||t%2===0)&&l("even"),Math.abs(t%2)===1&&l("odd"),l("nth-child",t),n};Yc.default=sM;Object.defineProperty(Ot,"__esModule",{value:!0});Ot.ReactCSS=Ot.loop=Ot.handleActive=Vc=Ot.handleHover=Ot.hover=void 0;var lM=Ra,uM=bi(lM),cM=ja,hM=bi(cM),fM=Ia,dM=bi(fM),pM=Ba,P0=bi(pM),gM=Na,vM=bi(gM),mM=Yc,yM=bi(mM);function bi(e){return e&&e.__esModule?e:{default:e}}Ot.hover=P0.default;var Vc=Ot.handleHover=P0.default;Ot.handleActive=vM.default;Ot.loop=yM.default;var _M=Ot.ReactCSS=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),l=1;l<r;l++)n[l-1]=arguments[l];var g=(0,uM.default)(n),y=(0,hM.default)(t,g);return(0,dM.default)(y)},me=Ot.default=_M,xM=function(t,r,n,l,g){var y=g.clientWidth,u=g.clientHeight,i=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,h=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,d=i-(g.getBoundingClientRect().left+window.pageXOffset),o=h-(g.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var a=void 0;if(o<0?a=0:o>u?a=1:a=Math.round(o*100/u)/100,r.a!==a)return{h:r.h,s:r.s,l:r.l,a,source:"rgb"}}else{var s=void 0;if(d<0?s=0:d>y?s=1:s=Math.round(d*100/y)/100,l!==s)return{h:r.h,s:r.s,l:r.l,a:s,source:"rgb"}}return null},_l={},wM=function(t,r,n,l){if(typeof document>"u"&&!l)return null;var g=l?new l:document.createElement("canvas");g.width=n*2,g.height=n*2;var y=g.getContext("2d");return y?(y.fillStyle=t,y.fillRect(0,0,g.width,g.height),y.fillStyle=r,y.fillRect(0,0,n,n),y.translate(n,n),y.fillRect(0,0,n,n),g.toDataURL()):null},bM=function(t,r,n,l){var g=t+"-"+r+"-"+n+(l?"-server":"");if(_l[g])return _l[g];var y=wM(t,r,n,l);return _l[g]=y,y},Td=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci=function(t){var r=t.white,n=t.grey,l=t.size,g=t.renderers,y=t.borderRadius,u=t.boxShadow,i=t.children,h=me({default:{grid:{borderRadius:y,boxShadow:u,absolute:"0px 0px 0px 0px",background:"url("+bM(r,n,l,g.canvas)+") center left"}}});return ne.isValidElement(i)?E.cloneElement(i,Td({},i.props,{style:Td({},i.props.style,h.grid)})):E.createElement("div",{style:h.grid})};Ci.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var CM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SM=function(){function e(t,r){for(var n=0;n<r.length;n++){var l=r[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function TM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ed(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function EM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Kc=function(e){EM(t,e);function t(){var r,n,l,g;TM(this,t);for(var y=arguments.length,u=Array(y),i=0;i<y;i++)u[i]=arguments[i];return g=(n=(l=Ed(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(u))),l),l.handleChange=function(h){var d=xM(h,l.props.hsl,l.props.direction,l.props.a,l.container);d&&typeof l.props.onChange=="function"&&l.props.onChange(d,h)},l.handleMouseDown=function(h){l.handleChange(h),window.addEventListener("mousemove",l.handleChange),window.addEventListener("mouseup",l.handleMouseUp)},l.handleMouseUp=function(){l.unbindEventListeners()},l.unbindEventListeners=function(){window.removeEventListener("mousemove",l.handleChange),window.removeEventListener("mouseup",l.handleMouseUp)},n),Ed(l,g)}return SM(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var n=this,l=this.props.rgb,g=me({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+l.r+","+l.g+","+l.b+`, 0) 0%,
           rgba(`+l.r+","+l.g+","+l.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:l.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+l.r+","+l.g+","+l.b+`, 0) 0%,
           rgba(`+l.r+","+l.g+","+l.b+", 1) 100%)"},pointer:{left:0,top:l.a*100+"%"}},overwrite:CM({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return E.createElement("div",{style:g.alpha},E.createElement("div",{style:g.checkboard},E.createElement(Ci,{renderers:this.props.renderers})),E.createElement("div",{style:g.gradient}),E.createElement("div",{style:g.container,ref:function(u){return n.container=u},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},E.createElement("div",{style:g.pointer},this.props.pointer?E.createElement(this.props.pointer,this.props):E.createElement("div",{style:g.slider}))))}}]),t}(ne.PureComponent||ne.Component),OM=function(){function e(t,r){for(var n=0;n<r.length;n++){var l=r[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function PM(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AM(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function MM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var DM=1,k0=38,FM=40,RM=[k0,FM],LM=function(t){return RM.indexOf(t)>-1},$M=function(t){return Number(String(t).replace(/%/g,""))},jM=1,we=function(e){MM(t,e);function t(r){kM(this,t);var n=AM(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(l){n.setUpdatedValue(l.target.value,l)},n.handleKeyDown=function(l){var g=$M(l.target.value);if(!isNaN(g)&&LM(l.keyCode)){var y=n.getArrowOffset(),u=l.keyCode===k0?g+y:g-y;n.setUpdatedValue(u,l)}},n.handleDrag=function(l){if(n.props.dragLabel){var g=Math.round(n.props.value+l.movementX);g>=0&&g<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(g),l)}},n.handleMouseDown=function(l){n.props.dragLabel&&(l.preventDefault(),n.handleDrag(l),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},n.inputId="rc-editable-input-"+jM++,n}return OM(t,[{key:"componentDidUpdate",value:function(n,l){this.props.value!==this.state.value&&(n.value!==this.props.value||l.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(n){return PM({},this.props.label,n)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||DM}},{key:"setUpdatedValue",value:function(n,l){var g=this.props.label?this.getValueObjectWithLabel(n):n;this.props.onChange&&this.props.onChange(g,l),this.setState({value:n})}},{key:"render",value:function(){var n=this,l=me({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return E.createElement("div",{style:l.wrap},E.createElement("input",{id:this.inputId,style:l.input,ref:function(y){return n.input=y},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?E.createElement("label",{htmlFor:this.inputId,style:l.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(ne.PureComponent||ne.Component),IM=function(t,r,n,l){var g=l.clientWidth,y=l.clientHeight,u=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,i=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,h=u-(l.getBoundingClientRect().left+window.pageXOffset),d=i-(l.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var o=void 0;if(d<0)o=359;else if(d>y)o=0;else{var a=-(d*100/y)+100;o=360*a/100}if(n.h!==o)return{h:o,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var s=void 0;if(h<0)s=0;else if(h>g)s=359;else{var c=h*100/g;s=360*c/100}if(n.h!==s)return{h:s,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},BM=function(){function e(t,r){for(var n=0;n<r.length;n++){var l=r[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function NM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Od(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function zM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Si=function(e){zM(t,e);function t(){var r,n,l,g;NM(this,t);for(var y=arguments.length,u=Array(y),i=0;i<y;i++)u[i]=arguments[i];return g=(n=(l=Od(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(u))),l),l.handleChange=function(h){var d=IM(h,l.props.direction,l.props.hsl,l.container);d&&typeof l.props.onChange=="function"&&l.props.onChange(d,h)},l.handleMouseDown=function(h){l.handleChange(h),window.addEventListener("mousemove",l.handleChange),window.addEventListener("mouseup",l.handleMouseUp)},l.handleMouseUp=function(){l.unbindEventListeners()},n),Od(l,g)}return BM(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,l=this.props.direction,g=l===void 0?"horizontal":l,y=me({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:g==="vertical"});return E.createElement("div",{style:y.hue},E.createElement("div",{className:"hue-"+g,style:y.container,ref:function(i){return n.container=i},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},E.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),E.createElement("div",{style:y.pointer},this.props.pointer?E.createElement(this.props.pointer,this.props):E.createElement("div",{style:y.slider}))))}}]),t}(ne.PureComponent||ne.Component),oe={},HM={get exports(){return oe},set exports(e){oe=e}},UM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",WM=UM,XM=WM;function A0(){}function M0(){}M0.resetWarningCache=A0;var GM=function(){function e(n,l,g,y,u,i){if(i!==XM){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:M0,resetWarningCache:A0};return r.PropTypes=r,r};HM.exports=GM();function YM(){this.__data__=[],this.size=0}function za(e,t){return e===t||e!==e&&t!==t}function Ms(e,t){for(var r=e.length;r--;)if(za(e[r][0],t))return r;return-1}var VM=Array.prototype,KM=VM.splice;function qM(e){var t=this.__data__,r=Ms(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():KM.call(t,r,1),--this.size,!0}function QM(e){var t=this.__data__,r=Ms(t,e);return r<0?void 0:t[r][1]}function JM(e){return Ms(this.__data__,e)>-1}function ZM(e,t){var r=this.__data__,n=Ms(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function fr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}fr.prototype.clear=YM;fr.prototype.delete=qM;fr.prototype.get=QM;fr.prototype.has=JM;fr.prototype.set=ZM;function eD(){this.__data__=new fr,this.size=0}function tD(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function rD(e){return this.__data__.get(e)}function nD(e){return this.__data__.has(e)}var iD=typeof global=="object"&&global&&global.Object===Object&&global;const D0=iD;var aD=typeof self=="object"&&self&&self.Object===Object&&self,oD=D0||aD||Function("return this")();const Wt=oD;var sD=Wt.Symbol;const Lr=sD;var F0=Object.prototype,lD=F0.hasOwnProperty,uD=F0.toString,Ii=Lr?Lr.toStringTag:void 0;function cD(e){var t=lD.call(e,Ii),r=e[Ii];try{e[Ii]=void 0;var n=!0}catch{}var l=uD.call(e);return n&&(t?e[Ii]=r:delete e[Ii]),l}var hD=Object.prototype,fD=hD.toString;function dD(e){return fD.call(e)}var pD="[object Null]",gD="[object Undefined]",Pd=Lr?Lr.toStringTag:void 0;function pn(e){return e==null?e===void 0?gD:pD:Pd&&Pd in Object(e)?cD(e):dD(e)}function Dt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var vD="[object AsyncFunction]",mD="[object Function]",yD="[object GeneratorFunction]",_D="[object Proxy]";function qc(e){if(!Dt(e))return!1;var t=pn(e);return t==mD||t==yD||t==vD||t==_D}var xD=Wt["__core-js_shared__"];const xl=xD;var kd=function(){var e=/[^.]+$/.exec(xl&&xl.keys&&xl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function wD(e){return!!kd&&kd in e}var bD=Function.prototype,CD=bD.toString;function gn(e){if(e!=null){try{return CD.call(e)}catch{}try{return e+""}catch{}}return""}var SD=/[\\^$.*+?()[\]{}|]/g,TD=/^\[object .+?Constructor\]$/,ED=Function.prototype,OD=Object.prototype,PD=ED.toString,kD=OD.hasOwnProperty,AD=RegExp("^"+PD.call(kD).replace(SD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function MD(e){if(!Dt(e)||wD(e))return!1;var t=qc(e)?AD:TD;return t.test(gn(e))}function DD(e,t){return e==null?void 0:e[t]}function vn(e,t){var r=DD(e,t);return MD(r)?r:void 0}var FD=vn(Wt,"Map");const Ta=FD;var RD=vn(Object,"create");const Ea=RD;function LD(){this.__data__=Ea?Ea(null):{},this.size=0}function $D(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var jD="__lodash_hash_undefined__",ID=Object.prototype,BD=ID.hasOwnProperty;function ND(e){var t=this.__data__;if(Ea){var r=t[e];return r===jD?void 0:r}return BD.call(t,e)?t[e]:void 0}var zD=Object.prototype,HD=zD.hasOwnProperty;function UD(e){var t=this.__data__;return Ea?t[e]!==void 0:HD.call(t,e)}var WD="__lodash_hash_undefined__";function XD(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ea&&t===void 0?WD:t,this}function un(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}un.prototype.clear=LD;un.prototype.delete=$D;un.prototype.get=ND;un.prototype.has=UD;un.prototype.set=XD;function GD(){this.size=0,this.__data__={hash:new un,map:new(Ta||fr),string:new un}}function YD(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ds(e,t){var r=e.__data__;return YD(t)?r[typeof t=="string"?"string":"hash"]:r.map}function VD(e){var t=Ds(this,e).delete(e);return this.size-=t?1:0,t}function KD(e){return Ds(this,e).get(e)}function qD(e){return Ds(this,e).has(e)}function QD(e,t){var r=Ds(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function dr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}dr.prototype.clear=GD;dr.prototype.delete=VD;dr.prototype.get=KD;dr.prototype.has=qD;dr.prototype.set=QD;var JD=200;function ZD(e,t){var r=this.__data__;if(r instanceof fr){var n=r.__data__;if(!Ta||n.length<JD-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new dr(n)}return r.set(e,t),this.size=r.size,this}function qt(e){var t=this.__data__=new fr(e);this.size=t.size}qt.prototype.clear=eD;qt.prototype.delete=tD;qt.prototype.get=rD;qt.prototype.has=nD;qt.prototype.set=ZD;var eF=function(){try{var e=vn(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Zo=eF;function Qc(e,t,r){t=="__proto__"&&Zo?Zo(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function ku(e,t,r){(r!==void 0&&!za(e[t],r)||r===void 0&&!(t in e))&&Qc(e,t,r)}function tF(e){return function(t,r,n){for(var l=-1,g=Object(t),y=n(t),u=y.length;u--;){var i=y[e?u:++l];if(r(g[i],i,g)===!1)break}return t}}var rF=tF();const R0=rF;var L0=typeof yt=="object"&&yt&&!yt.nodeType&&yt,Ad=L0&&typeof _t=="object"&&_t&&!_t.nodeType&&_t,nF=Ad&&Ad.exports===L0,Md=nF?Wt.Buffer:void 0,Dd=Md?Md.allocUnsafe:void 0;function iF(e,t){if(t)return e.slice();var r=e.length,n=Dd?Dd(r):new e.constructor(r);return e.copy(n),n}var aF=Wt.Uint8Array;const es=aF;function oF(e){var t=new e.constructor(e.byteLength);return new es(t).set(new es(e)),t}function sF(e,t){var r=t?oF(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function lF(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Fd=Object.create,uF=function(){function e(){}return function(t){if(!Dt(t))return{};if(Fd)return Fd(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();const cF=uF;function $0(e,t){return function(r){return e(t(r))}}var hF=$0(Object.getPrototypeOf,Object);const j0=hF;var fF=Object.prototype;function Jc(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||fF;return e===r}function dF(e){return typeof e.constructor=="function"&&!Jc(e)?cF(j0(e)):{}}function $r(e){return e!=null&&typeof e=="object"}var pF="[object Arguments]";function Rd(e){return $r(e)&&pn(e)==pF}var I0=Object.prototype,gF=I0.hasOwnProperty,vF=I0.propertyIsEnumerable,mF=Rd(function(){return arguments}())?Rd:function(e){return $r(e)&&gF.call(e,"callee")&&!vF.call(e,"callee")};const ts=mF;var yF=Array.isArray;const bt=yF;var _F=9007199254740991;function Zc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=_F}function Ti(e){return e!=null&&Zc(e.length)&&!qc(e)}function xF(e){return $r(e)&&Ti(e)}function wF(){return!1}var B0=typeof yt=="object"&&yt&&!yt.nodeType&&yt,Ld=B0&&typeof _t=="object"&&_t&&!_t.nodeType&&_t,bF=Ld&&Ld.exports===B0,$d=bF?Wt.Buffer:void 0,CF=$d?$d.isBuffer:void 0,SF=CF||wF;const rs=SF;var TF="[object Object]",EF=Function.prototype,OF=Object.prototype,N0=EF.toString,PF=OF.hasOwnProperty,kF=N0.call(Object);function AF(e){if(!$r(e)||pn(e)!=TF)return!1;var t=j0(e);if(t===null)return!0;var r=PF.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&N0.call(r)==kF}var MF="[object Arguments]",DF="[object Array]",FF="[object Boolean]",RF="[object Date]",LF="[object Error]",$F="[object Function]",jF="[object Map]",IF="[object Number]",BF="[object Object]",NF="[object RegExp]",zF="[object Set]",HF="[object String]",UF="[object WeakMap]",WF="[object ArrayBuffer]",XF="[object DataView]",GF="[object Float32Array]",YF="[object Float64Array]",VF="[object Int8Array]",KF="[object Int16Array]",qF="[object Int32Array]",QF="[object Uint8Array]",JF="[object Uint8ClampedArray]",ZF="[object Uint16Array]",eR="[object Uint32Array]",Ae={};Ae[GF]=Ae[YF]=Ae[VF]=Ae[KF]=Ae[qF]=Ae[QF]=Ae[JF]=Ae[ZF]=Ae[eR]=!0;Ae[MF]=Ae[DF]=Ae[WF]=Ae[FF]=Ae[XF]=Ae[RF]=Ae[LF]=Ae[$F]=Ae[jF]=Ae[IF]=Ae[BF]=Ae[NF]=Ae[zF]=Ae[HF]=Ae[UF]=!1;function tR(e){return $r(e)&&Zc(e.length)&&!!Ae[pn(e)]}function rR(e){return function(t){return e(t)}}var z0=typeof yt=="object"&&yt&&!yt.nodeType&&yt,oa=z0&&typeof _t=="object"&&_t&&!_t.nodeType&&_t,nR=oa&&oa.exports===z0,wl=nR&&D0.process,iR=function(){try{var e=oa&&oa.require&&oa.require("util").types;return e||wl&&wl.binding&&wl.binding("util")}catch{}}();const jd=iR;var Id=jd&&jd.isTypedArray,aR=Id?rR(Id):tR;const eh=aR;function Au(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var oR=Object.prototype,sR=oR.hasOwnProperty;function lR(e,t,r){var n=e[t];(!(sR.call(e,t)&&za(n,r))||r===void 0&&!(t in e))&&Qc(e,t,r)}function uR(e,t,r,n){var l=!r;r||(r={});for(var g=-1,y=t.length;++g<y;){var u=t[g],i=n?n(r[u],e[u],u,r,e):void 0;i===void 0&&(i=e[u]),l?Qc(r,u,i):lR(r,u,i)}return r}function cR(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var hR=9007199254740991,fR=/^(?:0|[1-9]\d*)$/;function th(e,t){var r=typeof e;return t=t??hR,!!t&&(r=="number"||r!="symbol"&&fR.test(e))&&e>-1&&e%1==0&&e<t}var dR=Object.prototype,pR=dR.hasOwnProperty;function H0(e,t){var r=bt(e),n=!r&&ts(e),l=!r&&!n&&rs(e),g=!r&&!n&&!l&&eh(e),y=r||n||l||g,u=y?cR(e.length,String):[],i=u.length;for(var h in e)(t||pR.call(e,h))&&!(y&&(h=="length"||l&&(h=="offset"||h=="parent")||g&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||th(h,i)))&&u.push(h);return u}function gR(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var vR=Object.prototype,mR=vR.hasOwnProperty;function yR(e){if(!Dt(e))return gR(e);var t=Jc(e),r=[];for(var n in e)n=="constructor"&&(t||!mR.call(e,n))||r.push(n);return r}function U0(e){return Ti(e)?H0(e,!0):yR(e)}function _R(e){return uR(e,U0(e))}function xR(e,t,r,n,l,g,y){var u=Au(e,r),i=Au(t,r),h=y.get(i);if(h){ku(e,r,h);return}var d=g?g(u,i,r+"",e,t,y):void 0,o=d===void 0;if(o){var a=bt(i),s=!a&&rs(i),c=!a&&!s&&eh(i);d=i,a||s||c?bt(u)?d=u:xF(u)?d=lF(u):s?(o=!1,d=iF(i,!0)):c?(o=!1,d=sF(i,!0)):d=[]:AF(i)||ts(i)?(d=u,ts(u)?d=_R(u):(!Dt(u)||qc(u))&&(d=dF(i))):o=!1}o&&(y.set(i,d),l(d,i,n,g,y),y.delete(i)),ku(e,r,d)}function W0(e,t,r,n,l){e!==t&&R0(t,function(g,y){if(l||(l=new qt),Dt(g))xR(e,t,y,r,W0,n,l);else{var u=n?n(Au(e,y),g,y+"",e,t,l):void 0;u===void 0&&(u=g),ku(e,y,u)}},U0)}function Fs(e){return e}function wR(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Bd=Math.max;function bR(e,t,r){return t=Bd(t===void 0?e.length-1:t,0),function(){for(var n=arguments,l=-1,g=Bd(n.length-t,0),y=Array(g);++l<g;)y[l]=n[t+l];l=-1;for(var u=Array(t+1);++l<t;)u[l]=n[l];return u[t]=r(y),wR(e,this,u)}}function CR(e){return function(){return e}}var SR=Zo?function(e,t){return Zo(e,"toString",{configurable:!0,enumerable:!1,value:CR(t),writable:!0})}:Fs;const TR=SR;var ER=800,OR=16,PR=Date.now;function kR(e){var t=0,r=0;return function(){var n=PR(),l=OR-(n-r);if(r=n,l>0){if(++t>=ER)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var AR=kR(TR);const MR=AR;function DR(e,t){return MR(bR(e,t,Fs),e+"")}function FR(e,t,r){if(!Dt(r))return!1;var n=typeof t;return(n=="number"?Ti(r)&&th(t,r.length):n=="string"&&t in r)?za(r[t],e):!1}function RR(e){return DR(function(t,r){var n=-1,l=r.length,g=l>1?r[l-1]:void 0,y=l>2?r[2]:void 0;for(g=e.length>3&&typeof g=="function"?(l--,g):void 0,y&&FR(r[0],r[1],y)&&(g=l<3?void 0:g,l=1),t=Object(t);++n<l;){var u=r[n];u&&e(t,u,n,g)}return t})}var LR=RR(function(e,t,r){W0(e,t,r)});const ft=LR;var Ha=function(t){var r=t.zDepth,n=t.radius,l=t.background,g=t.children,y=t.styles,u=y===void 0?{}:y,i=me(ft({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+r+"px "+r*4+"px rgba(0,0,0,.24)",borderRadius:n,background:l}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},u),{"zDepth-1":r===1});return E.createElement("div",{style:i.wrap},E.createElement("div",{style:i.bg}),E.createElement("div",{style:i.content},g))};Ha.propTypes={background:oe.string,zDepth:oe.oneOf([0,1,2,3,4,5]),radius:oe.number,styles:oe.object};Ha.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var $R=function(){return Wt.Date.now()};const bl=$R;var jR=/\s/;function IR(e){for(var t=e.length;t--&&jR.test(e.charAt(t)););return t}var BR=/^\s+/;function NR(e){return e&&e.slice(0,IR(e)+1).replace(BR,"")}var zR="[object Symbol]";function Rs(e){return typeof e=="symbol"||$r(e)&&pn(e)==zR}var Nd=0/0,HR=/^[-+]0x[0-9a-f]+$/i,UR=/^0b[01]+$/i,WR=/^0o[0-7]+$/i,XR=parseInt;function zd(e){if(typeof e=="number")return e;if(Rs(e))return Nd;if(Dt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Dt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=NR(e);var r=UR.test(e);return r||WR.test(e)?XR(e.slice(2),r?2:8):HR.test(e)?Nd:+e}var GR="Expected a function",YR=Math.max,VR=Math.min;function X0(e,t,r){var n,l,g,y,u,i,h=0,d=!1,o=!1,a=!0;if(typeof e!="function")throw new TypeError(GR);t=zd(t)||0,Dt(r)&&(d=!!r.leading,o="maxWait"in r,g=o?YR(zd(r.maxWait)||0,t):g,a="trailing"in r?!!r.trailing:a);function s(b){var S=n,O=l;return n=l=void 0,h=b,y=e.apply(O,S),y}function c(b){return h=b,u=setTimeout(v,t),d?s(b):y}function p(b){var S=b-i,O=b-h,I=t-S;return o?VR(I,g-O):I}function f(b){var S=b-i,O=b-h;return i===void 0||S>=t||S<0||o&&O>=g}function v(){var b=bl();if(f(b))return m(b);u=setTimeout(v,p(b))}function m(b){return u=void 0,a&&n?s(b):(n=l=void 0,y)}function _(){u!==void 0&&clearTimeout(u),h=0,n=i=l=u=void 0}function x(){return u===void 0?y:m(bl())}function w(){var b=bl(),S=f(b);if(n=arguments,l=this,i=b,S){if(u===void 0)return c(i);if(o)return clearTimeout(u),u=setTimeout(v,t),s(i)}return u===void 0&&(u=setTimeout(v,t)),y}return w.cancel=_,w.flush=x,w}var KR="Expected a function";function qR(e,t,r){var n=!0,l=!0;if(typeof e!="function")throw new TypeError(KR);return Dt(r)&&(n="leading"in r?!!r.leading:n,l="trailing"in r?!!r.trailing:l),X0(e,t,{leading:n,maxWait:t,trailing:l})}var QR=function(t,r,n){var l=n.getBoundingClientRect(),g=l.width,y=l.height,u=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,i=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,h=u-(n.getBoundingClientRect().left+window.pageXOffset),d=i-(n.getBoundingClientRect().top+window.pageYOffset);h<0?h=0:h>g&&(h=g),d<0?d=0:d>y&&(d=y);var o=h/g,a=1-d/y;return{h:r.h,s:o,v:a,a:r.a,source:"hsv"}},JR=function(){function e(t,r){for(var n=0;n<r.length;n++){var l=r[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function ZR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e5(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function t5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ls=function(e){t5(t,e);function t(r){ZR(this,t);var n=e5(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return n.handleChange=function(l){typeof n.props.onChange=="function"&&n.throttle(n.props.onChange,QR(l,n.props.hsl,n.container),l)},n.handleMouseDown=function(l){n.handleChange(l);var g=n.getContainerRenderWindow();g.addEventListener("mousemove",n.handleChange),g.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=qR(function(l,g,y){l(g,y)},50),n}return JR(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var n=this.container,l=window;!l.document.contains(n)&&l.parent!==l;)l=l.parent;return l}},{key:"unbindEventListeners",value:function(){var n=this.getContainerRenderWindow();n.removeEventListener("mousemove",this.handleChange),n.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,l=this.props.style||{},g=l.color,y=l.white,u=l.black,i=l.pointer,h=l.circle,d=me({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:g,white:y,black:u,pointer:i,circle:h}},{custom:!!this.props.style});return E.createElement("div",{style:d.color,ref:function(a){return n.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},E.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),E.createElement("div",{style:d.white,className:"saturation-white"},E.createElement("div",{style:d.black,className:"saturation-black"}),E.createElement("div",{style:d.pointer},this.props.pointer?E.createElement(this.props.pointer,this.props):E.createElement("div",{style:d.circle}))))}}]),t}(ne.PureComponent||ne.Component);function r5(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var n5=$0(Object.keys,Object);const i5=n5;var a5=Object.prototype,o5=a5.hasOwnProperty;function s5(e){if(!Jc(e))return i5(e);var t=[];for(var r in Object(e))o5.call(e,r)&&r!="constructor"&&t.push(r);return t}function rh(e){return Ti(e)?H0(e):s5(e)}function l5(e,t){return e&&R0(e,t,rh)}function u5(e,t){return function(r,n){if(r==null)return r;if(!Ti(r))return e(r,n);for(var l=r.length,g=t?l:-1,y=Object(r);(t?g--:++g<l)&&n(y[g],g,y)!==!1;);return r}}var c5=u5(l5);const G0=c5;function h5(e){return typeof e=="function"?e:Fs}function f5(e,t){var r=bt(e)?r5:G0;return r(e,h5(t))}const d5=/^\s+/,p5=/\s+$/;function pe(e,t){if(e=e||"",t=t||{},e instanceof pe)return e;if(!(this instanceof pe))return new pe(e,t);var r=g5(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}pe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,r,n,l,g,y;return t=e.r/255,r=e.g/255,n=e.b/255,t<=.03928?l=t/12.92:l=Math.pow((t+.055)/1.055,2.4),r<=.03928?g=r/12.92:g=Math.pow((r+.055)/1.055,2.4),n<=.03928?y=n/12.92:y=Math.pow((n+.055)/1.055,2.4),.2126*l+.7152*g+.0722*y},setAlpha:function(e){return this._a=Y0(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Ud(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Ud(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=Hd(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Hd(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return Wd(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return _5(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(De(this._r,255)*100)+"%",g:Math.round(De(this._g,255)*100)+"%",b:Math.round(De(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(De(this._r,255)*100)+"%, "+Math.round(De(this._g,255)*100)+"%, "+Math.round(De(this._b,255)*100)+"%)":"rgba("+Math.round(De(this._r,255)*100)+"%, "+Math.round(De(this._g,255)*100)+"%, "+Math.round(De(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:M5[Wd(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+Xd(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var l=pe(e);r="#"+Xd(l._r,l._g,l._b,l._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0,l=!t&&n&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return l?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return pe(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(C5,arguments)},brighten:function(){return this._applyModification(S5,arguments)},darken:function(){return this._applyModification(T5,arguments)},desaturate:function(){return this._applyModification(x5,arguments)},saturate:function(){return this._applyModification(w5,arguments)},greyscale:function(){return this._applyModification(b5,arguments)},spin:function(){return this._applyModification(E5,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(k5,arguments)},complement:function(){return this._applyCombination(O5,arguments)},monochromatic:function(){return this._applyCombination(A5,arguments)},splitcomplement:function(){return this._applyCombination(P5,arguments)},triad:function(){return this._applyCombination(Gd,[3])},tetrad:function(){return this._applyCombination(Gd,[4])}};pe.fromRatio=function(e,t){if(typeof e=="object"){var r={};for(var n in e)e.hasOwnProperty(n)&&(n==="a"?r[n]=e[n]:r[n]=Yi(e[n]));e=r}return pe(e,t)};function g5(e){var t={r:0,g:0,b:0},r=1,n=null,l=null,g=null,y=!1,u=!1;return typeof e=="string"&&(e=L5(e)),typeof e=="object"&&(Zt(e.r)&&Zt(e.g)&&Zt(e.b)?(t=v5(e.r,e.g,e.b),y=!0,u=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Zt(e.h)&&Zt(e.s)&&Zt(e.v)?(n=Yi(e.s),l=Yi(e.v),t=y5(e.h,n,l),y=!0,u="hsv"):Zt(e.h)&&Zt(e.s)&&Zt(e.l)&&(n=Yi(e.s),g=Yi(e.l),t=m5(e.h,n,g),y=!0,u="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=Y0(r),{ok:y,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}function v5(e,t,r){return{r:De(e,255)*255,g:De(t,255)*255,b:De(r,255)*255}}function Hd(e,t,r){e=De(e,255),t=De(t,255),r=De(r,255);var n=Math.max(e,t,r),l=Math.min(e,t,r),g,y,u=(n+l)/2;if(n==l)g=y=0;else{var i=n-l;switch(y=u>.5?i/(2-n-l):i/(n+l),n){case e:g=(t-r)/i+(t<r?6:0);break;case t:g=(r-e)/i+2;break;case r:g=(e-t)/i+4;break}g/=6}return{h:g,s:y,l:u}}function m5(e,t,r){var n,l,g;e=De(e,360),t=De(t,100),r=De(r,100);function y(h,d,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?h+(d-h)*6*o:o<1/2?d:o<2/3?h+(d-h)*(2/3-o)*6:h}if(t===0)n=l=g=r;else{var u=r<.5?r*(1+t):r+t-r*t,i=2*r-u;n=y(i,u,e+1/3),l=y(i,u,e),g=y(i,u,e-1/3)}return{r:n*255,g:l*255,b:g*255}}function Ud(e,t,r){e=De(e,255),t=De(t,255),r=De(r,255);var n=Math.max(e,t,r),l=Math.min(e,t,r),g,y,u=n,i=n-l;if(y=n===0?0:i/n,n==l)g=0;else{switch(n){case e:g=(t-r)/i+(t<r?6:0);break;case t:g=(r-e)/i+2;break;case r:g=(e-t)/i+4;break}g/=6}return{h:g,s:y,v:u}}function y5(e,t,r){e=De(e,360)*6,t=De(t,100),r=De(r,100);var n=Math.floor(e),l=e-n,g=r*(1-t),y=r*(1-l*t),u=r*(1-(1-l)*t),i=n%6,h=[r,y,g,g,u,r][i],d=[u,r,r,y,g,g][i],o=[g,g,u,r,r,y][i];return{r:h*255,g:d*255,b:o*255}}function Wd(e,t,r,n){var l=[It(Math.round(e).toString(16)),It(Math.round(t).toString(16)),It(Math.round(r).toString(16))];return n&&l[0].charAt(0)==l[0].charAt(1)&&l[1].charAt(0)==l[1].charAt(1)&&l[2].charAt(0)==l[2].charAt(1)?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0):l.join("")}function _5(e,t,r,n,l){var g=[It(Math.round(e).toString(16)),It(Math.round(t).toString(16)),It(Math.round(r).toString(16)),It(V0(n))];return l&&g[0].charAt(0)==g[0].charAt(1)&&g[1].charAt(0)==g[1].charAt(1)&&g[2].charAt(0)==g[2].charAt(1)&&g[3].charAt(0)==g[3].charAt(1)?g[0].charAt(0)+g[1].charAt(0)+g[2].charAt(0)+g[3].charAt(0):g.join("")}function Xd(e,t,r,n){var l=[It(V0(n)),It(Math.round(e).toString(16)),It(Math.round(t).toString(16)),It(Math.round(r).toString(16))];return l.join("")}pe.equals=function(e,t){return!e||!t?!1:pe(e).toRgbString()==pe(t).toRgbString()};pe.random=function(){return pe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function x5(e,t){t=t===0?0:t||10;var r=pe(e).toHsl();return r.s-=t/100,r.s=$s(r.s),pe(r)}function w5(e,t){t=t===0?0:t||10;var r=pe(e).toHsl();return r.s+=t/100,r.s=$s(r.s),pe(r)}function b5(e){return pe(e).desaturate(100)}function C5(e,t){t=t===0?0:t||10;var r=pe(e).toHsl();return r.l+=t/100,r.l=$s(r.l),pe(r)}function S5(e,t){t=t===0?0:t||10;var r=pe(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),pe(r)}function T5(e,t){t=t===0?0:t||10;var r=pe(e).toHsl();return r.l-=t/100,r.l=$s(r.l),pe(r)}function E5(e,t){var r=pe(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,pe(r)}function O5(e){var t=pe(e).toHsl();return t.h=(t.h+180)%360,pe(t)}function Gd(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=pe(e).toHsl(),n=[pe(e)],l=360/t,g=1;g<t;g++)n.push(pe({h:(r.h+g*l)%360,s:r.s,l:r.l}));return n}function P5(e){var t=pe(e).toHsl(),r=t.h;return[pe(e),pe({h:(r+72)%360,s:t.s,l:t.l}),pe({h:(r+216)%360,s:t.s,l:t.l})]}function k5(e,t,r){t=t||6,r=r||30;var n=pe(e).toHsl(),l=360/r,g=[pe(e)];for(n.h=(n.h-(l*t>>1)+720)%360;--t;)n.h=(n.h+l)%360,g.push(pe(n));return g}function A5(e,t){t=t||6;for(var r=pe(e).toHsv(),n=r.h,l=r.s,g=r.v,y=[],u=1/t;t--;)y.push(pe({h:n,s:l,v:g})),g=(g+u)%1;return y}pe.mix=function(e,t,r){r=r===0?0:r||50;var n=pe(e).toRgb(),l=pe(t).toRgb(),g=r/100,y={r:(l.r-n.r)*g+n.r,g:(l.g-n.g)*g+n.g,b:(l.b-n.b)*g+n.b,a:(l.a-n.a)*g+n.a};return pe(y)};pe.readability=function(e,t){var r=pe(e),n=pe(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};pe.isReadable=function(e,t,r){var n=pe.readability(e,t),l,g;switch(g=!1,l=$5(r),l.level+l.size){case"AAsmall":case"AAAlarge":g=n>=4.5;break;case"AAlarge":g=n>=3;break;case"AAAsmall":g=n>=7;break}return g};pe.mostReadable=function(e,t,r){var n=null,l=0,g,y,u,i;r=r||{},y=r.includeFallbackColors,u=r.level,i=r.size;for(var h=0;h<t.length;h++)g=pe.readability(e,t[h]),g>l&&(l=g,n=pe(t[h]));return pe.isReadable(e,n,{level:u,size:i})||!y?n:(r.includeFallbackColors=!1,pe.mostReadable(e,["#fff","#000"],r))};var Mu=pe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M5=pe.hexNames=D5(Mu);function D5(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function Y0(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function De(e,t){F5(e)&&(e="100%");var r=R5(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function $s(e){return Math.min(1,Math.max(0,e))}function gt(e){return parseInt(e,16)}function F5(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function R5(e){return typeof e=="string"&&e.indexOf("%")!=-1}function It(e){return e.length==1?"0"+e:""+e}function Yi(e){return e<=1&&(e=e*100+"%"),e}function V0(e){return Math.round(parseFloat(e)*255).toString(16)}function Yd(e){return gt(e)/255}var Rt=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",l="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+l),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+l),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+l),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Zt(e){return!!Rt.CSS_UNIT.exec(e)}function L5(e){e=e.replace(d5,"").replace(p5,"").toLowerCase();var t=!1;if(Mu[e])e=Mu[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Rt.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Rt.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Rt.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Rt.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Rt.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Rt.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Rt.hex8.exec(e))?{r:gt(r[1]),g:gt(r[2]),b:gt(r[3]),a:Yd(r[4]),format:t?"name":"hex8"}:(r=Rt.hex6.exec(e))?{r:gt(r[1]),g:gt(r[2]),b:gt(r[3]),format:t?"name":"hex"}:(r=Rt.hex4.exec(e))?{r:gt(r[1]+""+r[1]),g:gt(r[2]+""+r[2]),b:gt(r[3]+""+r[3]),a:Yd(r[4]+""+r[4]),format:t?"name":"hex8"}:(r=Rt.hex3.exec(e))?{r:gt(r[1]+""+r[1]),g:gt(r[2]+""+r[2]),b:gt(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function $5(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:t,size:r}}var Vd=function(t){var r=["r","g","b","a","h","s","l","v"],n=0,l=0;return f5(r,function(g){if(t[g]&&(n+=1,isNaN(t[g])||(l+=1),g==="s"||g==="l")){var y=/^\d+%$/;y.test(t[g])&&(l+=1)}}),n===l?t:!1},Vi=function(t,r){var n=t.hex?pe(t.hex):pe(t),l=n.toHsl(),g=n.toHsv(),y=n.toRgb(),u=n.toHex();l.s===0&&(l.h=r||0,g.h=r||0);var i=u==="000000"&&y.a===0;return{hsl:l,hex:i?"transparent":"#"+u,rgb:y,hsv:g,oldHue:t.h||r||l.h,source:t.source}},zr=function(t){if(t==="transparent")return!0;var r=String(t).charAt(0)==="#"?1:0;return t.length!==4+r&&t.length<7+r&&pe(t).isValid()},nh=function(t){if(!t)return"#fff";var r=Vi(t);if(r.hex==="transparent")return"rgba(0,0,0,0.4)";var n=(r.rgb.r*299+r.rgb.g*587+r.rgb.b*114)/1e3;return n>=128?"#000":"#fff"},Cl=function(t,r){var n=t.replace("","");return pe(r+" ("+n+")")._ok},Bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j5=function(){function e(t,r){for(var n=0;n<r.length;n++){var l=r[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function I5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B5(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function N5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dt=function(t){var r=function(n){N5(l,n);function l(g){I5(this,l);var y=B5(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return y.handleChange=function(u,i){var h=Vd(u);if(h){var d=Vi(u,u.h||y.state.oldHue);y.setState(d),y.props.onChangeComplete&&y.debounce(y.props.onChangeComplete,d,i),y.props.onChange&&y.props.onChange(d,i)}},y.handleSwatchHover=function(u,i){var h=Vd(u);if(h){var d=Vi(u,u.h||y.state.oldHue);y.props.onSwatchHover&&y.props.onSwatchHover(d,i)}},y.state=Bi({},Vi(g.color,0)),y.debounce=X0(function(u,i,h){u(i,h)},100),y}return j5(l,[{key:"render",value:function(){var y={};return this.props.onSwatchHover&&(y.onSwatchHover=this.handleSwatchHover),E.createElement(t,Bi({},this.props,this.state,{onChange:this.handleChange},y))}}],[{key:"getDerivedStateFromProps",value:function(y,u){return Bi({},Vi(y.color,u.oldHue))}}]),l}(ne.PureComponent||ne.Component);return r.propTypes=Bi({},t.propTypes),r.defaultProps=Bi({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),r},z5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H5=function(){function e(t,r){for(var n=0;n<r.length;n++){var l=r[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function U5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function W5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var X5=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){W5(l,n);function l(){var g,y,u,i;U5(this,l);for(var h=arguments.length,d=Array(h),o=0;o<h;o++)d[o]=arguments[o];return i=(y=(u=Kd(this,(g=l.__proto__||Object.getPrototypeOf(l)).call.apply(g,[this].concat(d))),u),u.state={focus:!1},u.handleFocus=function(){return u.setState({focus:!0})},u.handleBlur=function(){return u.setState({focus:!1})},y),Kd(u,i)}return H5(l,[{key:"render",value:function(){return E.createElement(r,{onFocus:this.handleFocus,onBlur:this.handleBlur},E.createElement(t,z5({},this.props,this.state)))}}]),l}(E.Component)},qd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G5=13,Y5=function(t){var r=t.color,n=t.style,l=t.onClick,g=l===void 0?function(){}:l,y=t.onHover,u=t.title,i=u===void 0?r:u,h=t.children,d=t.focus,o=t.focusStyle,a=o===void 0?{}:o,s=r==="transparent",c=me({default:{swatch:qd({background:r,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,d?a:{})}}),p=function(x){return g(r,x)},f=function(x){return x.keyCode===G5&&g(r,x)},v=function(x){return y(r,x)},m={};return y&&(m.onMouseOver=v),E.createElement("div",qd({style:c.swatch,onClick:p,title:i,tabIndex:0,onKeyDown:f},m),h,s&&E.createElement(Ci,{borderRadius:c.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const mn=X5(Y5);var V5=function(t){var r=t.direction,n=me({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return E.createElement("div",{style:n.picker})},K5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0=function(t){var r=t.rgb,n=t.hsl,l=t.width,g=t.height,y=t.onChange,u=t.direction,i=t.style,h=t.renderers,d=t.pointer,o=t.className,a=o===void 0?"":o,s=me({default:{picker:{position:"relative",width:l,height:g},alpha:{radius:"2px",style:i}}});return E.createElement("div",{style:s.picker,className:"alpha-picker "+a},E.createElement(Kc,K5({},s.alpha,{rgb:r,hsl:n,pointer:d,renderers:h,onChange:y,direction:u})))};K0.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:V5};dt(K0);function q0(e,t){for(var r=-1,n=e==null?0:e.length,l=Array(n);++r<n;)l[r]=t(e[r],r,e);return l}var q5="__lodash_hash_undefined__";function Q5(e){return this.__data__.set(e,q5),this}function J5(e){return this.__data__.has(e)}function ns(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new dr;++t<r;)this.add(e[t])}ns.prototype.add=ns.prototype.push=Q5;ns.prototype.has=J5;function Z5(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function eL(e,t){return e.has(t)}var tL=1,rL=2;function Q0(e,t,r,n,l,g){var y=r&tL,u=e.length,i=t.length;if(u!=i&&!(y&&i>u))return!1;var h=g.get(e),d=g.get(t);if(h&&d)return h==t&&d==e;var o=-1,a=!0,s=r&rL?new ns:void 0;for(g.set(e,t),g.set(t,e);++o<u;){var c=e[o],p=t[o];if(n)var f=y?n(p,c,o,t,e,g):n(c,p,o,e,t,g);if(f!==void 0){if(f)continue;a=!1;break}if(s){if(!Z5(t,function(v,m){if(!eL(s,m)&&(c===v||l(c,v,r,n,g)))return s.push(m)})){a=!1;break}}else if(!(c===p||l(c,p,r,n,g))){a=!1;break}}return g.delete(e),g.delete(t),a}function nL(e){var t=-1,r=Array(e.size);return e.forEach(function(n,l){r[++t]=[l,n]}),r}function iL(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var aL=1,oL=2,sL="[object Boolean]",lL="[object Date]",uL="[object Error]",cL="[object Map]",hL="[object Number]",fL="[object RegExp]",dL="[object Set]",pL="[object String]",gL="[object Symbol]",vL="[object ArrayBuffer]",mL="[object DataView]",Qd=Lr?Lr.prototype:void 0,Sl=Qd?Qd.valueOf:void 0;function yL(e,t,r,n,l,g,y){switch(r){case mL:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case vL:return!(e.byteLength!=t.byteLength||!g(new es(e),new es(t)));case sL:case lL:case hL:return za(+e,+t);case uL:return e.name==t.name&&e.message==t.message;case fL:case pL:return e==t+"";case cL:var u=nL;case dL:var i=n&aL;if(u||(u=iL),e.size!=t.size&&!i)return!1;var h=y.get(e);if(h)return h==t;n|=oL,y.set(e,t);var d=Q0(u(e),u(t),n,l,g,y);return y.delete(e),d;case gL:if(Sl)return Sl.call(e)==Sl.call(t)}return!1}function _L(e,t){for(var r=-1,n=t.length,l=e.length;++r<n;)e[l+r]=t[r];return e}function xL(e,t,r){var n=t(e);return bt(e)?n:_L(n,r(e))}function wL(e,t){for(var r=-1,n=e==null?0:e.length,l=0,g=[];++r<n;){var y=e[r];t(y,r,e)&&(g[l++]=y)}return g}function bL(){return[]}var CL=Object.prototype,SL=CL.propertyIsEnumerable,Jd=Object.getOwnPropertySymbols,TL=Jd?function(e){return e==null?[]:(e=Object(e),wL(Jd(e),function(t){return SL.call(e,t)}))}:bL;const EL=TL;function Zd(e){return xL(e,rh,EL)}var OL=1,PL=Object.prototype,kL=PL.hasOwnProperty;function AL(e,t,r,n,l,g){var y=r&OL,u=Zd(e),i=u.length,h=Zd(t),d=h.length;if(i!=d&&!y)return!1;for(var o=i;o--;){var a=u[o];if(!(y?a in t:kL.call(t,a)))return!1}var s=g.get(e),c=g.get(t);if(s&&c)return s==t&&c==e;var p=!0;g.set(e,t),g.set(t,e);for(var f=y;++o<i;){a=u[o];var v=e[a],m=t[a];if(n)var _=y?n(m,v,a,t,e,g):n(v,m,a,e,t,g);if(!(_===void 0?v===m||l(v,m,r,n,g):_)){p=!1;break}f||(f=a=="constructor")}if(p&&!f){var x=e.constructor,w=t.constructor;x!=w&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof w=="function"&&w instanceof w)&&(p=!1)}return g.delete(e),g.delete(t),p}var ML=vn(Wt,"DataView");const Du=ML;var DL=vn(Wt,"Promise");const Fu=DL;var FL=vn(Wt,"Set");const Ru=FL;var RL=vn(Wt,"WeakMap");const Lu=RL;var ep="[object Map]",LL="[object Object]",tp="[object Promise]",rp="[object Set]",np="[object WeakMap]",ip="[object DataView]",$L=gn(Du),jL=gn(Ta),IL=gn(Fu),BL=gn(Ru),NL=gn(Lu),Vr=pn;(Du&&Vr(new Du(new ArrayBuffer(1)))!=ip||Ta&&Vr(new Ta)!=ep||Fu&&Vr(Fu.resolve())!=tp||Ru&&Vr(new Ru)!=rp||Lu&&Vr(new Lu)!=np)&&(Vr=function(e){var t=pn(e),r=t==LL?e.constructor:void 0,n=r?gn(r):"";if(n)switch(n){case $L:return ip;case jL:return ep;case IL:return tp;case BL:return rp;case NL:return np}return t});const ap=Vr;var zL=1,op="[object Arguments]",sp="[object Array]",uo="[object Object]",HL=Object.prototype,lp=HL.hasOwnProperty;function UL(e,t,r,n,l,g){var y=bt(e),u=bt(t),i=y?sp:ap(e),h=u?sp:ap(t);i=i==op?uo:i,h=h==op?uo:h;var d=i==uo,o=h==uo,a=i==h;if(a&&rs(e)){if(!rs(t))return!1;y=!0,d=!1}if(a&&!d)return g||(g=new qt),y||eh(e)?Q0(e,t,r,n,l,g):yL(e,t,i,r,n,l,g);if(!(r&zL)){var s=d&&lp.call(e,"__wrapped__"),c=o&&lp.call(t,"__wrapped__");if(s||c){var p=s?e.value():e,f=c?t.value():t;return g||(g=new qt),l(p,f,r,n,g)}}return a?(g||(g=new qt),AL(e,t,r,n,l,g)):!1}function ih(e,t,r,n,l){return e===t?!0:e==null||t==null||!$r(e)&&!$r(t)?e!==e&&t!==t:UL(e,t,r,n,ih,l)}var WL=1,XL=2;function GL(e,t,r,n){var l=r.length,g=l,y=!n;if(e==null)return!g;for(e=Object(e);l--;){var u=r[l];if(y&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++l<g;){u=r[l];var i=u[0],h=e[i],d=u[1];if(y&&u[2]){if(h===void 0&&!(i in e))return!1}else{var o=new qt;if(n)var a=n(h,d,i,e,t,o);if(!(a===void 0?ih(d,h,WL|XL,n,o):a))return!1}}return!0}function J0(e){return e===e&&!Dt(e)}function YL(e){for(var t=rh(e),r=t.length;r--;){var n=t[r],l=e[n];t[r]=[n,l,J0(l)]}return t}function Z0(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function VL(e){var t=YL(e);return t.length==1&&t[0][2]?Z0(t[0][0],t[0][1]):function(r){return r===e||GL(r,e,t)}}var KL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qL=/^\w*$/;function ah(e,t){if(bt(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Rs(e)?!0:qL.test(e)||!KL.test(e)||t!=null&&e in Object(t)}var QL="Expected a function";function oh(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(QL);var r=function(){var n=arguments,l=t?t.apply(this,n):n[0],g=r.cache;if(g.has(l))return g.get(l);var y=e.apply(this,n);return r.cache=g.set(l,y)||g,y};return r.cache=new(oh.Cache||dr),r}oh.Cache=dr;var JL=500;function ZL(e){var t=oh(e,function(n){return r.size===JL&&r.clear(),n}),r=t.cache;return t}var e3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t3=/\\(\\)?/g,r3=ZL(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(e3,function(r,n,l,g){t.push(l?g.replace(t3,"$1"):n||r)}),t});const n3=r3;var i3=1/0,up=Lr?Lr.prototype:void 0,cp=up?up.toString:void 0;function em(e){if(typeof e=="string")return e;if(bt(e))return q0(e,em)+"";if(Rs(e))return cp?cp.call(e):"";var t=e+"";return t=="0"&&1/e==-i3?"-0":t}function a3(e){return e==null?"":em(e)}function tm(e,t){return bt(e)?e:ah(e,t)?[e]:n3(a3(e))}var o3=1/0;function js(e){if(typeof e=="string"||Rs(e))return e;var t=e+"";return t=="0"&&1/e==-o3?"-0":t}function rm(e,t){t=tm(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[js(t[r++])];return r&&r==n?e:void 0}function s3(e,t,r){var n=e==null?void 0:rm(e,t);return n===void 0?r:n}function l3(e,t){return e!=null&&t in Object(e)}function u3(e,t,r){t=tm(t,e);for(var n=-1,l=t.length,g=!1;++n<l;){var y=js(t[n]);if(!(g=e!=null&&r(e,y)))break;e=e[y]}return g||++n!=l?g:(l=e==null?0:e.length,!!l&&Zc(l)&&th(y,l)&&(bt(e)||ts(e)))}function c3(e,t){return e!=null&&u3(e,t,l3)}var h3=1,f3=2;function d3(e,t){return ah(e)&&J0(t)?Z0(js(e),t):function(r){var n=s3(r,e);return n===void 0&&n===t?c3(r,e):ih(t,n,h3|f3)}}function p3(e){return function(t){return t==null?void 0:t[e]}}function g3(e){return function(t){return rm(t,e)}}function v3(e){return ah(e)?p3(js(e)):g3(e)}function m3(e){return typeof e=="function"?e:e==null?Fs:typeof e=="object"?bt(e)?d3(e[0],e[1]):VL(e):v3(e)}function y3(e,t){var r=-1,n=Ti(e)?Array(e.length):[];return G0(e,function(l,g,y){n[++r]=t(l,g,y)}),n}function yn(e,t){var r=bt(e)?q0:y3;return r(e,m3(t))}var _3=function(t){var r=t.colors,n=t.onClick,l=t.onSwatchHover,g=me({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return E.createElement("div",{style:g.swatches},yn(r,function(y){return E.createElement(mn,{key:y,color:y,style:g.swatch,onClick:n,onHover:l,focusStyle:{boxShadow:"0 0 4px "+y}})}),E.createElement("div",{style:g.clear}))},sh=function(t){var r=t.onChange,n=t.onSwatchHover,l=t.hex,g=t.colors,y=t.width,u=t.triangle,i=t.styles,h=i===void 0?{}:i,d=t.className,o=d===void 0?"":d,a=l==="transparent",s=function(f,v){zr(f)&&r({hex:f,source:"hex"},v)},c=me(ft({default:{card:{width:y,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:l,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:nh(l),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+l+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},h),{"hide-triangle":u==="hide"});return E.createElement("div",{style:c.card,className:"block-picker "+o},E.createElement("div",{style:c.triangle}),E.createElement("div",{style:c.head},a&&E.createElement(Ci,{borderRadius:"6px 6px 0 0"}),E.createElement("div",{style:c.label},l)),E.createElement("div",{style:c.body},E.createElement(_3,{colors:g,onClick:s,onSwatchHover:n}),E.createElement(we,{style:{input:c.input},value:l,onChange:s})))};sh.propTypes={width:oe.oneOfType([oe.string,oe.number]),colors:oe.arrayOf(oe.string),triangle:oe.oneOf(["top","hide"]),styles:oe.object};sh.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};dt(sh);var wn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},bn={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Cn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Sn={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Tn={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},En={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},On={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Pn={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},kn={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Ki={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},An={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Mn={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Dn={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Fn={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Rn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Ln={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},$n={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},jn={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},nm=function(t){var r=t.color,n=t.onClick,l=t.onSwatchHover,g=t.hover,y=t.active,u=t.circleSize,i=t.circleSpacing,h=me({default:{swatch:{width:u,height:u,marginRight:i,marginBottom:i,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(u/2+1)+"px "+r,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+r}}},{hover:g,active:y});return E.createElement("div",{style:h.swatch},E.createElement(mn,{style:h.Swatch,color:r,onClick:n,onHover:l,focusStyle:{boxShadow:h.Swatch.boxShadow+", 0 0 5px "+r}}))};nm.defaultProps={circleSize:28,circleSpacing:14};const x3=Vc(nm);var lh=function(t){var r=t.width,n=t.onChange,l=t.onSwatchHover,g=t.colors,y=t.hex,u=t.circleSize,i=t.styles,h=i===void 0?{}:i,d=t.circleSpacing,o=t.className,a=o===void 0?"":o,s=me(ft({default:{card:{width:r,display:"flex",flexWrap:"wrap",marginRight:-d,marginBottom:-d}}},h)),c=function(f,v){return n({hex:f,source:"hex"},v)};return E.createElement("div",{style:s.card,className:"circle-picker "+a},yn(g,function(p){return E.createElement(x3,{key:p,color:p,onClick:c,onSwatchHover:l,active:y===p.toLowerCase(),circleSize:u,circleSpacing:d})}))};lh.propTypes={width:oe.oneOfType([oe.string,oe.number]),circleSize:oe.number,circleSpacing:oe.number,styles:oe.object};lh.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[wn[500],bn[500],Cn[500],Sn[500],Tn[500],En[500],On[500],Pn[500],kn[500],Ki[500],An[500],Mn[500],Dn[500],Fn[500],Rn[500],Ln[500],$n[500],jn[500]],styles:{}};dt(lh);function hp(e){return e===void 0}var im={};Object.defineProperty(im,"__esModule",{value:!0});var fp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w3=ne,dp=b3(w3);function b3(e){return e&&e.__esModule?e:{default:e}}function C3(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var co=24,S3=im.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,n=e.width,l=n===void 0?co:n,g=e.height,y=g===void 0?co:g,u=e.style,i=u===void 0?{}:u,h=C3(e,["fill","width","height","style"]);return dp.default.createElement("svg",fp({viewBox:"0 0 "+co+" "+co,style:fp({fill:r,width:l,height:y},i)},h),dp.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},T3=function(){function e(t,r){for(var n=0;n<r.length;n++){var l=r[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function E3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O3(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function P3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var am=function(e){P3(t,e);function t(r){E3(this,t);var n=O3(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){n.state.view==="hex"?n.setState({view:"rgb"}):n.state.view==="rgb"?n.setState({view:"hsl"}):n.state.view==="hsl"&&(n.props.hsl.a===1?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(l,g){l.hex?zr(l.hex)&&n.props.onChange({hex:l.hex,source:"hex"},g):l.r||l.g||l.b?n.props.onChange({r:l.r||n.props.rgb.r,g:l.g||n.props.rgb.g,b:l.b||n.props.rgb.b,source:"rgb"},g):l.a?(l.a<0?l.a=0:l.a>1&&(l.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(l.a*100)/100,source:"rgb"},g)):(l.h||l.s||l.l)&&(typeof l.s=="string"&&l.s.includes("%")&&(l.s=l.s.replace("%","")),typeof l.l=="string"&&l.l.includes("%")&&(l.l=l.l.replace("%","")),l.s==1?l.s=.01:l.l==1&&(l.l=.01),n.props.onChange({h:l.h||n.props.hsl.h,s:Number(hp(l.s)?n.props.hsl.s:l.s),l:Number(hp(l.l)?n.props.hsl.l:l.l),source:"hsl"},g))},n.showHighlight=function(l){l.currentTarget.style.background="#eee"},n.hideHighlight=function(l){l.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?n.state={view:"rgb"}:n.state={view:r.view},n}return T3(t,[{key:"render",value:function(){var n=this,l=me({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),g=void 0;return this.state.view==="hex"?g=E.createElement("div",{style:l.fields,className:"flexbox-fix"},E.createElement("div",{style:l.field},E.createElement(we,{style:{input:l.input,label:l.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?g=E.createElement("div",{style:l.fields,className:"flexbox-fix"},E.createElement("div",{style:l.field},E.createElement(we,{style:{input:l.input,label:l.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),E.createElement("div",{style:l.field},E.createElement(we,{style:{input:l.input,label:l.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),E.createElement("div",{style:l.field},E.createElement(we,{style:{input:l.input,label:l.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),E.createElement("div",{style:l.alpha},E.createElement(we,{style:{input:l.input,label:l.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(g=E.createElement("div",{style:l.fields,className:"flexbox-fix"},E.createElement("div",{style:l.field},E.createElement(we,{style:{input:l.input,label:l.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),E.createElement("div",{style:l.field},E.createElement(we,{style:{input:l.input,label:l.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),E.createElement("div",{style:l.field},E.createElement(we,{style:{input:l.input,label:l.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),E.createElement("div",{style:l.alpha},E.createElement(we,{style:{input:l.input,label:l.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),E.createElement("div",{style:l.wrap,className:"flexbox-fix"},g,E.createElement("div",{style:l.toggle},E.createElement("div",{style:l.icon,onClick:this.toggleViews,ref:function(u){return n.icon=u}},E.createElement(S3,{style:l.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(n,l){return n.hsl.a!==1&&l.view==="hex"?{view:"rgb"}:null}}]),t}(E.Component);am.defaultProps={view:"hex"};var pp=function(){var t=me({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return E.createElement("div",{style:t.picker})},k3=function(){var t=me({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return E.createElement("div",{style:t.picker})},uh=function(t){var r=t.width,n=t.onChange,l=t.disableAlpha,g=t.rgb,y=t.hsl,u=t.hsv,i=t.hex,h=t.renderers,d=t.styles,o=d===void 0?{}:d,a=t.className,s=a===void 0?"":a,c=t.defaultView,p=me(ft({default:{picker:{width:r,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+g.r+", "+g.g+", "+g.b+", "+g.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},o),{disableAlpha:l});return E.createElement("div",{style:p.picker,className:"chrome-picker "+s},E.createElement("div",{style:p.saturation},E.createElement(Ls,{style:p.Saturation,hsl:y,hsv:u,pointer:k3,onChange:n})),E.createElement("div",{style:p.body},E.createElement("div",{style:p.controls,className:"flexbox-fix"},E.createElement("div",{style:p.color},E.createElement("div",{style:p.swatch},E.createElement("div",{style:p.active}),E.createElement(Ci,{renderers:h}))),E.createElement("div",{style:p.toggles},E.createElement("div",{style:p.hue},E.createElement(Si,{style:p.Hue,hsl:y,pointer:pp,onChange:n})),E.createElement("div",{style:p.alpha},E.createElement(Kc,{style:p.Alpha,rgb:g,hsl:y,pointer:pp,renderers:h,onChange:n})))),E.createElement(am,{rgb:g,hsl:y,hex:i,view:c,onChange:n,disableAlpha:l})))};uh.propTypes={width:oe.oneOfType([oe.string,oe.number]),disableAlpha:oe.bool,styles:oe.object,defaultView:oe.oneOf(["hex","rgb","hsl"])};uh.defaultProps={width:225,disableAlpha:!1,styles:{}};dt(uh);var A3=function(t){var r=t.color,n=t.onClick,l=n===void 0?function(){}:n,g=t.onSwatchHover,y=t.active,u=me({default:{color:{background:r,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:nh(r),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:y,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return E.createElement(mn,{style:u.color,color:r,onClick:l,onHover:g,focusStyle:{boxShadow:"0 0 4px "+r}},E.createElement("div",{style:u.dot}))},M3=function(t){var r=t.hex,n=t.rgb,l=t.onChange,g=me({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:r},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),y=function(i,h){i.r||i.g||i.b?l({r:i.r||n.r,g:i.g||n.g,b:i.b||n.b,source:"rgb"},h):l({hex:i.hex,source:"hex"},h)};return E.createElement("div",{style:g.fields,className:"flexbox-fix"},E.createElement("div",{style:g.active}),E.createElement(we,{style:{wrap:g.HEXwrap,input:g.HEXinput,label:g.HEXlabel},label:"hex",value:r,onChange:y}),E.createElement(we,{style:{wrap:g.RGBwrap,input:g.RGBinput,label:g.RGBlabel},label:"r",value:n.r,onChange:y}),E.createElement(we,{style:{wrap:g.RGBwrap,input:g.RGBinput,label:g.RGBlabel},label:"g",value:n.g,onChange:y}),E.createElement(we,{style:{wrap:g.RGBwrap,input:g.RGBinput,label:g.RGBlabel},label:"b",value:n.b,onChange:y}))},ch=function(t){var r=t.onChange,n=t.onSwatchHover,l=t.colors,g=t.hex,y=t.rgb,u=t.styles,i=u===void 0?{}:u,h=t.className,d=h===void 0?"":h,o=me(ft({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},i)),a=function(c,p){c.hex?zr(c.hex)&&r({hex:c.hex,source:"hex"},p):r(c,p)};return E.createElement(Ha,{style:o.Compact,styles:i},E.createElement("div",{style:o.compact,className:"compact-picker "+d},E.createElement("div",null,yn(l,function(s){return E.createElement(A3,{key:s,color:s,active:s.toLowerCase()===g,onClick:a,onSwatchHover:n})}),E.createElement("div",{style:o.clear})),E.createElement(M3,{hex:g,rgb:y,onChange:a})))};ch.propTypes={colors:oe.arrayOf(oe.string),styles:oe.object};ch.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};dt(ch);var D3=function(t){var r=t.hover,n=t.color,l=t.onClick,g=t.onSwatchHover,y={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=me({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:y}},{hover:r});return E.createElement("div",{style:u.swatch},E.createElement(mn,{color:n,onClick:l,onHover:g,focusStyle:y}))};const F3=Vc(D3);var hh=function(t){var r=t.width,n=t.colors,l=t.onChange,g=t.onSwatchHover,y=t.triangle,u=t.styles,i=u===void 0?{}:u,h=t.className,d=h===void 0?"":h,o=me(ft({default:{card:{width:r,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},i),{"hide-triangle":y==="hide","top-left-triangle":y==="top-left","top-right-triangle":y==="top-right","bottom-left-triangle":y==="bottom-left","bottom-right-triangle":y==="bottom-right"}),a=function(c,p){return l({hex:c,source:"hex"},p)};return E.createElement("div",{style:o.card,className:"github-picker "+d},E.createElement("div",{style:o.triangleShadow}),E.createElement("div",{style:o.triangle}),yn(n,function(s){return E.createElement(F3,{color:s,key:s,onClick:a,onSwatchHover:g})}))};hh.propTypes={width:oe.oneOfType([oe.string,oe.number]),colors:oe.arrayOf(oe.string),triangle:oe.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:oe.object};hh.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};dt(hh);var R3=function(t){var r=t.direction,n=me({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return E.createElement("div",{style:n.picker})},L3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh=function(t){var r=t.width,n=t.height,l=t.onChange,g=t.hsl,y=t.direction,u=t.pointer,i=t.styles,h=i===void 0?{}:i,d=t.className,o=d===void 0?"":d,a=me(ft({default:{picker:{position:"relative",width:r,height:n},hue:{radius:"2px"}}},h)),s=function(p){return l({a:1,h:p.h,l:.5,s:1})};return E.createElement("div",{style:a.picker,className:"hue-picker "+o},E.createElement(Si,L3({},a.hue,{hsl:g,pointer:u,onChange:s,direction:y})))};fh.propTypes={styles:oe.object};fh.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:R3,styles:{}};dt(fh);var $3=function(t){var r=t.onChange,n=t.hex,l=t.rgb,g=t.styles,y=g===void 0?{}:g,u=t.className,i=u===void 0?"":u,h=me(ft({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},y)),d=function(a,s){a.hex?zr(a.hex)&&r({hex:a.hex,source:"hex"},s):(a.r||a.g||a.b)&&r({r:a.r||l.r,g:a.g||l.g,b:a.b||l.b,source:"rgb"},s)};return E.createElement(Ha,{styles:y},E.createElement("div",{style:h.material,className:"material-picker "+i},E.createElement(we,{style:{wrap:h.HEXwrap,input:h.HEXinput,label:h.HEXlabel},label:"hex",value:n,onChange:d}),E.createElement("div",{style:h.split,className:"flexbox-fix"},E.createElement("div",{style:h.third},E.createElement(we,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"r",value:l.r,onChange:d})),E.createElement("div",{style:h.third},E.createElement(we,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"g",value:l.g,onChange:d})),E.createElement("div",{style:h.third},E.createElement(we,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"b",value:l.b,onChange:d})))))};dt($3);var j3=function(t){var r=t.onChange,n=t.rgb,l=t.hsv,g=t.hex,y=me({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),u=function(h,d){h["#"]?zr(h["#"])&&r({hex:h["#"],source:"hex"},d):h.r||h.g||h.b?r({r:h.r||n.r,g:h.g||n.g,b:h.b||n.b,source:"rgb"},d):(h.h||h.s||h.v)&&r({h:h.h||l.h,s:h.s||l.s,v:h.v||l.v,source:"hsv"},d)};return E.createElement("div",{style:y.fields},E.createElement(we,{style:{wrap:y.RGBwrap,input:y.RGBinput,label:y.RGBlabel},label:"h",value:Math.round(l.h),onChange:u}),E.createElement(we,{style:{wrap:y.RGBwrap,input:y.RGBinput,label:y.RGBlabel},label:"s",value:Math.round(l.s*100),onChange:u}),E.createElement(we,{style:{wrap:y.RGBwrap,input:y.RGBinput,label:y.RGBlabel},label:"v",value:Math.round(l.v*100),onChange:u}),E.createElement("div",{style:y.divider}),E.createElement(we,{style:{wrap:y.RGBwrap,input:y.RGBinput,label:y.RGBlabel},label:"r",value:n.r,onChange:u}),E.createElement(we,{style:{wrap:y.RGBwrap,input:y.RGBinput,label:y.RGBlabel},label:"g",value:n.g,onChange:u}),E.createElement(we,{style:{wrap:y.RGBwrap,input:y.RGBinput,label:y.RGBlabel},label:"b",value:n.b,onChange:u}),E.createElement("div",{style:y.divider}),E.createElement(we,{style:{wrap:y.HEXwrap,input:y.HEXinput,label:y.HEXlabel},label:"#",value:g.replace("#",""),onChange:u}),E.createElement("div",{style:y.fieldSymbols},E.createElement("div",{style:y.symbol},""),E.createElement("div",{style:y.symbol},"%"),E.createElement("div",{style:y.symbol},"%")))},I3=function(t){var r=t.hsl,n=me({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":r.l>.5});return E.createElement("div",{style:n.picker})},B3=function(){var t=me({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return E.createElement("div",{style:t.pointer},E.createElement("div",{style:t.left},E.createElement("div",{style:t.leftInside})),E.createElement("div",{style:t.right},E.createElement("div",{style:t.rightInside})))},gp=function(t){var r=t.onClick,n=t.label,l=t.children,g=t.active,y=me({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:g});return E.createElement("div",{style:y.button,onClick:r},n||l)},N3=function(t){var r=t.rgb,n=t.currentColor,l=me({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+r.r+","+r.g+", "+r.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return E.createElement("div",null,E.createElement("div",{style:l.label},"new"),E.createElement("div",{style:l.swatches},E.createElement("div",{style:l.new}),E.createElement("div",{style:l.current})),E.createElement("div",{style:l.label},"current"))},z3=function(){function e(t,r){for(var n=0;n<r.length;n++){var l=r[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function H3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U3(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function W3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var dh=function(e){W3(t,e);function t(r){H3(this,t);var n=U3(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:r.hex},n}return z3(t,[{key:"render",value:function(){var n=this.props,l=n.styles,g=l===void 0?{}:l,y=n.className,u=y===void 0?"":y,i=me(ft({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},g));return E.createElement("div",{style:i.picker,className:"photoshop-picker "+u},E.createElement("div",{style:i.head},this.props.header),E.createElement("div",{style:i.body,className:"flexbox-fix"},E.createElement("div",{style:i.saturation},E.createElement(Ls,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:I3,onChange:this.props.onChange})),E.createElement("div",{style:i.hue},E.createElement(Si,{direction:"vertical",hsl:this.props.hsl,pointer:B3,onChange:this.props.onChange})),E.createElement("div",{style:i.controls},E.createElement("div",{style:i.top,className:"flexbox-fix"},E.createElement("div",{style:i.previews},E.createElement(N3,{rgb:this.props.rgb,currentColor:this.state.currentColor})),E.createElement("div",{style:i.actions},E.createElement(gp,{label:"OK",onClick:this.props.onAccept,active:!0}),E.createElement(gp,{label:"Cancel",onClick:this.props.onCancel}),E.createElement(j3,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(E.Component);dh.propTypes={header:oe.string,styles:oe.object};dh.defaultProps={header:"Color Picker",styles:{}};dt(dh);var X3=function(t){var r=t.onChange,n=t.rgb,l=t.hsl,g=t.hex,y=t.disableAlpha,u=me({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:y}),i=function(d,o){d.hex?zr(d.hex)&&r({hex:d.hex,source:"hex"},o):d.r||d.g||d.b?r({r:d.r||n.r,g:d.g||n.g,b:d.b||n.b,a:n.a,source:"rgb"},o):d.a&&(d.a<0?d.a=0:d.a>100&&(d.a=100),d.a/=100,r({h:l.h,s:l.s,l:l.l,a:d.a,source:"rgb"},o))};return E.createElement("div",{style:u.fields,className:"flexbox-fix"},E.createElement("div",{style:u.double},E.createElement(we,{style:{input:u.input,label:u.label},label:"hex",value:g.replace("#",""),onChange:i})),E.createElement("div",{style:u.single},E.createElement(we,{style:{input:u.input,label:u.label},label:"r",value:n.r,onChange:i,dragLabel:"true",dragMax:"255"})),E.createElement("div",{style:u.single},E.createElement(we,{style:{input:u.input,label:u.label},label:"g",value:n.g,onChange:i,dragLabel:"true",dragMax:"255"})),E.createElement("div",{style:u.single},E.createElement(we,{style:{input:u.input,label:u.label},label:"b",value:n.b,onChange:i,dragLabel:"true",dragMax:"255"})),E.createElement("div",{style:u.alpha},E.createElement(we,{style:{input:u.input,label:u.label},label:"a",value:Math.round(n.a*100),onChange:i,dragLabel:"true",dragMax:"100"})))},G3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},om=function(t){var r=t.colors,n=t.onClick,l=n===void 0?function(){}:n,g=t.onSwatchHover,y=me({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!r||!r.length}),u=function(h,d){l({hex:h,source:"hex"},d)};return E.createElement("div",{style:y.colors,className:"flexbox-fix"},r.map(function(i){var h=typeof i=="string"?{color:i}:i,d=""+h.color+(h.title||"");return E.createElement("div",{key:d,style:y.swatchWrap},E.createElement(mn,G3({},h,{style:y.swatch,onClick:u,onHover:g,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+h.color}})))}))};om.propTypes={colors:oe.arrayOf(oe.oneOfType([oe.string,oe.shape({color:oe.string,title:oe.string})])).isRequired};var Y3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph=function(t){var r=t.width,n=t.rgb,l=t.hex,g=t.hsv,y=t.hsl,u=t.onChange,i=t.onSwatchHover,h=t.disableAlpha,d=t.presetColors,o=t.renderers,a=t.styles,s=a===void 0?{}:a,c=t.className,p=c===void 0?"":c,f=me(ft({default:Y3({picker:{width:r,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},s),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},s),{disableAlpha:h});return E.createElement("div",{style:f.picker,className:"sketch-picker "+p},E.createElement("div",{style:f.saturation},E.createElement(Ls,{style:f.Saturation,hsl:y,hsv:g,onChange:u})),E.createElement("div",{style:f.controls,className:"flexbox-fix"},E.createElement("div",{style:f.sliders},E.createElement("div",{style:f.hue},E.createElement(Si,{style:f.Hue,hsl:y,onChange:u})),E.createElement("div",{style:f.alpha},E.createElement(Kc,{style:f.Alpha,rgb:n,hsl:y,renderers:o,onChange:u}))),E.createElement("div",{style:f.color},E.createElement(Ci,null),E.createElement("div",{style:f.activeColor}))),E.createElement(X3,{rgb:n,hsl:y,hex:l,onChange:u,disableAlpha:h}),E.createElement(om,{colors:d,onClick:u,onSwatchHover:i}))};ph.propTypes={disableAlpha:oe.bool,width:oe.oneOfType([oe.string,oe.number]),styles:oe.object};ph.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const V3=dt(ph);var Ni=function(t){var r=t.hsl,n=t.offset,l=t.onClick,g=l===void 0?function(){}:l,y=t.active,u=t.first,i=t.last,h=me({default:{swatch:{height:"12px",background:"hsl("+r.h+", 50%, "+n*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:y,first:u,last:i}),d=function(a){return g({h:r.h,s:.5,l:n,source:"hsl"},a)};return E.createElement("div",{style:h.swatch,onClick:d})},K3=function(t){var r=t.onClick,n=t.hsl,l=me({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),g=.1;return E.createElement("div",{style:l.swatches},E.createElement("div",{style:l.swatch},E.createElement(Ni,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<g&&Math.abs(n.s-.5)<g,onClick:r,first:!0})),E.createElement("div",{style:l.swatch},E.createElement(Ni,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<g&&Math.abs(n.s-.5)<g,onClick:r})),E.createElement("div",{style:l.swatch},E.createElement(Ni,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<g&&Math.abs(n.s-.5)<g,onClick:r})),E.createElement("div",{style:l.swatch},E.createElement(Ni,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<g&&Math.abs(n.s-.5)<g,onClick:r})),E.createElement("div",{style:l.swatch},E.createElement(Ni,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<g&&Math.abs(n.s-.5)<g,onClick:r,last:!0})),E.createElement("div",{style:l.clear}))},q3=function(){var t=me({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return E.createElement("div",{style:t.picker})},gh=function(t){var r=t.hsl,n=t.onChange,l=t.pointer,g=t.styles,y=g===void 0?{}:g,u=t.className,i=u===void 0?"":u,h=me(ft({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},y));return E.createElement("div",{style:h.wrap||{},className:"slider-picker "+i},E.createElement("div",{style:h.hue},E.createElement(Si,{style:h.Hue,hsl:r,pointer:l,onChange:n})),E.createElement("div",{style:h.swatches},E.createElement(K3,{hsl:r,onClick:n})))};gh.propTypes={styles:oe.object};gh.defaultProps={pointer:q3,styles:{}};dt(gh);var sm={};Object.defineProperty(sm,"__esModule",{value:!0});var vp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q3=ne,mp=J3(Q3);function J3(e){return e&&e.__esModule?e:{default:e}}function Z3(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var ho=24,e$=sm.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,n=e.width,l=n===void 0?ho:n,g=e.height,y=g===void 0?ho:g,u=e.style,i=u===void 0?{}:u,h=Z3(e,["fill","width","height","style"]);return mp.default.createElement("svg",vp({viewBox:"0 0 "+ho+" "+ho,style:vp({fill:r,width:l,height:y},i)},h),mp.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},t$=function(t){var r=t.color,n=t.onClick,l=n===void 0?function(){}:n,g=t.onSwatchHover,y=t.first,u=t.last,i=t.active,h=me({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:r,marginBottom:"1px"},check:{color:nh(r),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:y,last:u,active:i,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return E.createElement(mn,{color:r,style:h.color,onClick:l,onHover:g,focusStyle:{boxShadow:"0 0 4px "+r}},E.createElement("div",{style:h.check},E.createElement(e$,null)))},r$=function(t){var r=t.onClick,n=t.onSwatchHover,l=t.group,g=t.active,y=me({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return E.createElement("div",{style:y.group},yn(l,function(u,i){return E.createElement(t$,{key:u,color:u,active:u.toLowerCase()===g,first:i===0,last:i===l.length-1,onClick:r,onSwatchHover:n})}))},vh=function(t){var r=t.width,n=t.height,l=t.onChange,g=t.onSwatchHover,y=t.colors,u=t.hex,i=t.styles,h=i===void 0?{}:i,d=t.className,o=d===void 0?"":d,a=me(ft({default:{picker:{width:r,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},h)),s=function(p,f){return l({hex:p,source:"hex"},f)};return E.createElement("div",{style:a.picker,className:"swatches-picker "+o},E.createElement(Ha,null,E.createElement("div",{style:a.overflow},E.createElement("div",{style:a.body},yn(y,function(c){return E.createElement(r$,{key:c.toString(),group:c,active:u,onClick:s,onSwatchHover:g})}),E.createElement("div",{style:a.clear})))))};vh.propTypes={width:oe.oneOfType([oe.string,oe.number]),height:oe.oneOfType([oe.string,oe.number]),colors:oe.arrayOf(oe.arrayOf(oe.string)),styles:oe.object};vh.defaultProps={width:320,height:240,colors:[[wn[900],wn[700],wn[500],wn[300],wn[100]],[bn[900],bn[700],bn[500],bn[300],bn[100]],[Cn[900],Cn[700],Cn[500],Cn[300],Cn[100]],[Sn[900],Sn[700],Sn[500],Sn[300],Sn[100]],[Tn[900],Tn[700],Tn[500],Tn[300],Tn[100]],[En[900],En[700],En[500],En[300],En[100]],[On[900],On[700],On[500],On[300],On[100]],[Pn[900],Pn[700],Pn[500],Pn[300],Pn[100]],[kn[900],kn[700],kn[500],kn[300],kn[100]],["#194D33",Ki[700],Ki[500],Ki[300],Ki[100]],[An[900],An[700],An[500],An[300],An[100]],[Mn[900],Mn[700],Mn[500],Mn[300],Mn[100]],[Dn[900],Dn[700],Dn[500],Dn[300],Dn[100]],[Fn[900],Fn[700],Fn[500],Fn[300],Fn[100]],[Rn[900],Rn[700],Rn[500],Rn[300],Rn[100]],[Ln[900],Ln[700],Ln[500],Ln[300],Ln[100]],[$n[900],$n[700],$n[500],$n[300],$n[100]],[jn[900],jn[700],jn[500],jn[300],jn[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};dt(vh);var mh=function(t){var r=t.onChange,n=t.onSwatchHover,l=t.hex,g=t.colors,y=t.width,u=t.triangle,i=t.styles,h=i===void 0?{}:i,d=t.className,o=d===void 0?"":d,a=me(ft({default:{card:{width:y,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},h),{"hide-triangle":u==="hide","top-left-triangle":u==="top-left","top-right-triangle":u==="top-right"}),s=function(p,f){zr(p)&&r({hex:p,source:"hex"},f)};return E.createElement("div",{style:a.card,className:"twitter-picker "+o},E.createElement("div",{style:a.triangleShadow}),E.createElement("div",{style:a.triangle}),E.createElement("div",{style:a.body},yn(g,function(c,p){return E.createElement(mn,{key:p,color:c,hex:c,style:a.swatch,onClick:s,onHover:n,focusStyle:{boxShadow:"0 0 4px "+c}})}),E.createElement("div",{style:a.hash},"#"),E.createElement(we,{label:null,style:{input:a.input},value:l.replace("#",""),onChange:s}),E.createElement("div",{style:a.clear})))};mh.propTypes={width:oe.oneOfType([oe.string,oe.number]),triangle:oe.oneOf(["hide","top-left","top-right"]),colors:oe.arrayOf(oe.string),styles:oe.object};mh.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};dt(mh);var yh=function(t){var r=me({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return E.createElement("div",{style:r.picker})};yh.propTypes={hsl:oe.shape({h:oe.number,s:oe.number,l:oe.number,a:oe.number})};yh.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var _h=function(t){var r=me({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return E.createElement("div",{style:r.picker})};_h.propTypes={hsl:oe.shape({h:oe.number,s:oe.number,l:oe.number,a:oe.number})};_h.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var n$=function(t){var r=t.onChange,n=t.rgb,l=t.hsl,g=t.hex,y=t.hsv,u=function(s,c){if(s.hex)zr(s.hex)&&r({hex:s.hex,source:"hex"},c);else if(s.rgb){var p=s.rgb.split(",");Cl(s.rgb,"rgb")&&r({r:p[0],g:p[1],b:p[2],a:1,source:"rgb"},c)}else if(s.hsv){var f=s.hsv.split(",");Cl(s.hsv,"hsv")&&(f[2]=f[2].replace("%",""),f[1]=f[1].replace("%",""),f[0]=f[0].replace("",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),r({h:Number(f[0]),s:Number(f[1]),v:Number(f[2]),source:"hsv"},c))}else if(s.hsl){var v=s.hsl.split(",");Cl(s.hsl,"hsl")&&(v[2]=v[2].replace("%",""),v[1]=v[1].replace("%",""),v[0]=v[0].replace("",""),o[1]==1?o[1]=.01:o[2]==1&&(o[2]=.01),r({h:Number(v[0]),s:Number(v[1]),v:Number(v[2]),source:"hsl"},c))}},i=me({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),h=n.r+", "+n.g+", "+n.b,d=Math.round(l.h)+", "+Math.round(l.s*100)+"%, "+Math.round(l.l*100)+"%",o=Math.round(y.h)+", "+Math.round(y.s*100)+"%, "+Math.round(y.v*100)+"%";return E.createElement("div",{style:i.wrap,className:"flexbox-fix"},E.createElement("div",{style:i.fields},E.createElement("div",{style:i.double},E.createElement(we,{style:{input:i.input,label:i.label},label:"hex",value:g,onChange:u})),E.createElement("div",{style:i.column},E.createElement("div",{style:i.single},E.createElement(we,{style:{input:i.input2,label:i.label2},label:"rgb",value:h,onChange:u})),E.createElement("div",{style:i.single},E.createElement(we,{style:{input:i.input2,label:i.label2},label:"hsv",value:o,onChange:u})),E.createElement("div",{style:i.single},E.createElement(we,{style:{input:i.input2,label:i.label2},label:"hsl",value:d,onChange:u})))))},xh=function(t){var r=t.width,n=t.onChange,l=t.rgb,g=t.hsl,y=t.hsv,u=t.hex,i=t.header,h=t.styles,d=h===void 0?{}:h,o=t.className,a=o===void 0?"":o,s=me(ft({default:{picker:{width:r,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+l.r+", "+l.g+", "+l.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},d));return E.createElement("div",{style:s.picker,className:"google-picker "+a},E.createElement("div",{style:s.head},i),E.createElement("div",{style:s.swatch}),E.createElement("div",{style:s.saturation},E.createElement(Ls,{hsl:g,hsv:y,pointer:yh,onChange:n})),E.createElement("div",{style:s.body},E.createElement("div",{style:s.controls,className:"flexbox-fix"},E.createElement("div",{style:s.hue},E.createElement(Si,{style:s.Hue,hsl:g,radius:"4px",pointer:_h,onChange:n}))),E.createElement(n$,{rgb:l,hsl:g,hex:u,hsv:y,onChange:n})))};xh.propTypes={width:oe.oneOfType([oe.string,oe.number]),styles:oe.object,header:oe.string};xh.defaultProps={width:652,styles:{},header:"Color picker"};dt(xh);const i$=({currentColor:e,handleColorChange:t,titleText:r})=>{const[n,l]=ne.useState(!1),g=()=>{l(!n)},y=()=>{l(!1)},u=`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`;return Bt(E.Fragment,{children:[Se("h4",{className:"mb-1",children:r}),Bt("div",{className:"relative p-1 bg-white rounded-sm shadow inline-block cursor-pointer",children:[Se("div",{className:"w-10 h-5 rounded-sm ",style:{backgroundColor:u},onClick:g}),n?Bt("div",{className:"absolute z-10 top-10 right-0",children:[Se("div",{className:"fixed top-0 right-0 bottom-0 left-0",onClick:y}),Se(V3,{color:e,onChange:t,presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","rgba(211, 211, 211, 0.5)"]})]}):null]})]})};/**
 * @remix-run/router v1.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Te.apply(this,arguments)}var Be;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Be||(Be={}));const yp="popstate";function a$(e){e===void 0&&(e={});function t(n,l){let{pathname:g,search:y,hash:u}=n.location;return Oa("",{pathname:g,search:y,hash:u},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(n,l){return typeof l=="string"?l:jr(l)}return s$(t,r,null,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function o$(){return Math.random().toString(36).substr(2,8)}function _p(e){return{usr:e.state,key:e.key}}function Oa(e,t,r,n){return r===void 0&&(r=null),Te({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pr(t):t,{state:r,key:t&&t.key||n||o$()})}function jr(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Pa(e){let t=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:window.location.href,r=typeof e=="string"?e:jr(e);return _e(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}function s$(e,t,r,n){n===void 0&&(n={});let{window:l=document.defaultView,v5Compat:g=!1}=n,y=l.history,u=Be.Pop,i=null;function h(){u=Be.Pop,i&&i({action:u,location:a.location})}function d(s,c){u=Be.Push;let p=Oa(a.location,s,c);r&&r(p,s);let f=_p(p),v=a.createHref(p);try{y.pushState(f,"",v)}catch{l.location.assign(v)}g&&i&&i({action:u,location:a.location})}function o(s,c){u=Be.Replace;let p=Oa(a.location,s,c);r&&r(p,s);let f=_p(p),v=a.createHref(p);y.replaceState(f,"",v),g&&i&&i({action:u,location:a.location})}let a={get action(){return u},get location(){return e(l,y)},listen(s){if(i)throw new Error("A history only accepts one active listener");return l.addEventListener(yp,h),i=s,()=>{l.removeEventListener(yp,h),i=null}},createHref(s){return t(l,s)},encodeLocation(s){let c=Pa(typeof s=="string"?s:jr(s));return{pathname:c.pathname,search:c.search,hash:c.hash}},push:d,replace:o,go(s){return y.go(s)}};return a}var Ve;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ve||(Ve={}));function l$(e){return e.index===!0}function lm(e,t,r){return t===void 0&&(t=[]),r===void 0&&(r=new Set),e.map((n,l)=>{let g=[...t,l],y=typeof n.id=="string"?n.id:g.join("-");return _e(n.index!==!0||!n.children,"Cannot specify children on an index route"),_e(!r.has(y),'Found a route id collision on id "'+y+`".  Route id's must be globally unique within Data Router usages`),r.add(y),l$(n)?Te({},n,{id:y}):Te({},n,{id:y,children:n.children?lm(n.children,g,r):void 0})})}function qi(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?pr(t):t,l=hm(n.pathname||"/",r);if(l==null)return null;let g=um(e);u$(g);let y=null;for(let u=0;y==null&&u<g.length;++u)y=y$(g[u],w$(l));return y}function um(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let l=(g,y,u)=>{let i={relativePath:u===void 0?g.path||"":u,caseSensitive:g.caseSensitive===!0,childrenIndex:y,route:g};i.relativePath.startsWith("/")&&(_e(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),i.relativePath=i.relativePath.slice(n.length));let h=Dr([n,i.relativePath]),d=r.concat(i);g.children&&g.children.length>0&&(_e(g.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),um(g.children,t,d,h)),!(g.path==null&&!g.index)&&t.push({path:h,score:v$(h,g.index),routesMeta:d})};return e.forEach((g,y)=>{var u;if(g.path===""||!((u=g.path)!=null&&u.includes("?")))l(g,y);else for(let i of cm(g.path))l(g,y,i)}),t}function cm(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,l=r.endsWith("?"),g=r.replace(/\?$/,"");if(n.length===0)return l?[g,""]:[g];let y=cm(n.join("/")),u=[];return u.push(...y.map(i=>i===""?g:[g,i].join("/"))),l&&u.push(...y),u.map(i=>e.startsWith("/")&&i===""?"/":i)}function u$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:m$(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const c$=/^:\w+$/,h$=3,f$=2,d$=1,p$=10,g$=-2,xp=e=>e==="*";function v$(e,t){let r=e.split("/"),n=r.length;return r.some(xp)&&(n+=g$),t&&(n+=f$),r.filter(l=>!xp(l)).reduce((l,g)=>l+(c$.test(g)?h$:g===""?d$:p$),n)}function m$(e,t){return e.length===t.length&&e.slice(0,-1).every((n,l)=>n===t[l])?e[e.length-1]-t[t.length-1]:0}function y$(e,t){let{routesMeta:r}=e,n={},l="/",g=[];for(let y=0;y<r.length;++y){let u=r[y],i=y===r.length-1,h=l==="/"?t:t.slice(l.length)||"/",d=_$({path:u.relativePath,caseSensitive:u.caseSensitive,end:i},h);if(!d)return null;Object.assign(n,d.params);let o=u.route;g.push({params:n,pathname:Dr([l,d.pathname]),pathnameBase:T$(Dr([l,d.pathnameBase])),route:o}),d.pathnameBase!=="/"&&(l=Dr([l,d.pathnameBase]))}return g}function _$(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=x$(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let g=l[0],y=g.replace(/(.)\/+$/,"$1"),u=l.slice(1);return{params:n.reduce((h,d,o)=>{if(d==="*"){let a=u[o]||"";y=g.slice(0,g.length-a.length).replace(/(.)\/+$/,"$1")}return h[d]=b$(u[o]||"",d),h},{}),pathname:g,pathnameBase:y,pattern:e}}function x$(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),wh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(y,u)=>(n.push(u),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),n]}function w$(e){try{return decodeURI(e)}catch(t){return wh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function b$(e,t){try{return decodeURIComponent(e)}catch(r){return wh(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function hm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function wh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function C$(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:l=""}=typeof e=="string"?pr(e):e;return{pathname:r?r.startsWith("/")?r:S$(r,t):t,search:E$(n),hash:O$(l)}}function S$(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Tl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bh(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function fm(e,t,r,n){n===void 0&&(n=!1);let l;typeof e=="string"?l=pr(e):(l=Te({},e),_e(!l.pathname||!l.pathname.includes("?"),Tl("?","pathname","search",l)),_e(!l.pathname||!l.pathname.includes("#"),Tl("#","pathname","hash",l)),_e(!l.search||!l.search.includes("#"),Tl("#","search","hash",l)));let g=e===""||l.pathname==="",y=g?"/":l.pathname,u;if(n||y==null)u=r;else{let o=t.length-1;if(y.startsWith("..")){let a=y.split("/");for(;a[0]==="..";)a.shift(),o-=1;l.pathname=a.join("/")}u=o>=0?t[o]:"/"}let i=C$(l,u),h=y&&y!=="/"&&y.endsWith("/"),d=(g||y===".")&&r.endsWith("/");return!i.pathname.endsWith("/")&&(h||d)&&(i.pathname+="/"),i}const Dr=e=>e.join("/").replace(/\/\/+/g,"/"),T$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),E$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,O$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class wp extends Error{}class P${constructor(t){this.pendingKeys=new Set,this.subscriber=void 0,_e(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((l,g)=>r=g),this.controller=new AbortController;let n=()=>r(new wp("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",n),this.controller.signal.addEventListener("abort",n),this.data=Object.entries(t).reduce((l,g)=>{let[y,u]=g;return Object.assign(l,{[y]:this.trackPromise(y,u)})},{})}trackPromise(t,r){if(!(r instanceof Promise))return r;this.pendingKeys.add(t);let n=Promise.race([r,this.abortPromise]).then(l=>this.onSettle(n,t,null,l),l=>this.onSettle(n,t,l));return n.catch(()=>{}),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(t,r,n,l){if(this.controller.signal.aborted&&n instanceof wp)return this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>n}),Promise.reject(n);this.pendingKeys.delete(r),this.done&&this.unlistenAbortSignal();const g=this.subscriber;return n?(Object.defineProperty(t,"_error",{get:()=>n}),g&&g(!1),Promise.reject(n)):(Object.defineProperty(t,"_data",{get:()=>l}),g&&g(!1),l)}subscribe(t){this.subscriber=t}cancel(){this.controller.abort(),this.pendingKeys.forEach((r,n)=>this.pendingKeys.delete(n));let t=this.subscriber;t&&t(!0)}async resolveData(t){let r=!1;if(!this.done){let n=()=>this.cancel();t.addEventListener("abort",n),r=await new Promise(l=>{this.subscribe(g=>{t.removeEventListener("abort",n),(g||this.done)&&l(g)})})}return r}get done(){return this.pendingKeys.size===0}get unwrappedData(){return _e(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,r)=>{let[n,l]=r;return Object.assign(t,{[n]:A$(l)})},{})}}function k$(e){return e instanceof Promise&&e._tracked===!0}function A$(e){if(!k$(e))return e;if(e._error)throw e._error;return e._data}class Is{constructor(t,r,n,l){l===void 0&&(l=!1),this.status=t,this.statusText=r||"",this.internal=l,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function dm(e){return e instanceof Is}const pm=["post","put","patch","delete"],M$=new Set(pm),D$=["get",...pm],F$=new Set(D$),R$=new Set([301,302,303,307,308]),L$=new Set([307,308]),El={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},$$={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},j$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I$=!j$;function B$(e){_e(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=lm(e.routes),r=null,n=new Set,l=null,g=null,y=null,u=e.hydrationData!=null,i=qi(t,e.history.location,e.basename),h=null;if(i==null){let D=Kr(404,{pathname:e.history.location.pathname}),{matches:L,route:G}=Op(t);i=L,h={[G.id]:D}}let d=!i.some(D=>D.route.loader)||e.hydrationData!=null,o,a={historyAction:e.history.action,location:e.history.location,matches:i,initialized:d,navigation:El,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||h,fetchers:new Map},s=Be.Pop,c=!1,p,f=!1,v=!1,m=[],_=[],x=new Map,w=0,b=-1,S=new Map,O=new Set,I=new Map,B=new Map;function Q(){return r=e.history.listen(D=>{let{action:L,location:G}=D;return U(L,G)}),a.initialized||U(Be.Pop,a.location),o}function ie(){r&&r(),n.clear(),p&&p.abort(),a.fetchers.forEach((D,L)=>z(L))}function le(D){return n.add(D),()=>n.delete(D)}function J(D){a=Te({},a,D),n.forEach(L=>L(a))}function re(D,L){var G;let q=a.actionData!=null&&a.navigation.formMethod!=null&&qr(a.navigation.formMethod)&&a.navigation.state==="loading"&&((G=D.state)==null?void 0:G._isRedirect)!==!0,R;L.actionData?Object.keys(L.actionData).length>0?R=L.actionData:R=null:q?R=a.actionData:R=null;let ee=L.loaderData?Ep(a.loaderData,L.loaderData,L.matches||[],L.errors):a.loaderData;J(Te({},L,{actionData:R,loaderData:ee,historyAction:s,location:D,initialized:!0,navigation:El,revalidation:"idle",restoreScrollPosition:a.navigation.formData?!1:W(D,L.matches||a.matches),preventScrollReset:c})),f||s===Be.Pop||(s===Be.Push?e.history.push(D,D.state):s===Be.Replace&&e.history.replace(D,D.state)),s=Be.Pop,c=!1,f=!1,v=!1,m=[],_=[]}async function ue(D,L){if(typeof D=="number"){e.history.go(D);return}let{path:G,submission:q,error:R}=bp(D,L),ee=Oa(a.location,G,L&&L.state);ee=Te({},ee,e.history.encodeLocation(ee));let se=L&&L.replace!=null?L.replace:void 0,ce=Be.Push;se===!0?ce=Be.Replace:se===!1||q!=null&&qr(q.formMethod)&&q.formAction===a.location.pathname+a.location.search&&(ce=Be.Replace);let he=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0;return await U(ce,ee,{submission:q,pendingError:R,preventScrollReset:he,replace:L&&L.replace})}function de(){if($(),J({revalidation:"loading"}),a.navigation.state!=="submitting"){if(a.navigation.state==="idle"){U(a.historyAction,a.location,{startUninterruptedRevalidation:!0});return}U(s||a.historyAction,a.navigation.location,{overrideNavigation:a.navigation})}}async function U(D,L,G){p&&p.abort(),p=null,s=D,f=(G&&G.startUninterruptedRevalidation)===!0,V(a.location,a.matches),c=(G&&G.preventScrollReset)===!0;let q=G&&G.overrideNavigation,R=qi(t,L,e.basename);if(!R){let ye=Kr(404,{pathname:L.pathname}),{matches:ze,route:Ge}=Op(t);j(),re(L,{matches:ze,loaderData:{},errors:{[Ge.id]:ye}});return}if(W$(a.location,L)){re(L,{matches:R});return}p=new AbortController;let ee=Hi(L,p.signal,G&&G.submission),se,ce;if(G&&G.pendingError)ce={[qn(R).route.id]:G.pendingError};else if(G&&G.submission&&qr(G.submission.formMethod)){let ye=await C(ee,L,G.submission,R,{replace:G.replace});if(ye.shortCircuited)return;se=ye.pendingActionData,ce=ye.pendingActionError,q=Te({state:"loading",location:L},G.submission),ee=new Request(ee.url,{signal:ee.signal})}let{shortCircuited:he,loaderData:ve,errors:ge}=await P(ee,L,R,q,G&&G.submission,G&&G.replace,se,ce);he||(p=null,re(L,Te({matches:R},se?{actionData:se}:{},{loaderData:ve,errors:ge})))}async function C(D,L,G,q,R){$();let ee=Te({state:"submitting",location:L},G);J({navigation:ee});let se,ce=Mp(q,L);if(!ce.route.action)se={type:Ve.error,error:Kr(405,{method:D.method,pathname:L.pathname,routeId:ce.route.id})};else if(se=await zi("action",D,ce,q,o.basename),D.signal.aborted)return{shortCircuited:!0};if(ni(se)){let he;return R&&R.replace!=null?he=R.replace:he=se.location===a.location.pathname+a.location.search,await T(a,se,{submission:G,replace:he}),{shortCircuited:!0}}if(sa(se)){let he=qn(q,ce.route.id);return(R&&R.replace)!==!0&&(s=Be.Push),{pendingActionData:{},pendingActionError:{[he.route.id]:se.error}}}if(en(se))throw new Error("defer() is not supported in actions");return{pendingActionData:{[ce.route.id]:se.data}}}async function P(D,L,G,q,R,ee,se,ce){let he=q;he||(he=Te({state:"loading",location:L,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},R));let ve=R||(he.formMethod&&he.formAction&&he.formData&&he.formEncType?{formMethod:he.formMethod,formAction:he.formAction,formData:he.formData,formEncType:he.formEncType}:void 0),[ge,ye]=Cp(a,G,ve,L,v,m,_,se,ce,I);if(j(Je=>!(G&&G.some(pt=>pt.route.id===Je))||ge&&ge.some(pt=>pt.route.id===Je)),ge.length===0&&ye.length===0)return re(L,Te({matches:G,loaderData:{},errors:ce||null},se?{actionData:se}:{})),{shortCircuited:!0};if(!f){ye.forEach(pt=>{let[Ur]=pt,Oi=a.fetchers.get(Ur),Pi={state:"loading",data:Oi&&Oi.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};a.fetchers.set(Ur,Pi)});let Je=se||a.actionData;J(Te({navigation:he},Je?Object.keys(Je).length===0?{actionData:null}:{actionData:Je}:{},ye.length>0?{fetchers:new Map(a.fetchers)}:{}))}b=++w,ye.forEach(Je=>{let[pt]=Je;return x.set(pt,p)});let{results:ze,loaderResults:Ge,fetcherResults:Qe}=await F(a.matches,G,ge,ye,D);if(D.signal.aborted)return{shortCircuited:!0};ye.forEach(Je=>{let[pt]=Je;return x.delete(pt)});let _n=Pp(ze);if(_n)return await T(a,_n,{replace:ee}),{shortCircuited:!0};let{loaderData:Hr,errors:gr}=Tp(a,G,ge,Ge,ce,ye,Qe,B);B.forEach((Je,pt)=>{Je.subscribe(Ur=>{(Ur||Je.done)&&B.delete(pt)})}),ae();let Ei=H(b);return Te({loaderData:Hr,errors:gr},Ei||ye.length>0?{fetchers:new Map(a.fetchers)}:{})}function A(D){return a.fetchers.get(D)||$$}function M(D,L,G,q){if(I$)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");x.has(D)&&K(D);let R=qi(t,G,e.basename);if(!R){X(D,L,Kr(404,{pathname:G}));return}let{path:ee,submission:se}=bp(G,q,!0),ce=Mp(R,ee);if(se&&qr(se.formMethod)){N(D,L,ee,ce,R,se);return}I.set(D,[ee,ce,R]),k(D,L,ee,ce,R,se)}async function N(D,L,G,q,R,ee){if($(),I.delete(D),!q.route.action){let Jt=Kr(405,{method:ee.formMethod,pathname:G,routeId:L});X(D,L,Jt);return}let se=a.fetchers.get(D),ce=Te({state:"submitting"},ee,{data:se&&se.data," _hasFetcherDoneAnything ":!0});a.fetchers.set(D,ce),J({fetchers:new Map(a.fetchers)});let he=new AbortController,ve=Hi(G,he.signal,ee);x.set(D,he);let ge=await zi("action",ve,q,R,o.basename);if(ve.signal.aborted){x.get(D)===he&&x.delete(D);return}if(ni(ge)){x.delete(D),O.add(D);let Jt=Te({state:"loading"},ee,{data:void 0," _hasFetcherDoneAnything ":!0});return a.fetchers.set(D,Jt),J({fetchers:new Map(a.fetchers)}),T(a,ge,{isFetchActionRedirect:!0})}if(sa(ge)){X(D,L,ge.error);return}en(ge)&&_e(!1,"defer() is not supported in actions");let ye=a.navigation.location||a.location,ze=Hi(ye,he.signal),Ge=a.navigation.state!=="idle"?qi(t,a.navigation.location,e.basename):a.matches;_e(Ge,"Didn't find any matches after fetcher action");let Qe=++w;S.set(D,Qe);let _n=Te({state:"loading",data:ge.data},ee,{" _hasFetcherDoneAnything ":!0});a.fetchers.set(D,_n);let[Hr,gr]=Cp(a,Ge,ee,ye,v,m,_,{[q.route.id]:ge.data},void 0,I);gr.filter(Jt=>{let[Wr]=Jt;return Wr!==D}).forEach(Jt=>{let[Wr]=Jt,Eh=a.fetchers.get(Wr),Em={state:"loading",data:Eh&&Eh.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};a.fetchers.set(Wr,Em),x.set(Wr,he)}),J({fetchers:new Map(a.fetchers)});let{results:Ei,loaderResults:Je,fetcherResults:pt}=await F(a.matches,Ge,Hr,gr,ze);if(he.signal.aborted)return;S.delete(D),x.delete(D),gr.forEach(Jt=>{let[Wr]=Jt;return x.delete(Wr)});let Ur=Pp(Ei);if(Ur)return T(a,Ur);let{loaderData:Oi,errors:Pi}=Tp(a,a.matches,Hr,Je,void 0,gr,pt,B),Sm={state:"idle",data:ge.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};a.fetchers.set(D,Sm);let Tm=H(Qe);a.navigation.state==="loading"&&Qe>b?(_e(s,"Expected pending action"),p&&p.abort(),re(a.navigation.location,{matches:Ge,loaderData:Oi,errors:Pi,fetchers:new Map(a.fetchers)})):(J(Te({errors:Pi,loaderData:Ep(a.loaderData,Oi,Ge,Pi)},Tm?{fetchers:new Map(a.fetchers)}:{})),v=!1)}async function k(D,L,G,q,R,ee){let se=a.fetchers.get(D),ce=Te({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},ee,{data:se&&se.data," _hasFetcherDoneAnything ":!0});a.fetchers.set(D,ce),J({fetchers:new Map(a.fetchers)});let he=new AbortController,ve=Hi(G,he.signal);x.set(D,he);let ge=await zi("loader",ve,q,R,o.basename);if(en(ge)&&(ge=await ym(ge,ve.signal,!0)||ge),x.get(D)===he&&x.delete(D),ve.signal.aborted)return;if(ni(ge)){await T(a,ge);return}if(sa(ge)){let ze=qn(a.matches,L);a.fetchers.delete(D),J({fetchers:new Map(a.fetchers),errors:{[ze.route.id]:ge.error}});return}_e(!en(ge),"Unhandled fetcher deferred data");let ye={state:"idle",data:ge.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};a.fetchers.set(D,ye),J({fetchers:new Map(a.fetchers)})}async function T(D,L,G){var q;let{submission:R,replace:ee,isFetchActionRedirect:se}=G===void 0?{}:G;L.revalidate&&(v=!0);let ce=Oa(D.location,L.location,Te({_isRedirect:!0},se?{_isFetchActionRedirect:!0}:{}));if(_e(ce,"Expected a location on the redirect navigation"),typeof((q=window)==null?void 0:q.location)<"u"){let Ge=Pa(L.location).origin;if(window.location.origin!==Ge){ee?window.location.replace(L.location):window.location.assign(L.location);return}}p=null;let he=ee===!0?Be.Replace:Be.Push,{formMethod:ve,formAction:ge,formEncType:ye,formData:ze}=D.navigation;!R&&ve&&ge&&ze&&ye&&(R={formMethod:ve,formAction:ge,formEncType:ye,formData:ze}),L$.has(L.status)&&R&&qr(R.formMethod)?await U(he,ce,{submission:Te({},R,{formAction:L.location})}):await U(he,ce,{overrideNavigation:{state:"loading",location:ce,formMethod:R?R.formMethod:void 0,formAction:R?R.formAction:void 0,formEncType:R?R.formEncType:void 0,formData:R?R.formData:void 0}})}async function F(D,L,G,q,R){let ee=await Promise.all([...G.map(he=>zi("loader",R,he,L,o.basename)),...q.map(he=>{let[,ve,ge,ye]=he;return zi("loader",Hi(ve,R.signal),ge,ye,o.basename)})]),se=ee.slice(0,G.length),ce=ee.slice(G.length);return await Promise.all([kp(D,G,se,R.signal,!1,a.loaderData),kp(D,q.map(he=>{let[,,ve]=he;return ve}),ce,R.signal,!0)]),{results:ee,loaderResults:se,fetcherResults:ce}}function $(){v=!0,m.push(...j()),I.forEach((D,L)=>{x.has(L)&&(_.push(L),K(L))})}function X(D,L,G){let q=qn(a.matches,L);z(D),J({errors:{[q.route.id]:G},fetchers:new Map(a.fetchers)})}function z(D){x.has(D)&&K(D),I.delete(D),S.delete(D),O.delete(D),a.fetchers.delete(D)}function K(D){let L=x.get(D);_e(L,"Expected fetch controller: "+D),L.abort(),x.delete(D)}function Z(D){for(let L of D){let q={state:"idle",data:A(L).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};a.fetchers.set(L,q)}}function ae(){let D=[];for(let L of O){let G=a.fetchers.get(L);_e(G,"Expected fetcher: "+L),G.state==="loading"&&(O.delete(L),D.push(L))}Z(D)}function H(D){let L=[];for(let[G,q]of S)if(q<D){let R=a.fetchers.get(G);_e(R,"Expected fetcher: "+G),R.state==="loading"&&(K(G),S.delete(G),L.push(G))}return Z(L),L.length>0}function j(D){let L=[];return B.forEach((G,q)=>{(!D||D(q))&&(G.cancel(),L.push(q),B.delete(q))}),L}function Y(D,L,G){if(l=D,y=L,g=G||(q=>q.key),!u&&a.navigation===El){u=!0;let q=W(a.location,a.matches);q!=null&&J({restoreScrollPosition:q})}return()=>{l=null,y=null,g=null}}function V(D,L){if(l&&g&&y){let G=L.map(R=>Ap(R,a.loaderData)),q=g(D,G)||D.key;l[q]=y()}}function W(D,L){if(l&&g&&y){let G=L.map(ee=>Ap(ee,a.loaderData)),q=g(D,G)||D.key,R=l[q];if(typeof R=="number")return R}return null}return o={get basename(){return e.basename},get state(){return a},get routes(){return t},initialize:Q,subscribe:le,enableScrollRestoration:Y,navigate:ue,fetch:M,revalidate:de,createHref:D=>e.history.createHref(D),encodeLocation:D=>e.history.encodeLocation(D),getFetcher:A,deleteFetcher:z,dispose:ie,_internalFetchControllers:x,_internalActiveDeferreds:B},o}function N$(e){return e!=null&&"formData"in e}function bp(e,t,r){r===void 0&&(r=!1);let n=typeof e=="string"?e:jr(e);if(!t||!N$(t))return{path:n};if(t.formMethod&&!G$(t.formMethod))return{path:n,error:Kr(405,{method:t.formMethod})};let l;if(t.formData&&(l={formMethod:t.formMethod||"get",formAction:mm(n),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},qr(l.formMethod)))return{path:n,submission:l};let g=pr(n);try{let y=vm(t.formData);r&&g.search&&_m(g.search)&&y.append("index",""),g.search="?"+y}catch{return{path:n,error:Kr(400)}}return{path:jr(g),submission:l}}function z$(e,t){let r=e;if(t){let n=e.findIndex(l=>l.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function Cp(e,t,r,n,l,g,y,u,i,h){let d=i?Object.values(i)[0]:u?Object.values(u)[0]:void 0,o=i?Object.keys(i)[0]:void 0,s=z$(t,o).filter((p,f)=>p.route.loader!=null&&(H$(e.loaderData,e.matches[f],p)||g.some(v=>v===p.route.id)||Sp(e.location,e.matches[f],r,n,p,l,d))),c=[];return h&&h.forEach((p,f)=>{let[v,m,_]=p;y.includes(f)?c.push([f,v,m,_]):l&&Sp(v,m,r,v,m,l,d)&&c.push([f,v,m,_])}),[s,c]}function H$(e,t,r){let n=!t||r.route.id!==t.route.id,l=e[r.route.id]===void 0;return n||l}function gm(e,t){let r=e.route.path;return e.pathname!==t.pathname||r&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Sp(e,t,r,n,l,g,y){let u=Pa(e),i=t.params,h=Pa(n),d=l.params,o=gm(t,l)||u.toString()===h.toString()||u.search!==h.search||g;if(l.route.shouldRevalidate){let a=l.route.shouldRevalidate(Te({currentUrl:u,currentParams:i,nextUrl:h,nextParams:d},r,{actionResult:y,defaultShouldRevalidate:o}));if(typeof a=="boolean")return a}return o}async function zi(e,t,r,n,l,g,y,u){l===void 0&&(l="/"),g===void 0&&(g=!1),y===void 0&&(y=!1);let i,h,d,o=new Promise((s,c)=>d=c),a=()=>d();t.signal.addEventListener("abort",a);try{let s=r.route[e];_e(s,"Could not find the "+e+' to run on the "'+r.route.id+'" route'),h=await Promise.race([s({request:t,params:r.params,context:u}),o]),_e(h!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(s){i=Ve.error,h=s}finally{t.signal.removeEventListener("abort",a)}if(X$(h)){let s=h.status;if(R$.has(s)){let f=h.headers.get("Location");if(_e(f,"Redirects returned/thrown from loaders/actions must have a Location header"),!(/^[a-z+]+:\/\//i.test(f)||f.startsWith("//"))){let m=n.slice(0,n.indexOf(r)+1),_=bh(m).map(w=>w.pathnameBase),x=fm(f,_,new URL(t.url).pathname);if(_e(jr(x),"Unable to resolve redirect location: "+f),l){let w=x.pathname;x.pathname=w==="/"?l:Dr([l,w])}f=jr(x)}if(g)throw h.headers.set("Location",f),h;return{type:Ve.redirect,status:s,location:f,revalidate:h.headers.get("X-Remix-Revalidate")!==null}}if(y)throw{type:i||Ve.data,response:h};let c,p=h.headers.get("Content-Type");return p&&/\bapplication\/json\b/.test(p)?c=await h.json():c=await h.text(),i===Ve.error?{type:i,error:new Is(s,h.statusText,c),headers:h.headers}:{type:Ve.data,data:c,statusCode:h.status,headers:h.headers}}return i===Ve.error?{type:i,error:h}:h instanceof P$?{type:Ve.deferred,deferredData:h}:{type:Ve.data,data:h}}function Hi(e,t,r){let n=Pa(mm(e)).toString(),l={signal:t};if(r&&qr(r.formMethod)){let{formMethod:g,formEncType:y,formData:u}=r;l.method=g.toUpperCase(),l.body=y==="application/x-www-form-urlencoded"?vm(u):u}return new Request(n,l)}function vm(e){let t=new URLSearchParams;for(let[r,n]of e.entries())_e(typeof n=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),t.append(r,n);return t}function U$(e,t,r,n,l){let g={},y=null,u,i=!1,h={};return r.forEach((d,o)=>{let a=t[o].route.id;if(_e(!ni(d),"Cannot handle redirect results in processLoaderData"),sa(d)){let s=qn(e,a),c=d.error;n&&(c=Object.values(n)[0],n=void 0),y=y||{},y[s.route.id]==null&&(y[s.route.id]=c),g[a]=void 0,i||(i=!0,u=dm(d.error)?d.error.status:500),d.headers&&(h[a]=d.headers)}else en(d)?(l&&l.set(a,d.deferredData),g[a]=d.deferredData.data):(g[a]=d.data,d.statusCode!=null&&d.statusCode!==200&&!i&&(u=d.statusCode),d.headers&&(h[a]=d.headers))}),n&&(y=n,g[Object.keys(n)[0]]=void 0),{loaderData:g,errors:y,statusCode:u||200,loaderHeaders:h}}function Tp(e,t,r,n,l,g,y,u){let{loaderData:i,errors:h}=U$(t,r,n,l,u);for(let d=0;d<g.length;d++){let[o,,a]=g[d];_e(y!==void 0&&y[d]!==void 0,"Did not find corresponding fetcher result");let s=y[d];if(sa(s)){let c=qn(e.matches,a.route.id);h&&h[c.route.id]||(h=Te({},h,{[c.route.id]:s.error})),e.fetchers.delete(o)}else{if(ni(s))throw new Error("Unhandled fetcher revalidation redirect");if(en(s))throw new Error("Unhandled fetcher deferred data");{let c={state:"idle",data:s.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(o,c)}}}return{loaderData:i,errors:h}}function Ep(e,t,r,n){let l=Te({},t);for(let g of r){let y=g.route.id;if(t.hasOwnProperty(y)?t[y]!==void 0&&(l[y]=t[y]):e[y]!==void 0&&(l[y]=e[y]),n&&n.hasOwnProperty(y))break}return l}function qn(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Op(e){let t=e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Kr(e,t){let{pathname:r,routeId:n,method:l}=t===void 0?{}:t,g="Unknown Server Error",y="Unknown @remix-run/router error";return e===400?(g="Bad Request",l&&r&&n?y="You made a "+l+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":y="Cannot submit binary form data using GET"):e===403?(g="Forbidden",y='Route "'+n+'" does not match URL "'+r+'"'):e===404?(g="Not Found",y='No route matches URL "'+r+'"'):e===405&&(g="Method Not Allowed",l&&r&&n?y="You made a "+l.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":l&&(y='Invalid request method "'+l.toUpperCase()+'"')),new Is(e||500,g,new Error(y),!0)}function Pp(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(ni(r))return r}}function mm(e){let t=typeof e=="string"?pr(e):e;return jr(Te({},t,{hash:""}))}function W$(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function en(e){return e.type===Ve.deferred}function sa(e){return e.type===Ve.error}function ni(e){return(e&&e.type)===Ve.redirect}function X$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function G$(e){return F$.has(e)}function qr(e){return M$.has(e)}async function kp(e,t,r,n,l,g){for(let y=0;y<r.length;y++){let u=r[y],i=t[y],h=e.find(o=>o.route.id===i.route.id),d=h!=null&&!gm(h,i)&&(g&&g[i.route.id])!==void 0;en(u)&&(l||d)&&await ym(u,n,l).then(o=>{o&&(r[y]=o||r[y])})}}async function ym(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:Ve.data,data:e.deferredData.unwrappedData}}catch(l){return{type:Ve.error,error:l}}return{type:Ve.data,data:e.deferredData.data}}}function _m(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ap(e,t){let{route:r,pathname:n,params:l}=e;return{id:r.id,pathname:n,params:l,data:t[r.id],handle:r.handle}}function Mp(e,t){let r=typeof t=="string"?pr(t).search:t.search;if(e[e.length-1].route.index&&_m(r||""))return e[e.length-1];let n=bh(e);return n[n.length-1]}/**
 * React Router v6.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},is.apply(this,arguments)}function Y$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const V$=typeof Object.is=="function"?Object.is:Y$,{useState:K$,useEffect:q$,useLayoutEffect:Q$,useDebugValue:J$}=Pl;function Z$(e,t,r){const n=t(),[{inst:l},g]=K$({inst:{value:n,getSnapshot:t}});return Q$(()=>{l.value=n,l.getSnapshot=t,Ol(l)&&g({inst:l})},[e,n,t]),q$(()=>(Ol(l)&&g({inst:l}),e(()=>{Ol(l)&&g({inst:l})})),[e]),J$(n),n}function Ol(e){const t=e.getSnapshot,r=e.value;try{const n=t();return!V$(r,n)}catch{return!0}}function ej(e,t,r){return t()}const tj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rj=!tj,nj=rj?ej:Z$,ij="useSyncExternalStore"in Pl?(e=>e.useSyncExternalStore)(Pl):nj,Ch=ne.createContext(null),Sh=ne.createContext(null),Th=ne.createContext(null),Bs=ne.createContext(null),Ua=ne.createContext({outlet:null,matches:[]}),xm=ne.createContext(null);function Ns(){return ne.useContext(Bs)!=null}function wm(){return Ns()||_e(!1),ne.useContext(Bs).location}function bm(){Ns()||_e(!1);let{basename:e,navigator:t}=ne.useContext(Th),{matches:r}=ne.useContext(Ua),{pathname:n}=wm(),l=JSON.stringify(bh(r).map(u=>u.pathnameBase)),g=ne.useRef(!1);return ne.useEffect(()=>{g.current=!0}),ne.useCallback(function(u,i){if(i===void 0&&(i={}),!g.current)return;if(typeof u=="number"){t.go(u);return}let h=fm(u,JSON.parse(l),n,i.relative==="path");e!=="/"&&(h.pathname=h.pathname==="/"?e:Dr([e,h.pathname])),(i.replace?t.replace:t.push)(h,i.state,i)},[e,t,l,n])}function aj(e,t){Ns()||_e(!1);let{navigator:r}=ne.useContext(Th),n=ne.useContext(Sh),{matches:l}=ne.useContext(Ua),g=l[l.length-1],y=g?g.params:{};g&&g.pathname;let u=g?g.pathnameBase:"/";g&&g.route;let i=wm(),h;if(t){var d;let p=typeof t=="string"?pr(t):t;u==="/"||(d=p.pathname)!=null&&d.startsWith(u)||_e(!1),h=p}else h=i;let o=h.pathname||"/",a=u==="/"?o:o.slice(u.length)||"/",s=qi(e,{pathname:a}),c=uj(s&&s.map(p=>Object.assign({},p,{params:Object.assign({},y,p.params),pathname:Dr([u,r.encodeLocation?r.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Dr([u,r.encodeLocation?r.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),l,n||void 0);return t&&c?ne.createElement(Bs.Provider,{value:{location:is({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Be.Pop}},c):c}function oj(){let e=dj(),t=dm(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:n},g={padding:"2px 4px",backgroundColor:n};return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unhandled Thrown Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},t),r?ne.createElement("pre",{style:l},r):null,ne.createElement("p",null," Hey developer "),ne.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own",ne.createElement("code",{style:g},"errorElement")," props on",ne.createElement("code",{style:g},"<Route>")))}class sj extends ne.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location?{error:t.error,location:t.location}:{error:t.error||r.error,location:r.location}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?ne.createElement(Ua.Provider,{value:this.props.routeContext},ne.createElement(xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lj(e){let{routeContext:t,match:r,children:n}=e,l=ne.useContext(Ch);return l&&l.static&&l.staticContext&&r.route.errorElement&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),ne.createElement(Ua.Provider,{value:t},n)}function uj(e,t,r){if(t===void 0&&(t=[]),e==null)if(r!=null&&r.errors)e=r.matches;else return null;let n=e,l=r==null?void 0:r.errors;if(l!=null){let g=n.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id]));g>=0||_e(!1),n=n.slice(0,Math.min(n.length,g+1))}return n.reduceRight((g,y,u)=>{let i=y.route.id?l==null?void 0:l[y.route.id]:null,h=r?y.route.errorElement||ne.createElement(oj,null):null,d=t.concat(n.slice(0,u+1)),o=()=>ne.createElement(lj,{match:y,routeContext:{outlet:g,matches:d}},i?h:y.route.element!==void 0?y.route.element:g);return r&&(y.route.errorElement||u===0)?ne.createElement(sj,{location:r.location,component:h,error:i,children:o(),routeContext:{outlet:null,matches:d}}):o()},null)}var Dp;(function(e){e.UseRevalidator="useRevalidator"})(Dp||(Dp={}));var as;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(as||(as={}));function cj(e){let t=ne.useContext(Sh);return t||_e(!1),t}function hj(e){let t=ne.useContext(Ua);return t||_e(!1),t}function fj(e){let t=hj(),r=t.matches[t.matches.length-1];return r.route.id||_e(!1),r.route.id}function dj(){var e;let t=ne.useContext(xm),r=cj(as.UseRouteError),n=fj(as.UseRouteError);return t||((e=r.errors)==null?void 0:e[n])}function pj(e){let{fallbackElement:t,router:r}=e,n=ij(r.subscribe,()=>r.state,()=>r.state),l=ne.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:y=>r.navigate(y),push:(y,u,i)=>r.navigate(y,{state:u,preventScrollReset:i==null?void 0:i.preventScrollReset}),replace:(y,u,i)=>r.navigate(y,{replace:!0,state:u,preventScrollReset:i==null?void 0:i.preventScrollReset})}),[r]),g=r.basename||"/";return ne.createElement(ne.Fragment,null,ne.createElement(Ch.Provider,{value:{router:r,navigator:l,static:!1,basename:g}},ne.createElement(Sh.Provider,{value:n},ne.createElement(vj,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:l},r.state.initialized?ne.createElement(mj,null):t))),null)}function gj(e){_e(!1)}function vj(e){let{basename:t="/",children:r=null,location:n,navigationType:l=Be.Pop,navigator:g,static:y=!1}=e;Ns()&&_e(!1);let u=t.replace(/^\/*/,"/"),i=ne.useMemo(()=>({basename:u,navigator:g,static:y}),[u,g,y]);typeof n=="string"&&(n=pr(n));let{pathname:h="/",search:d="",hash:o="",state:a=null,key:s="default"}=n,c=ne.useMemo(()=>{let p=hm(h,u);return p==null?null:{pathname:p,search:d,hash:o,state:a,key:s}},[u,h,d,o,a,s]);return c==null?null:ne.createElement(Th.Provider,{value:i},ne.createElement(Bs.Provider,{children:r,value:{location:c,navigationType:l}}))}function mj(e){let{children:t,location:r}=e,n=ne.useContext(Ch),l=n&&!t?n.router.routes:$u(t);return aj(l,r)}var Fp;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(Fp||(Fp={}));new Promise(()=>{});function $u(e,t){t===void 0&&(t=[]);let r=[];return ne.Children.forEach(e,(n,l)=>{if(!ne.isValidElement(n))return;if(n.type===ne.Fragment){r.push.apply(r,$u(n.props.children,t));return}n.type!==gj&&_e(!1),!n.props.index||!n.props.children||_e(!1);let g=[...t,l],y={id:n.props.id||g.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,hasErrorBoundary:n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle};n.props.children&&(y.children=$u(n.props.children,g)),r.push(y)}),r}function Cm(e){return e.map(t=>{let r=is({},t);return r.hasErrorBoundary==null&&(r.hasErrorBoundary=r.errorElement!=null),r.children&&(r.children=Cm(r.children)),r})}/**
 * React Router DOM v6.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ju.apply(this,arguments)}function yj(e,t){return B$({basename:t==null?void 0:t.basename,history:a$({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||_j(),routes:Cm(e)}).initialize()}function _j(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=ju({},t,{errors:xj(t.errors)})),t}function xj(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,l]of t)if(l&&l.__type==="RouteErrorResponse")r[n]=new Is(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){let g=new Error(l.message);g.stack="",r[n]=g}else r[n]=l;return r}var Rp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Rp||(Rp={}));var Lp;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lp||(Lp={}));function wj(){const[e,t]=ne.useState(""),r=bm(),n=l=>{t(l)};return ne.useEffect(()=>{e&&(localStorage.setItem("fileUrl",e),r("/editor"))},[e]),Se("div",{className:"flex justify-center items-center w-2/3 h-screen mx-auto",children:Bt("div",{className:"bg-white p-4 flex flex-col rounded-lg shadow-xl flex-1",children:[Se(o_,{onDropimage:n,mainIcon:a_,subtitleText:"Drag and drop file here to upload"}),Se(s_,{onUpload:n,text:"Select from computer",icon:i_})]})})}const bj=["Su","Mo","Tu","We","Th","Fr","Sa"],Cj={weekFontSize:12,weekFontFamily:"monospace",weekTextAlign:"center",weekTotalWidth:200,weekSpaceBetween:0},Sj={top:10,left:10,monthNameFontFamily:"monospace",monthNameFontSize:20,monthNameTop:10,monthRectWidth:220,monthRectHeight:210,monthRectFill:"rgba(211, 211, 211, 0.5)",weekDaysTop:48,weekTopIncrement:24},Tj={monthTopSpacing:20,monthLeftSpacing:20,numberOfMonths:12,numberOfMonthsPerRow:4,monthWidth:240,monthHeight:230};var Cr=(e=>(e.TREEBYFOUR="3X4",e.SIXBYTWO="6X2",e.FOURBYTHREE="4X3",e))(Cr||{});const $p=(e,t)=>{const r={...Cj,...t},n=e.map(y=>{const u=new ar.fabric.Text(y,{fontSize:r.weekFontSize,originX:"center",originY:"top",fontFamily:r.weekFontFamily,textAlign:r.weekTextAlign});return u.width=20,u}),l=n.reduce((y,u)=>y+(u.width||0),0);r.weekSpaceBetween=((r.weekTotalWidth||0)-l)/(n.length-1);let g=0;for(let y=0;y<n.length;y++){const u=n[y].width||0;n[y].left=g,g=g+u+r.weekSpaceBetween}return new ar.fabric.Group(n,{left:0,top:r.top,originX:"center",originY:"center"})},Ej=(e,t,r)=>{const n={...Sj,...r};let l=(n==null?void 0:n.weekDaysTop)||0;const g=new Date(e,t),y=g.toLocaleString("en-US",{month:"long"}),u=new ar.fabric.Rect({width:n.monthRectWidth,height:n.monthRectHeight,fill:n.monthRectFill,originX:"center",originY:"top"}),i=new ar.fabric.Text(y,{top:n.monthNameTop,fontSize:n.monthNameFontSize,originX:"center",originY:"top",fontFamily:n.monthNameFontFamily}),h=$p(bj,{top:n.weekDaysTop||0}),d=[];do{const a=g.getDay(),s=new Array(7).fill(" ");for(let p=a;p<7&&(s[p]=g.getDate().toString(),g.setDate(g.getDate()+1),g.getDate()!==1);p++);l+=(n==null?void 0:n.weekTopIncrement)||0;const c=$p(s,{top:l});d.push(c)}while(g.getDate()!==1);return new ar.fabric.Group([u,i,h,...d],n)},Oj=(e,t)=>{const r={...Tj,...t};let n=(r==null?void 0:r.monthLeftSpacing)||0,l=(r==null?void 0:r.monthTopSpacing)||0;const g=[];for(let y=0;y<((r==null?void 0:r.numberOfMonths)||0);y++){const u=Ej(e,y,{top:l,left:n,monthRectFill:r==null?void 0:r.currentColor});g.push(u),n+=(r==null?void 0:r.monthWidth)||0,(y+1)%((r==null?void 0:r.numberOfMonthsPerRow)||0)===0&&(l+=(r==null?void 0:r.monthHeight)||0,n=20)}return new ar.fabric.Group(g,{scaleX:.75,scaleY:.75})},jp=(e,t)=>{const r={[Cr.TREEBYFOUR]:4,[Cr.SIXBYTWO]:2,[Cr.FOURBYTHREE]:3},n=t.currentColor,l=`rgba(${n.r}, ${n.g}, ${n.b}, ${n.a})`,g=r[t.currentLayout];return Oj(e,{currentColor:l,numberOfMonthsPerRow:g})},Pj=()=>{const e=bm(),[t,r]=ne.useState(null),[n,l]=ne.useState(null),[g,y]=ne.useState(""),u=ne.useRef(null),[i,h]=ne.useState({currentLayout:Cr.TREEBYFOUR,currentColor:{r:211,g:211,b:211,a:.5}});ne.useEffect(()=>{const p=localStorage.getItem("fileUrl");p&&y(p)},[]),ne.useEffect(()=>{a()},[i]);const d=p=>{if(!g)return;ar.fabric.Image.fromURL(g,(v,m)=>{if(m){e("/",{replace:!0});return}if(!p.getContext())return;const _=p.getWidth(),x=p.getHeight(),w=v.width||p.getWidth(),b=v.height||p.getHeight(),S=Math.min(_/w,x/b);p.setWidth(w*S),p.setHeight(b*S),v.scaleToWidth(p.getWidth()),v.selectable=!1,v.hoverCursor="default",p.add(v),p.sendToBack(v)});const f=jp(2023,i);p.add(f),r(p),l(f)},o=()=>{!t||!u.current||(u.current.href=t.toDataURL({format:"png"}),u.current.download="Calendar.png")},a=()=>{t==null||t.remove(n);let p=jp(2023,i);t==null||t.add(p),l(p)},s=p=>{h({...i,currentLayout:p})},c=p=>{h({...i,currentColor:p==null?void 0:p.rgb})};return Se("div",{className:"h-screen",children:g&&Bt("div",{className:"relative bg-slate-800 h-full flex flex-col items-center justify-center p-4",children:[Bt("div",{className:"flex flex-col absolute top-5 right-3 z-10",children:[Se("a",{className:"mt-2 text-black bg-slate-400 rounded-sm px-2 py-1 z-10 text-center",ref:u,onClick:o,children:"Export"}),Se("div",{className:"mt-4 text-white",children:Se(h_,{options:[Cr.TREEBYFOUR,Cr.SIXBYTWO,Cr.FOURBYTHREE],handleChange:s,activeOption:i==null?void 0:i.currentLayout,titleText:"Layout"})}),Se("div",{className:"mt-2 text-white",children:Se(i$,{currentColor:i==null?void 0:i.currentColor,handleColorChange:c,titleText:"Background "})})]}),Se(c_,{className:"w-full h-full flex items-center justify-center",onReady:d})]})})},kj=yj([{path:"/",element:Se(wj,{})},{path:"/editor",element:Se(Pj,{})}]);kl.createRoot(document.getElementById("root")).render(Se(E.StrictMode,{children:Se(pj,{router:kj})}))});export default Aj();
